var Pt=Object.defineProperty,Bt=Object.defineProperties;var Ot=Object.getOwnPropertyDescriptors;var Ze=Object.getOwnPropertySymbols;var Rt=Object.prototype.hasOwnProperty,Ut=Object.prototype.propertyIsEnumerable;var et=(s,t,a)=>t in s?Pt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[t]=a,f=(s,t)=>{for(var a in t||(t={}))Rt.call(t,a)&&et(s,a,t[a]);if(Ze)for(var a of Ze(t))Ut.call(t,a)&&et(s,a,t[a]);return s},L=(s,t)=>Bt(s,Ot(t));import{j as e,a as r,b as Tt,c as T,d as te,L as g,u as O,e as C,r as p,S as zt,A as At,E as jt,f as $t,P as Et,g as Dt,h as qt,R as A,i as we,k as V,t as _,l as J,B as U,m as Ht,n as Mt,N as F,o as Yt,p as Ft,q as Vt,s as Wt,v as Gt,w as Qt,x as Jt,O as at,y as Kt,z as Xt,C as re,D as st,F as Ae,G as ce,H as fe,_ as je,I as K,J as pe,K as Se,M as Ce,Q as se,T as ee,U as ne,V as z,W as _e,X as Zt,Y as ea,Z as $e,$ as Qe,a0 as Je,a1 as ta,a2 as X,a3 as w,a4 as Z,a5 as aa,a6 as sa,a7 as de,a8 as me,a9 as he,aa as ge,ab as rt,ac as lt,ad as it,ae as ra,af as la,ag as ia,ah as na,ai as ca,aj as oa,ak as da,al as ma,am as ha,an as ua,ao as fa,ap as pa,aq as ga,ar as k,as as ba,at as xa,au as va,av as Na,aw as ya,ax as wa,ay as Sa,az as Ca,aA as _a,aB as ka}from"./vendor.0f345765.js";const Ia=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))n(l);new MutationObserver(l=>{for(const d of l)if(d.type==="childList")for(const i of d.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function a(l){const d={};return l.integrity&&(d.integrity=l.integrity),l.referrerpolicy&&(d.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?d.credentials="include":l.crossorigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function n(l){if(l.ep)return;l.ep=!0;const d=a(l);fetch(l.href,d)}};Ia();function La(){return e("div",{children:"AboutPage"})}function Pa(){return e("div",{className:"hidden bg-sky-100 px-4 md:block md:px-20",children:r("div",{className:"mx-auto flex flex-col justify-center md:flex-row",children:[r("div",{className:"relative flex items-start justify-center  px-4 py-2 before:absolute before:top-1/2 before:right-0 before:h-[80px] before:w-0 before:-translate-y-1/2 before:border-r md:py-8 md:px-[25px]",children:[e("img",{src:"https://italic.com/static/images/orange.png",alt:"img",className:"h-[50px] w-[50px]"}),r("div",{className:"ml-5 flex flex-col ",children:[e("p",{className:"mb-2 font-medium text-blacklight",children:"Premium Quality"}),e("p",{className:"text-xs text-gray-500",children:"We rigorously test every product to ensure it meets or exceeds the quality of leading brands. Otherwise, we won't sell it."})]})]}),r("div",{className:"relative flex items-start justify-center  px-4 py-2 before:absolute before:top-1/2 before:right-0 before:h-[80px] before:w-0 before:-translate-y-1/2 before:border-r md:py-8 md:px-[25px]",children:[e("img",{src:"https://italic.com/static/images/star.png",alt:"img",className:"h-[50px] w-[50px]"}),r("div",{className:"ml-5 flex flex-col ",children:[e("p",{className:"mb-2 font-medium text-blacklight",children:"Unparalleled Prices"}),e("p",{className:"text-xs text-gray-500",children:"We've eliminated traditional brand and retail markups, so you pay 50-80% less for the exact same quality."})]})]}),r("div",{className:"relative flex items-start justify-center  px-4 py-2 before:absolute before:top-1/2 before:right-0 before:h-[80px] before:w-0 before:-translate-y-1/2 before:border-r md:py-8 md:px-[25px]",children:[e("img",{src:"https://italic.com/static/images/oliveleaf.png",alt:"img",className:"h-[50px] w-[50px]"}),r("div",{className:"ml-5 flex flex-col ",children:[e("p",{className:"mb-2 font-medium text-blacklight",children:"Straight From the Source"}),e("p",{className:"text-xs text-gray-500",children:"Shopping on Italic means supporting a network of independent manufacturers (the same ones behind your favorite brands)."})]})]})]})})}const j=Tt.create({baseURL:"https://italic-ecommerce-api-production.up.railway.app/"}),W=()=>localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")||""):!1,G=()=>{const s=W();return s&&s.token?{headers:{Authorization:`Bearer ${s.token}`}}:{}},Ba=()=>{const s="/api/herobanner";return j.get(s)},Oa=s=>{const t=`/api/herobanner/${W().user._id}`;return j.post(t,s,G())},Ra=s=>{const t=`/api/herobanner/${W().user._id}/${s}`;return j.delete(t,G())},Ua=s=>{const t=`/api/herobanner/${W().user._id}/${s._id}`;return j.put(t,s,G())},Ta={banner:[],loading:!1,status:"idle",error:null},be=T("banner/fetchBanners",async()=>{const{data:s}=await Ba();return s}),ke=T("banner/createBanner",async s=>{const{data:t}=await Oa(s);return t}),Ie=T("banner/updateBanner",async s=>{const{data:t}=await Ua(s);return t}),Fe=T("banner/removeBanner",async s=>{const{data:t}=await Ra(s);return t}),za=te({name:"banner",initialState:Ta,reducers:{},extraReducers:s=>{s.addCase(be.pending,t=>{t.loading=!0}),s.addCase(be.fulfilled,(t,a)=>{t.banner=a.payload,t.loading=!1,t.status="success"}),s.addCase(be.rejected,(t,a)=>{t.loading=!1,t.status="error",t.error=a.error.message}),s.addCase(ke.pending,t=>{t.loading=!0}),s.addCase(ke.fulfilled,(t,a)=>{t.banner.push(a.payload),t.loading=!1,t.status="success"}),s.addCase(ke.rejected,(t,a)=>{t.loading=!1,t.status="error",t.error=a.error.message}),s.addCase(Ie.pending,t=>{t.loading=!0}),s.addCase(Ie.fulfilled,(t,a)=>{const n=a.payload,l=t.banner.find(d=>d._id===n._id);l.title=n.title,l.subtitle=n.subtitle,l.buttonText=n.buttonText,l.buttonLink=n.buttonLink,l.imageUrl=n.imageUrl,l.imageName=n.imageName,l.status=n.status,t.loading=!1,t.status="success"}),s.addCase(Ie.rejected,(t,a)=>{t.loading=!1,t.status="error",t.error=a.error.message}),s.addCase(Fe.pending,t=>{t.loading=!0}),s.addCase(Fe.fulfilled,(t,a)=>{const{_id:n}=a.payload,l=t.banner.findIndex(d=>d._id===n);t.banner.splice(l,1),t.loading=!1,t.status="success"})}}),Aa=(s,t)=>s.banner.banner.find(a=>a._id===t);var ja=za.reducer;function $a({data:s}){const{title:t,subtitle:a,buttonText:n,buttonLink:l,imageUrl:d,imageName:i}=s;return e("div",{className:"hero   bg-base-200",children:r("div",{className:"hero-content grid  w-full max-w-full grid-cols-2 bg-blacklight p-0",children:[r("div",{className:"-translate-y-[50px] px-20 text-white",children:[e("h1",{className:"font-serif text-5xl ",children:t}),e("p",{className:"py-6 text-sm",children:a}),e(g,{to:l,type:"button",className:"btn min-h-6 h-[2.5rem] rounded bg-white px-6 py-1 text-[12px] text-gray-700   hover:bg-cyan-100",children:n})]}),e("img",{src:d,alt:i,className:"object-cover md:h-[565px] md:w-[725px]"})]})})}function Ea(){const s=O(),t=C(n=>n.banner.banner);p.exports.useEffect(()=>{s(be())},[s]);const a=t==null?void 0:t.filter(n=>n.status===0);return e(zt,{effect:"fade",pagination:!0,loop:!0,spaceBetween:50,slidesPerView:1,autoplay:{delay:2500,disableOnInteraction:!1},lazy:!0,modules:[At,jt,$t,Et],className:"hidden min-h-[65vh] md:block",children:a==null?void 0:a.map(n=>e(Dt,{children:e($a,{data:n})},n._id))})}const nt=()=>{const s="/api/products";return j.get(s)},ct=s=>{const t=`/api/products/${W().user._id}`;return j.post(t,s,G())},ot=s=>{const t=`/api/products/${W().user._id}/${s}`;return j.delete(t,G())},dt=s=>{const t=`/api/products/${W().user._id}/${s._id}`;return j.put(t,s,G())},Da=s=>{if(!s||s==="")return;const t=`/api/products/?q=${s}`;return j.get(t)},qa={products:[],loading:!1,status:"idle"},xe=T("products/fetchProducts",async()=>{const{data:s}=await nt();return s}),qe=T("products/addNewProduct",async s=>{const{data:t}=await ct(s);return t}),He=T("products/updateProduct",async s=>{const{data:t}=await dt(s);return t}),Le=T("products/deleteProduct",async s=>{const{data:t}=await ot(s);return t});te({name:"products",initialState:qa,reducers:{},extraReducers:s=>{s.addCase(xe.pending,t=>{t.loading=!0}),s.addCase(xe.fulfilled,(t,a)=>{t.products=a.payload,t.loading=!1,t.status="success"}),s.addCase(xe.rejected,t=>{t.loading=!1,t.status="error"}),s.addCase(qe.pending,t=>{t.loading=!0}),s.addCase(qe.fulfilled,(t,a)=>{t.products.push(a.payload),t.loading=!1,t.status="success"}),s.addCase(qe.rejected,t=>{t.loading=!1,t.status="error"}),s.addCase(He.pending,t=>{t.loading=!0}),s.addCase(He.fulfilled,(t,a)=>{const n=a.payload,l=t.products.find(d=>d._id===n._id);l.name=n.name,l.price=n.price,l.description=n.description,l.image=n.image,l.imageName=n.imageName,l.category=n.category,l.stock=n.stock,l.status=n.status,l.updatedAt=n.updatedAt,t.loading=!1,t.status="success"}),s.addCase(He.rejected,t=>{t.loading=!1,t.status="error"}),s.addCase(Le.pending,t=>{t.loading=!0}),s.addCase(Le.fulfilled,(t,a)=>{const{_id:n}=a.payload,l=t.products.find(d=>d._id===n);t.products.splice(t.products.indexOf(l),1),t.loading=!1,t.status="success"}),s.addCase(Le.rejected,t=>{t.loading=!1,t.status="error"})}});const Ha=()=>{const s="/api/categories";return j.get(s)},Ma=s=>{const t=`/api/categories/${s}`;return j.get(t)},Ya=s=>{const t=`/api/categories/${W().user._id}`;return j.post(t,s,G())},Fa=s=>{const t=`/api/categories/${W().user._id}/${s._id}`;return j.put(t,s,G())},Va=s=>{const t=`/api/categories/${W().user._id}/${s}`;return j.delete(t,G())},Wa={categories:[],loading:!1,status:"idle"},le=T("categories/fetchCategories",async()=>{const{data:s}=await Ha();return s}),Pe=T("categories/createCategory",async s=>{const{data:t}=await Ya(s);return t}),Be=T("categories/updateCategory",async s=>{const{data:t}=await Fa(s);return t}),Ve=T("categories/deleteCategory",async s=>{const{data:t}=await Va(s);return t}),Ga=te({name:"categories",initialState:Wa,reducers:{},extraReducers:s=>{s.addCase(le.pending,t=>{t.loading=!0}),s.addCase(le.fulfilled,(t,a)=>{t.categories=a.payload,t.loading=!1,t.status="success"}),s.addCase(le.rejected,t=>{t.loading=!1,t.status="error"}),s.addCase(Pe.pending,t=>{t.loading=!0}),s.addCase(Pe.fulfilled,(t,a)=>{t.categories.push(a.payload),t.loading=!1,t.status="success"}),s.addCase(Pe.rejected,t=>{t.loading=!1,t.status="error"}),s.addCase(Be.pending,t=>{t.loading=!0}),s.addCase(Be.fulfilled,(t,a)=>{const{_id:n,name:l}=a.payload,d=t.categories.find(i=>i._id===n);d.name=l,t.loading=!1,t.status="success"}),s.addCase(Be.rejected,t=>{t.loading=!1,t.status="error"}),s.addCase(Ve.pending,t=>{t.loading=!0}),s.addCase(Ve.fulfilled,(t,a)=>{const{_id:n}=a.payload,l=t.categories.find(d=>d._id===n);t.categories.splice(t.categories.indexOf(l),1),t.loading=!1,t.status="success"})}}),mt=s=>s.categories.categories,Qa=(s,t)=>s.categories.categories.find(n=>n._id===t);var Ja=Ga.reducer;const E=s=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(s);function ht({product:s}){const{name:t,price:a,_id:n,image:l,imageName:d}=s,i=C(mt);return e("div",{className:"p-2 shadow drop-shadow-md",children:r("div",{className:"group relative",children:[e("div",{className:"min-h-80 aspect-w-1 aspect-h-1 lg:aspect-none w-full overflow-hidden rounded-md bg-gray-200 group-hover:opacity-75 lg:h-80",children:s?e("img",{alt:d,src:l,className:"h-full w-full object-cover object-center lg:h-full lg:w-full"}):e(qt,{variant:"rectangular",animation:"wave",width:"full"})}),r("div",{className:"mt-4 flex justify-between",children:[r("div",{children:[e("h3",{className:"text-sm text-gray-700",children:r(g,{to:`/products/${n}`,children:[e("span",{"aria-hidden":"true",className:"absolute inset-0"}),t]})}),e("p",{className:"mt-1 text-sm text-gray-500",children:i==null?void 0:i.map(b=>b._id===s.category?b.name:!1)})]}),e("p",{className:"text-sm font-semibold  text-gray-900",children:E(a)})]})]})})}function ut(){const s=O(),{products:t,loading:a}=C(l=>l.products);p.exports.useEffect(()=>{s(xe())},[s]);const n=t==null?void 0:t.filter(l=>l.status===0);return A.useEffect(()=>{document.title="Products"},[]),r("div",{className:"min-h-screen py-2 px-4 pb-20 md:px-20",children:[e("div",{className:"breadcrumbs text-xs text-gray-500",children:r("ul",{children:[e("li",{children:r(g,{to:"/",children:[e(we,{fontSize:"small"}),"Home"]})}),e("li",{children:e(g,{className:"font-semibold",to:"/products",children:"Products"})})]})}),e("h1",{className:"text-left text-lg font-bold italic ",children:"Products"}),!a&&e("div",{className:"mt-6 grid grid-cols-1 gap-y-10 gap-x-6 sm:grid-cols-2 lg:grid-cols-4 xl:gap-x-8",children:n==null?void 0:n.map(l=>e(ht,{product:l},l._id))}),a&&e("div",{className:" absolute top-1/2 right-1/2 flex min-h-fit items-center justify-center",children:e(V.PacmanLoader,{color:"#34d399"})})]})}function Ka(){return A.useEffect(()=>{document.title="Home"},[]),r("div",{className:"pb-6",children:[e(Ea,{}),e(Pa,{}),e(ut,{})]})}const Xa=async s=>{const t="/api/users/signin",a=await j.post(t,s,G());return a.data.token&&localStorage.setItem("user",JSON.stringify(a.data)),a.data},Za=s=>{const t="/api/users/signup";return j.post(t,s)},es=()=>{localStorage.removeItem("user")},ts=async()=>{const s=`/api/users/${W().user._id}`;return(await j.get(s,G())).data},as=async s=>{const t=`/api/users/${W().user._id}`;return(await j.put(t,s,G())).data},ss={},ft=te({name:"message",initialState:ss,reducers:{setMessage:(s,t)=>({message:t.payload}),clearMessage:()=>({message:""})}}),{setMessage:Ke,clearMessage:ue}=ft.actions;var rs=ft.reducer;const tt=JSON.parse(localStorage.getItem("user")),ls=tt?{isLoggedIn:!0,user:tt}:{isLoggedIn:!1,user:null},We=T("auth/registerUser",async(s,t)=>{try{return(await Za(s)).data}catch(a){const n=a.response.data.message;return t.dispatch(Ke(n)),t.rejectWithValue(n)}}),Oe=T("auth/signIn",async(s,t)=>{try{return await Xa(s)}catch(a){const n=a.response&&a.response.data&&a.response.data.message||a.message||a.toString();return t.dispatch(Ke(n)),t.rejectWithValue(a)}}),pt=T("auth/logOut",async()=>{await es()}),gt=T("auth/changeInfo",async(s,t)=>{try{return await as(s)}catch(a){const n=a.response&&a.response.data&&a.response.data.message||a.message||a.toString();return t.dispatch(Ke(n)),t.rejectWithValue(a)}}),is=te({name:"auth",initialState:ls,reducers:{},extraReducers:s=>{s.addCase(We.fulfilled,(t,a)=>{t.user=a.payload,t.isLoggedIn=!1}),s.addCase(We.rejected,t=>{t.isLoggedIn=!1}),s.addCase(Oe.pending,t=>{t.error=null}),s.addCase(Oe.fulfilled,(t,a)=>{t.isLoggedIn=!0,t.user=a.payload}),s.addCase(Oe.rejected,(t,a)=>{t.error=a.payload}),s.addCase(pt.fulfilled,t=>{t.isLoggedIn=!1,t.user=null}),s.addCase(gt.fulfilled,(t,a)=>{const{user:n}=a.payload;t.user.user=n})}});var ns=is.reducer;const cs={items:[],totalAmount:0,totalCount:0},bt=te({name:"cart",initialState:cs,reducers:{getCartTotal:s=>{const{totalAmount:t,totalCount:a}=s.items.reduce((n,l)=>{const{price:d,amount:i}=l,b=d*i;return n.totalAmount+=b,L(f({},n),{totalCount:n.totalCount+i})},{totalAmount:0,totalCount:0});s.totalAmount=parseInt(t.toFixed(2),10),s.totalCount=a},addToCart:(s,t)=>{const{_id:a,name:n,price:l,image:d,imageName:i,category:b}=t.payload;if(s.items.find(o=>o._id===a)){const o=s.items.find(c=>c._id===a);o.amount+=1,o.total=o.price*o.amount,_(`\u{1F49A} Increase Success!, Total ${o.amount}`,{position:"bottom-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}else s.items.push({_id:a,name:n,price:l,image:d,imageName:i,category:b,amount:1,total:l}),_("\u270C Add to Cart Success! ",{position:"bottom-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},removeItem:(s,t)=>{s.items=s.items.filter(a=>a._id!==t.payload),_("\u{1F622} Remove from Cart!",{position:"bottom-left",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},increaseAmount:(s,t)=>{s.items=s.items.map(a=>a._id===t.payload?L(f({},a),{amount:a.amount+1}):a)},decreaseAmount:(s,t)=>{s.items=s.items.map(a=>a._id===t.payload?L(f({},a),{amount:a.amount-1}):a).filter(a=>a.amount>0)},clearCart:(s,t)=>{s.items=[]}}}),{getCartTotal:xt,addToCart:os,increaseAmount:ds,removeItem:ms,decreaseAmount:hs,clearCart:Xe}=bt.actions;var us=bt.reducer;function vt(){var d,i,b,o,c;const{isLoggedIn:s,user:t}=C(m=>m.auth),a=O(),n=J(),l=async()=>{await a(pt()),await a(Xe()),_("Logout success",{position:_.POSITION.BOTTOM_RIGHT}),n("/")};return e("div",{children:s?r("div",{className:"dropdown-end dropdown",children:[e("div",{tabIndex:0,className:"avatar btn btn-ghost btn-circle",children:e("div",{className:"w-10 rounded-full",children:e("img",{src:(d=t==null?void 0:t.user)==null?void 0:d.avatarUrl,alt:(i=t==null?void 0:t.user)==null?void 0:i.avatarName})})}),r("ul",{tabIndex:0,className:"dropdown-content menu rounded-box menu-compact w-44 bg-base-100 p-2 shadow shadow-gray-400",children:[r("div",{className:"px-4",children:[e("p",{className:"text-base font-medium ",children:(b=t.user)==null?void 0:b.name}),e("p",{className:"text-xs text-gray-500",children:(o=t.user)==null?void 0:o.email})]}),((c=t==null?void 0:t.user)==null?void 0:c.role)==="admin"&&e("li",{children:e(g,{className:"justify-between active:bg-teal-500",to:"/admin",children:"Dashboard"})}),e("li",{children:e(g,{className:"justify-between active:bg-teal-500",to:"/profile",children:"Profile"})}),e("li",{children:e(g,{className:"justify-between active:bg-teal-500",to:"/orders",children:"Orders"})}),e("li",{children:e("a",{children:"Settings"})}),e(U,{size:"medium",onClick:l,startIcon:e(Ht,{}),children:"Logout"})]})]}):r("div",{children:[e(g,{to:"/signin",className:"px-2 text-sm font-black normal-case",children:"Sign In"}),e(g,{to:"/signup",className:"px-2 text-sm font-black normal-case",children:"Sign Up"})]})})}function fs(){return e("div",{className:" mx-auto w-full rounded-l-2xl  md:px-4",children:e("nav",{className:"flex items-center justify-between py-8",children:r("div",{className:"mr-4 flex w-full items-center justify-between gap-2",children:[e("form",{action:"",children:r("div",{className:"relative flex shadow-md",children:[e("input",{type:"text",placeholder:"Search here...",className:"rounded border-2 border-sky-600 py-2 px-4 pr-8 outline-none transition-colors placeholder:italic  focus:border-sky-700 focus:shadow-sm focus:shadow-sky-400"}),e("button",{type:"button",className:"absolute right-0 items-center px-2 pt-[5px] text-xl text-gray-400 hover:text-sky-600",children:e(Mt,{})})]})}),e(vt,{})]})})})}function ps(){return e("nav",{className:"flex min-h-screen w-64 flex-row pr-14 ",children:r("div",{className:"fixed top-0 left-0 z-50 flex h-full min-h-screen w-56 flex-col overflow-hidden rounded-r-3xl bg-white  ",children:[e("div",{className:"flex h-20 items-center justify-center shadow-md",children:e("h1",{className:"text-3xl font-black uppercase text-sky-600",children:"LinhDQ"})}),r("ul",{className:"flex flex-col py-4",children:[e("li",{children:e(F,{to:"/admin/dashboard",className:"AdminLayout__link block h-12 transform items-center text-gray-500 transition-transform duration-200 ease-in hover:translate-x-2 hover:text-gray-800",children:r("span",{className:"flex items-center pl-12 text-sm font-medium",children:[e(Yt,{size:"1.25rem"}),"Home"]})})}),e("li",{children:e(F,{to:"/",className:"AdminLayout__link block h-12 transform items-center text-gray-500 transition-transform duration-200 ease-in hover:translate-x-2 hover:text-gray-800",children:r("span",{className:"flex items-center pl-12 text-sm font-medium",children:[e(Ft,{fontSize:"small"}),"Web"]})})}),e("li",{children:e(F,{to:"/admin/products",className:"AdminLayout__link block h-12 transform items-center text-gray-500 transition-transform duration-200 ease-in hover:translate-x-2 hover:text-gray-800",children:r("span",{className:"flex items-center pl-12 text-sm font-medium",children:[e(Vt,{size:"1.25rem"}),"Products"]})})}),e("li",{children:e(F,{to:"/admin/categories",className:"AdminLayout__link block h-12 transform items-center text-gray-500 transition-transform duration-200 ease-in hover:translate-x-2 hover:text-gray-800",children:r("span",{className:"flex items-center pl-12 text-sm font-medium",children:[e(Wt,{fontSize:"small"}),"Categories"]})})}),e("li",{children:e(F,{to:"/admin/orders",className:"AdminLayout__link block h-12 transform items-center text-gray-500 transition-transform duration-200 ease-in hover:translate-x-2 hover:text-gray-800",children:r("span",{className:"flex items-center pl-12 text-sm font-medium",children:[e(Gt,{fontSize:"small"}),"Orders"]})})}),e("li",{children:e(F,{to:"/admin/users",className:"AdminLayout__link block h-12 transform items-center text-gray-500 transition-transform duration-200 ease-in hover:translate-x-2 hover:text-gray-800",children:r("span",{className:"flex items-center pl-12 text-sm font-medium",children:[e(Qt,{fontSize:"small"}),"Users"]})})}),e("li",{children:e(F,{to:"/admin/banners",className:"AdminLayout__link block h-12 transform items-center text-gray-500 transition-transform duration-200 ease-in hover:translate-x-2 hover:text-gray-800",children:r("span",{className:"flex items-center pl-12 text-sm font-medium",children:[e(Jt,{fontSize:"small"}),"Banners"]})})})]})]})})}function gs(){return r("div",{className:"container-fluid admin-container font-fira flex flex-row bg-gray-100 font-OpenSans",children:[e(ps,{}),r("div",{className:"main-content relative ml-4 w-full rounded-l-2xl bg-white",children:[e(fs,{}),e("div",{className:"main-content py-2",children:e(at,{})})]})]})}const bs="_btn_1lupg_1";var Me={btn:bs};function xs(){return e("div",{className:"bg-blacklight",children:e("div",{className:" mx-auto w-auto",children:r("div",{className:"p-4 md:px-20 lg:px-20 lg:py-20",children:[r("div",{className:"grid grid-cols-1 border-b border-grayMirage pb-[70px] md:grid-cols-3 md:gap-x-16",children:[e("div",{children:r("div",{children:[e("p",{className:"mb-[10px] font-medium text-blueSage",children:"Our Mission"}),e("p",{className:"mb-2 text-sm leading-5 text-white md:mb-4",children:"To source, develop, and curate the highest quality products at the lowest prices."}),e(g,{to:"/",children:e("button",{type:"button",className:Me.btn,children:"Learn More"})})]})}),e("div",{children:r("div",{children:[e("p",{className:"mb-[10px] font-medium text-blueSage",children:"Request a Product"}),e("p",{className:"mb-2 text-sm leading-5 text-white md:mb-4",children:"Don't see what you're looking for? All you have to do is ask \u2014 we'll do our best to track down your request."}),e(g,{to:"/",children:e("button",{type:"button",className:Me.btn,children:"Submit Request"})})]})}),e("div",{children:r("div",{children:[e("p",{className:"mb-[10px] font-medium text-blueSage",children:"Share Site Feedback"}),e("p",{className:"mb-2 text-sm leading-5 text-white md:mb-4",children:"We're always looking for ways to improve our site. We'll send you credits if we implement your feedback."}),e(g,{to:"/",children:e("button",{type:"button",className:Me.btn,children:"Submit Feedback"})})]})})]}),r("div",{className:"mt-[70px]  grid grid-cols-2 sm:grid-cols-2 md:grid-cols-4 xl:gap-x-24",children:[r("div",{children:[e("h2",{className:"font-DancingScript text-3xl font-bold italic text-white",children:"LINHDQ"}),e("div",{className:"mt-8 w-auto",children:r("ul",{className:"flex flex-col gap-y-4",children:[e("li",{children:r(g,{className:"flex items-center gap-x-1 text-sm text-white",to:"/",children:[r("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-brand-instagram",width:"14",height:"14",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[e("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),e("rect",{x:"4",y:"4",width:"16",height:"16",rx:"4"}),e("circle",{cx:"12",cy:"12",r:"3"}),e("line",{x1:"16.5",y1:"7.5",x2:"16.5",y2:"7.501"})]}),"Instagram"]})}),e("li",{children:r(g,{className:"flex items-center gap-x-1 text-sm text-white",to:"/",children:[r("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-brand-twitter",width:"14",height:"14",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[e("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),e("path",{d:"M22 4.01c-1 .49 -1.98 .689 -3 .99c-1.121 -1.265 -2.783 -1.335 -4.38 -.737s-2.643 2.06 -2.62 3.737v1c-3.245 .083 -6.135 -1.395 -8 -4c0 0 -4.182 7.433 4 11c-1.872 1.247 -3.739 2.088 -6 2c3.308 1.803 6.913 2.423 10.034 1.517c3.58 -1.04 6.522 -3.723 7.651 -7.742a13.84 13.84 0 0 0 .497 -3.753c-.002 -.249 1.51 -2.772 1.818 -4.013z"})]}),"Twitter"]})}),e("li",{children:r(g,{className:"flex items-center gap-x-1 text-sm text-white",to:"/",children:[r("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-brand-facebook",width:"14",height:"14",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[e("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),e("path",{d:"M7 10v4h3v7h4v-7h3l1 -4h-4v-2a1 1 0 0 1 1 -1h3v-4h-3a5 5 0 0 0 -5 5v2h-3"})]}),"Facebook"]})}),e("li",{children:r(g,{className:"flex items-center gap-x-1 text-sm text-white",to:"/",children:[r("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-brand-youtube",width:"14",height:"14",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[e("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),e("rect",{x:"3",y:"5",width:"18",height:"14",rx:"4"}),e("path",{d:"M10 9l5 3l-5 3z"})]}),"Youtube"]})}),e("li",{children:r(g,{className:"flex items-center gap-x-1 text-sm text-white",to:"/",children:[r("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-brand-pinterest",width:"14",height:"14",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[e("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),e("line",{x1:"8",y1:"20",x2:"12",y2:"11"}),e("path",{d:"M10.7 14c.437 1.263 1.43 2 2.55 2c2.071 0 3.75 -1.554 3.75 -4a5 5 0 1 0 -9.7 1.7"}),e("circle",{cx:"12",cy:"12",r:"9"})]}),"Pinterest"]})})]})})]}),r("div",{children:[e("p",{className:"mb-[42px] text-base font-bold italic text-white",children:"Resources"}),e("div",{className:"mt-8 w-auto",children:r("ul",{className:"flex flex-col gap-y-4",children:[e("li",{children:e(g,{className:"flex items-center gap-x-1 text-sm text-white",to:"/",children:"Help Center"})}),e("li",{children:e(g,{className:"flex items-center gap-x-1 text-sm text-white",to:"/",children:"Returns"})}),e("li",{children:e(g,{className:"flex items-center gap-x-1 text-sm text-white",to:"/",children:"Privacy"})}),e("li",{children:e(g,{className:"flex items-center gap-x-1 text-sm text-white",to:"/",children:"Terms of Service"})}),e("li",{children:e(g,{className:"flex items-center gap-x-1 text-sm text-white",to:"/",children:"Accessibility Statement"})})]})})]}),r("div",{children:[e("p",{className:"mb-[42px] text-base font-bold italic text-white",children:"Business"}),e("div",{className:"mt-8 w-auto",children:r("ul",{className:"flex flex-col gap-y-4",children:[e("li",{children:e(g,{className:"flex items-center gap-x-1 text-sm text-white",to:"/",children:"About Us"})}),e("li",{children:e(g,{className:"flex items-center gap-x-1 text-sm text-white",to:"/",children:"How It works"})}),e("li",{children:e(g,{className:"flex items-center gap-x-1 text-sm text-white",to:"/",children:"Sell on Linh"})}),e("li",{children:e(g,{className:"flex items-center gap-x-1 text-sm text-white",to:"/",children:"Corporate Sales"})}),e("li",{children:e(g,{className:"flex items-center gap-x-1 text-sm text-white",to:"/",children:"Careers"})}),e("li",{children:e(g,{className:"flex items-center gap-x-1 text-sm text-white",to:"/",children:"Blog"})}),e("li",{children:e(g,{className:"flex items-center gap-x-1 text-sm text-white",to:"/",children:"Affiliate Program"})}),e("li",{children:e(g,{className:"flex items-center gap-x-1 text-sm text-white",to:"/",children:"Press"})})]})})]}),r("div",{children:[e("p",{className:"mb-[42px] text-base font-bold italic text-white",children:"Compare"}),e("div",{className:"mt-8 w-auto",children:r("ul",{className:"flex flex-col gap-y-4",children:[e("li",{children:e(g,{className:"flex items-center gap-x-1 text-sm text-white",to:"/",children:"All Clad"})}),e("li",{children:e(g,{className:"flex items-center gap-x-1 text-sm text-white",to:"/",children:"Le Creuset"})}),e("li",{children:e(g,{className:"flex items-center gap-x-1 text-sm text-white",to:"/",children:"Everlane"})}),e("li",{children:e(g,{className:"flex items-center gap-x-1 text-sm text-white",to:"/",children:"Naadam"})}),e("li",{children:e(g,{className:"flex items-center gap-x-1 text-sm text-white",to:"/",children:"Brooklinen"})})]})})]})]}),e("div",{className:"mt-16 text-center",children:e("p",{className:"font-DancingScript text-4xl font-bold text-slate-400",children:"DQL"})})]})})})}function vs(){const s=O(),{categories:t}=C(a=>a.categories);return p.exports.useEffect(()=>{s(le())},[s]),r("ul",{className:"flex flex-wrap gap-x-6 ",children:[e("li",{children:e(F,{to:"products",className:"NavLink inline-block border-b-2 border-transparent py-2  text-sm transition-transform hover:border-b-2 hover:border-black active:scale-90 2xl:text-base",children:"Products"})}),t==null?void 0:t.map((a,n)=>e("li",{children:e(F,{to:`/categories/${a._id}`,className:"NavLink inline-block border-b-2 border-transparent py-2 text-sm  transition-transform hover:border-b-2 hover:border-black active:scale-90 2xl:text-base",children:a.name})},n+1)),e("li",{children:e(F,{to:"about",className:"NavLink inline-block border-b-2 border-transparent py-2 text-sm  transition-transform hover:border-b-2 hover:border-black active:scale-90 2xl:text-base",children:"About"})})]})}function Ns(){return r("div",{className:"flex justify-between overflow-hidden px-4 py-[1px] md:px-20  ",children:[e(vs,{}),e("div",{className:"flex items-center justify-center",children:e("ul",{children:e("li",{children:e(g,{to:"/",className:"hidden rounded-full bg-gray-100 p-1 px-2  text-[13px]  italic antialiased transition-transform hover:text-black active:scale-90 sm:block",children:"Invite a friend"})})})})]})}function ys(){const{totalAmount:s,items:t}=C(n=>n.cart),a=O();return p.exports.useEffect(()=>{a(xt())},[t,a]),r("div",{className:"dropdown-end dropdown",children:[e("div",{tabIndex:0,className:"btn btn-ghost btn-circle ",children:r("div",{className:"indicator",children:[e("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})}),e("span",{className:"badge indicator-item badge-sm",children:t==null?void 0:t.length})]})}),e("div",{tabIndex:0,className:"border-base-400 card dropdown-content card-compact w-52 border-2 bg-base-200 shadow shadow-base-300",children:r("div",{className:"card-body",children:[r("span",{className:"text-lg font-bold",children:[t==null?void 0:t.length," Items"]}),r("span",{className:"font-semibold text-gray-700",children:["Subtotal: ",E(s)]}),e("div",{className:"card-actions",children:e(g,{to:"/cart",className:"w-full",children:e(U,{variant:"contained",startIcon:e(Kt,{}),className:"btn w-full bg-orangeLight text-white",children:"View Cart"})})})]})})]})}function ws(){const[s,t]=A.useState([]),[a,n]=A.useState(""),[l,d]=A.useState(!1),i=c=>{let m;return function(...v){const x=this;m&&clearTimeout(m),m=setTimeout(()=>{m=null,c.apply(x,v)},500)}},b=async c=>{const{value:m}=c.target;if(d(!0),m.length>2&&!l){const{data:v}=await Da(m);t(v),document.addEventListener("click",()=>{c.target.value="",t([])})}m.length===0&&(d(!1),t([]))},o=p.exports.useCallback(i(b),[]);return e("div",{className:" w-full flex-1 items-center px-2 ",children:e("form",{action:"",children:r("div",{className:"form-control relative w-full border-0 ",children:[r("div",{className:"input-group relative  ",children:[e("input",{type:"search",placeholder:"Search for products, categories, brands and more",className:"input h-[40px] w-full !rounded-full border-2 bg-gray-100 pr-8 !outline-0 ring-0  placeholder:text-slate-600 focus:border-sky-700 focus:bg-inherit ",onChange:o}),e("button",{type:"button",className:" absolute right-2 h-full border-0  bg-transparent",children:e("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-600 hover:text-sky-700",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]}),e("div",{className:"absolute inset-x-0 top-[100%] z-10 rounded-b-lg bg-white px-2 pb-1 shadow-lg md:max-h-[250px]",children:(s==null?void 0:s.length)>0&&r("div",{className:"flex flex-col p-4",children:[s==null?void 0:s.slice(0,5).map(c=>r("div",{className:"flex items-center",children:[e(g,{to:`/products/${c._id}`,className:"text-sm text-gray-900 hover:text-sky-700",onClick:()=>{t([])},children:c.name}),e("div",{className:"avatar",children:e("div",{className:"ml-2 h-8 w-8 rounded",children:e("img",{src:c.image,alt:""})})})]},c._id)),e("div",{className:"text-sm text-gray-900",children:r(g,{to:"/",className:"font-semibold hover:text-sky-600",children:["Show all results (",s==null?void 0:s.length,")",e("span",{className:"text-sm italic text-gray-900",children:a})]})}),e("div",{children:e("span",{children:(s==null?void 0:s.length)===0&&l&&r("span",{className:"text-sm text-gray-600",children:["No results for ",a]})})})]})})]})})})}function Ss(){return r("div",{className:"flex flex-col items-center border-b bg-base-100 py-2 px-4 sm:flex-row md:px-20",children:[e("div",{className:"pr-2",children:e(F,{to:"/",className:"font-DancingScript text-3xl font-bold normal-case",children:"LinhDQ"})}),e(ws,{}),r("div",{className:"flex w-full items-center justify-end sm:w-fit md:w-fit md:justify-center",children:[e(ys,{}),e("div",{children:e(vt,{})})]})]})}function Cs(){return r("div",{className:"header border-b border-gray-100",children:[e(Ss,{}),e(Ns,{})]})}function _s(){return r("div",{className:"mx-auto font-OpenSans",children:[e(Cs,{}),e("main",{children:e(Xt.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},exit:{opacity:0},children:e(at,{})})}),e(xs,{})]})}const ks={products:[],loading:!1,status:"idle"},Re=T("products/fetchProducts",async()=>{const{data:s}=await nt();return s}),Ue=T("products/addNewProduct",async s=>{const{data:t}=await ct(s);return t}),Te=T("products/updateProduct",async s=>{const{data:t}=await dt(s);return t}),Ye=T("products/deleteProduct",async s=>{const{data:t}=await ot(s);return t}),Is=te({name:"products",initialState:ks,reducers:{},extraReducers:s=>{s.addCase(Re.pending,t=>{t.loading=!0}),s.addCase(Re.fulfilled,(t,a)=>{t.products=a.payload,t.loading=!1,t.status="success"}),s.addCase(Re.rejected,t=>{t.loading=!1,t.status="error"}),s.addCase(Ue.pending,t=>{t.loading=!0}),s.addCase(Ue.fulfilled,(t,a)=>{t.products.push(a.payload),t.loading=!1,t.status="success"}),s.addCase(Ue.rejected,t=>{t.loading=!1,t.status="error"}),s.addCase(Te.pending,t=>{t.loading=!0}),s.addCase(Te.fulfilled,(t,a)=>{const n=a.payload,l=t.products.find(d=>d._id===n._id);l.name=n.name,l.price=n.price,l.description=n.description,l.image=n.image,l.imageName=n.imageName,l.category=n.category,l.stock=n.stock,l.status=n.status,l.updatedAt=n.updatedAt,t.loading=!1,t.status="success"}),s.addCase(Te.rejected,t=>{t.loading=!1,t.status="error"}),s.addCase(Ye.pending,t=>{t.loading=!0}),s.addCase(Ye.fulfilled,(t,a)=>{const{_id:n}=a.payload,l=t.products.find(d=>d._id===n);t.products.splice(t.products.indexOf(l),1),t.loading=!1,t.status="success"}),s.addCase(Ye.rejected,t=>{t.loading=!1,t.status="error"})}}),Nt=(s,t)=>s.products.products.find(a=>a._id===t);var Ls=Is.reducer;function Ps(){const{id:s}=re(),t=O(),a=C(l=>Nt(l,s)),{categories:n}=C(l=>l.categories);return r("div",{className:"min-h-screen py-2 px-20",children:[e("div",{className:"breadcrumbs text-xs text-gray-500",children:r("ul",{children:[e("li",{children:r(F,{to:"/",children:[e(we,{fontSize:"small"}),"Home"]})}),e("li",{children:e(F,{to:"/products",children:"Products"})}),e("li",{children:e(F,{to:`/categories/${a==null?void 0:a.category}`,children:n==null?void 0:n.map(l=>l._id===(a==null?void 0:a.category)?l==null?void 0:l.name:!1)})}),e("li",{children:e(F,{className:"font-semibold",to:`/products/${a==null?void 0:a._id}`,children:a==null?void 0:a.name})})]})}),r("div",{className:"flex justify-between gap-x-4 py-2",children:[r("div",{className:"max-w-2xl md:w-1/2 ",children:[e("div",{children:e("img",{src:a==null?void 0:a.image,alt:""})}),r("div",{className:"py-4",children:[e("p",{className:"max-w-fit  border-b-[3px] border-blacklight pb-3 font-semibold text-blacklight",children:"Details"}),e("p",{className:"py-4 text-gray-500",children:a==null?void 0:a.description})]})]}),r("div",{className:"pr-20 text-left md:w-[30%]",children:[e("h2",{className:"border-b py-4 font-PlayfairDisplay text-2xl",children:a==null?void 0:a.name}),e("div",{className:"py-6",children:r("div",{children:[e("div",{className:"mb-5 flex items-center",children:e("div",{children:r("div",{className:" relative mr-2",children:[e("span",{className:"absolute bottom-1 align-top text-base text-gray-800",children:"$"}),e("span",{className:"ml-[10px] align-top font-OpenSans text-[22px] font-semibold leading-[22px]",children:a==null?void 0:a.price})]})})}),e("div",{className:"mt-5 flex w-full",children:e("button",{type:"button",className:"flex w-full cursor-pointer items-center justify-center rounded bg-blacklight py-3 text-white hover:bg-[#2F2F3B]",onClick:()=>{t(os(a))},children:"Add to Cart"})}),e("div",{className:"mt-2",children:r("div",{className:"flex select-none items-center",children:[e(st,{className:" text-sm"}),e("p",{className:"ml-1 text-xs",children:"Free shipping"})]})})]})})]})]})]})}function Bs(){p.exports.useEffect(()=>{document.title="Products"});const s=O(),t=c=>{const m=se(ee);m.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(async v=>{if(v.isConfirmed)try{s(Le(c)),m.fire("Deleted!","Product has been deleted.","success")}catch{m.fire("Error!","Something went wrong, please try again.","error")}})},a=[{field:"id",headerName:"ID",width:100,cellClassName:"font-semibold"},{field:"name",headerName:"Name",width:250},{field:"price",headerName:"Price",width:100,valueFormatter:c=>E(c.value)},{field:"image",headerName:"Image",width:100,renderCell:c=>e("img",{src:c.value,alt:c.value})},{field:"stock",headerName:"Stock",width:75,cellClassName:"text-center"},{field:"status",headerName:"Status",width:75,valueFormatter:c=>c.value===0?"Active":"Inactive",cellClassName:c=>c.value===0?"active-product":"inactive-product"},{field:"updatedAt",headerName:"Last Updated",width:135,valueFormatter:c=>K(c.value).format("HH:mm DD/MM/YYYY ")},{field:"_id",width:300,headerName:"Actions",renderCell:c=>r("div",{children:[e(g,{to:`/products/${c.value}`,children:e(U,{variant:"contained",style:{marginRight:".75rem"},startIcon:e(pe,{}),size:"small",className:"bg-orangeLight",children:"View"})}),e(g,{to:`/admin/products/${c.value}/edit`,children:e(U,{variant:"contained",style:{marginRight:".75rem"},startIcon:e(Se,{}),size:"small",className:"bg-cyan-500",children:"Edit"})}),e(U,{onClick:()=>{t(c.value)},variant:"contained",color:"error",size:"small",startIcon:e(Ce,{}),children:"Delete"})]})}],{products:n,loading:l,status:d}=C(c=>c.products),i=n==null?void 0:n.map((c,m)=>L(f({},c),{id:m+1})),[b,o]=A.useState(10);return p.exports.useEffect(()=>{d==="idle"&&s(xe())},[s,d]),e("div",{style:{height:735,width:"100%",minWidth:650},className:"my-4  px-4  pb-12",children:e("div",{style:{display:"flex",height:"100%"},className:"  pt-4",children:r("div",{style:{flexGrow:1},children:[r("div",{className:"flex justify-between",children:[e("h1",{className:"p-2 text-center text-3xl font-bold text-gray-800 antialiased",children:"Products"}),e(g,{to:"/admin/products/add",children:e(U,{variant:"contained",color:"success",style:{marginRight:".75rem"},startIcon:e(Ae,{}),children:"Add"})})]}),!l&&e(ce,{className:"mx-2 rounded-lg shadow-md drop-shadow-lg",rows:i,columns:a,pageSize:b,classes:{root:"bg-white",row:"hover:bg-gray-100 bg-white border border-gray-100",sortIcon:"text-gray-500",overlay:"bg-gray-100",columnHeaders:"border-gray-100",columnHeaderTitle:"font-bold text-gray-700",menuIconButton:"text-gray-600",columnSeparator:"hidden",cell:"text-gray-700",footerContainer:"border-t-0 text-gray-500",toolbarContainer:"gap-1"},onPageSizeChange:c=>o(c),rowsPerPageOptions:[10,20,50,100],components:{Toolbar:fe},componentsProps:{toolbar:{sx:{"& .MuiButton-root":{fontWeight:600}}}}}),l&&e("div",{className:" absolute top-1/2 right-1/2 flex min-h-fit items-center justify-center",children:e(je,{size:20,color:"#34d399",margin:2})})]})})})}const yt=ne().shape({name:z().required("Name is required").min(3,"Name must be at least 3 characters").max(50,"Name must be less than 50 characters"),price:_e().typeError("Amount must be a number").required("Price is required").min(1,"Price must be at least 1"),description:z().required("Description is required"),category:z().nullable().typeError("Amount must be a number").required("Image is required"),stock:_e().typeError("Amount must be a number").required("Stock is required").min(0,"Stock must be at least 0"),status:_e().required("Status is required")}),Os={apiKey:"AIzaSyCQVHXAziWQyLilw2vHkVxyzfNHrRcnzEw",authDomain:"web502-project.firebaseapp.com",projectId:"web502-project",storageBucket:"web502-project.appspot.com",messagingSenderId:"264214214458",appId:"1:264214214458:web:15badd70c8a30a49684203",measurementId:"G-WDQ9J6T5RF"},Rs=Zt(Os),Ee=ea(Rs,"gs://web502-project.appspot.com"),De=async s=>{if(!s)return;const t=$e(Ee,`products/${s.name}`);return await Qe(t,s),await Je(t)},Us=async s=>{if(!s)return;const t=$e(Ee,`avatars/${s.name}`);return await Qe(t,s),await Je(t)},Ts=async s=>{if(!s)return;const t=$e(Ee,`avatars/${s.name}`);return await Qe(t,s),await Je(t)},wt=async s=>{if(!s||s==="no-image.png")return;const t=$e(Ee,`products/${s}`);await ta(t).then(()=>{console.log("File deleted")})};function zs(){var S,B,D,$,R,I,H,q,P,Q,M,ae;const[s,t]=A.useState(!1),[a,n]=A.useState(null),{register:l,handleSubmit:d,formState:{errors:i},reset:b,resetField:o}=X({resolver:Z(yt)}),c=J(),{id:m}=re(),v=O(),x=C(Y=>Y.categories.categories);p.exports.useEffect(()=>{v(le())},[v]);const N=C(Y=>m?Nt(Y,m):null),u=Y=>{Y.target.files&&Y.target.files.length>0&&n(Y.target.files[0])},h=()=>{n(null),o("image")};return p.exports.useEffect(()=>{N&&b(N)},[m,N,b]),r("div",{className:"flex",children:[e("div",{className:"card ml-4 mt-4 w-full max-w-4xl flex-shrink-0 bg-base-100 shadow-lg shadow-slate-400 drop-shadow-2xl",children:e("div",{className:"card-body",children:r("form",{onSubmit:d(async Y=>{try{t(!0);const oe=Y.image[0];if(a!==null){await wt(Y.imageName);const Lt=await De(oe);Y.image=Lt,Y.imageName=oe.name}await v(Te(Y)),_.success("Product updated successfully",{position:_.POSITION.BOTTOM_RIGHT}),t(!1),c("/admin/products")}catch(oe){_.error(oe.message,{type:"error"})}}),children:[r("div",{className:"grid grid-cols-2 gap-x-4",children:[r("div",{className:"form-control",children:[e("label",{className:"label",children:e("span",{className:"label-text font-semibold",children:"Name"})}),e("input",f({className:" input input-info border-2 ",type:"text",placeholder:"Name"},l("name"))),((S=i.name)==null?void 0:S.message)&&e(w,{severity:"error",className:"my-1 mb-2",variant:"filled",children:(B=i.name)==null?void 0:B.message})]}),r("div",{className:"form-control",children:[e("label",{className:"label",children:e("span",{className:"label-text font-semibold",children:"Price"})}),e("input",f({className:" input input-info border-2",type:"number",placeholder:"Price"},l("price"))),((D=i.price)==null?void 0:D.message)&&e(w,{severity:"error",className:"my-1 mb-2",variant:"filled",children:($=i.price)==null?void 0:$.message})]})]}),r("div",{className:"grid grid-cols-2 gap-x-4",children:[r("div",{className:"form-control my-2",children:[e("label",{className:"label",children:e("span",{className:"label-text font-semibold",children:"Category"})}),e("select",L(f({className:"select select-info w-full "},l("category",{required:!0})),{children:x==null?void 0:x.map((Y,oe)=>e("option",{value:Y._id,children:Y.name},oe+1))})),i.category&&e(w,{severity:"error",className:"my-1 mb-2",variant:"filled",children:"Please select a category"})]}),r("div",{className:"form-control my-2",children:[e("label",{className:"label",children:e("span",{className:"label-text font-semibold",children:"Stock"})}),e("input",f({className:" input input-info border-2",type:"number",placeholder:"Stock"},l("stock"))),((R=i.stock)==null?void 0:R.message)&&e(w,{severity:"error",className:"my-1 mb-2",variant:"filled",children:(I=i.stock)==null?void 0:I.message})]})]}),r("div",{className:"grid grid-cols-2 gap-x-4",children:[r("div",{children:[r("div",{className:"form-control my-2",children:[e("label",{className:"label",children:e("span",{className:"label-text font-semibold",children:"Image"})}),e("input",L(f({className:"file:mr-4 file:rounded-full file:border-0\r file:bg-violet-50 file:py-2\r file:px-4 file:text-sm\r file:font-semibold file:text-cyan-500\r hover:file:bg-violet-100",type:"file",accept:"image/*",placeholder:"Image"},l("image")),{onChange:u})),((H=i.image)==null?void 0:H.message)&&e(w,{severity:"error",className:"my-1 mb-2",variant:"filled",children:(q=i.image)==null?void 0:q.message})]}),r("div",{className:"form-control my-2",children:[e("label",{className:"label",children:e("span",{className:"label-text font-semibold",children:"Status"})}),r("div",{className:"flex gap-x-3",children:[r("div",{className:" flex items-center",children:[e("input",f(L(f({type:"radio"},l("status")),{className:"radio radio-accent",value:0}),(N==null?void 0:N.status)===0&&{checked:!0})),e("label",{className:"label",children:e("span",{className:"label-text font-semibold text-teal-500",children:"Active"})})]}),r("div",{className:"flex items-center",children:[e("input",f(L(f({type:"radio"},l("status")),{className:"radio border-roseLight  checked:bg-roseLight",value:1}),(N==null?void 0:N.status)===1&&{checked:!0})),e("label",{className:"label",children:e("span",{className:"label-text font-semibold text-roseLight",children:"Inactive"})})]})]}),((P=i.status)==null?void 0:P.message)&&e(w,{severity:"error",className:"my-1 mb-2",variant:"filled",children:(Q=i.status)==null?void 0:Q.message})]})]}),r("div",{className:"form-control my-2",children:[e("label",{className:"label",children:e("span",{className:"label-text font-semibold",children:"Description"})}),e("textarea",f({className:"textarea textarea-info h-24 border-2",placeholder:"Description"},l("description"))),((M=i.description)==null?void 0:M.message)&&e(w,{severity:"error",className:"my-1 mb-2",variant:"filled",children:(ae=i.description)==null?void 0:ae.message})]})]}),!s&&e("div",{className:"form-control mt-6",children:e("button",{type:"submit",className:"btn  border-2 border-cyan-400  bg-sky-400 py-2 px-4 text-base font-bold text-white shadow shadow-sky-400 hover:bg-sky-500 ",children:"update"})}),s&&e("div",{className:"flex min-h-fit items-center justify-center",children:e(V.BeatLoader,{size:20,color:"#34d399",margin:2})})]})})}),a?e("div",{children:r("div",{className:"mt-4 flex h-full flex-col gap-y-2 rounded-md bg-slate-100 px-4 ",children:[e("h1",{className:"font-semibold text-gray-600",children:"Image Preview"}),e("div",{children:e("img",{src:URL.createObjectURL(a),alt:""})}),e("button",{type:"button",className:"btn btn-info mx-auto text-xs text-white shadow-md shadow-cyan-400",onClick:h,children:"Remove This Image"})]})}):e("div",{children:r("div",{className:"mt-4 flex h-full w-full flex-col gap-y-2 rounded-md bg-slate-100 px-4",children:[e("h1",{className:"font-semibold text-gray-600",children:"Present Image"}),e("div",{children:e("img",{src:N==null?void 0:N.image,alt:""})})]})})]})}const As=ne().shape({email:z().required("Email is required").email("Invalid email"),password:z().required("Password is required").min(6,"Password must be at least 6 characters")}),js=ne().shape({name:z().required("Name is required").min(3,"Name must be at least 3 characters").max(50,"Name must be less than 50 characters"),email:z().required("Email is required").email("Invalid email"),password:z().required("Password is required").min(6,"Password must be at least 6 characters").max(50,"Password must be less than 50 characters"),cpassword:z().required("Password is required").oneOf([aa("password"),null],"Confirm Password does not match"),acceptTerms:sa().oneOf([!0],"Accept Terms is required")});function $s(){var N,u,h,y;const{register:s,handleSubmit:t,formState:{errors:a}}=X({resolver:Z(As)}),n=J(),l=O(),[d,i]=p.exports.useState(!1),{isLoggedIn:b,user:o}=C(S=>S.auth),{message:c}=C(S=>S.message),m=async S=>{i(!0),c&&l(ue()),setTimeout(async()=>{await l(Oe(S)).unwrap().then(()=>{_.success("Sign in successfully",{position:_.POSITION.BOTTOM_RIGHT})}).catch(()=>{i(!1)})},700)};p.exports.useEffect(()=>{l(ue())},[l]);const[v,x]=p.exports.useState(!0);return p.exports.useEffect(()=>{x(!0)},[a.email,a.password]),b&&(o.user.role==="admin"&&n("/admin"),o.user.role==="user"&&n("/")),A.useEffect(()=>{document.title="Sign in"},[]),e("div",{className:"card w-full max-w-md flex-shrink-0 bg-base-100 shadow-lg shadow-slate-400 drop-shadow-2xl",children:e("div",{className:"card-body",children:r("form",{onSubmit:t(m),children:[r("div",{className:"form-control",children:[e("label",{className:"label",children:e("span",{className:"label-text",children:"Email"})}),e("input",f({className:" input input-bordered input-accent border-2 focus:border-blueSage",type:"text",placeholder:"Email"},s("email"))),((N=a.email)==null?void 0:N.message)&&e(de,{in:v,children:e(w,{severity:"error",action:e(me,{size:"small",onClick:()=>{x(!1)},children:e(he,{fontSize:"inherit"})}),children:(u=a.email)==null?void 0:u.message})})]}),r("div",{className:"form-control",children:[e("label",{className:"label",children:e("span",{className:"label-text",children:"Password"})}),e("input",L(f({className:"input input-bordered input-accent border-2",type:"password"},s("password")),{name:"password",placeholder:"Password"})),((h=a.password)==null?void 0:h.message)&&e(de,{in:v,children:e(w,{severity:"error",action:e(me,{size:"small",onClick:()=>{x(!1)},children:e(he,{fontSize:"inherit"})}),children:(y=a.password)==null?void 0:y.message})}),e("label",{className:"label",children:e("a",{href:"#",className:"link link-hover label-text-alt",children:"Forgot password?"})})]}),c&&e("div",{className:"form-group",children:e(w,{severity:"error",variant:"filled",children:c})}),d===!0?e("div",{className:"form-control pt-1  text-center",children:e(V.PropagateLoader,{size:15,color:"#34d399",children:" "})}):e("div",{className:"form-control mt-6",children:e("button",{type:"submit",className:"btn  border-2 border-green-400  bg-blueSage py-2 px-4 text-base font-bold text-white shadow shadow-cyan-400 hover:bg-teal-400 ",children:"Sign in"})})]})})})}function Es(){return r(ge,{children:[e("div",{className:"breadcrumbs px-4 text-xs text-gray-500 md:px-20",children:r("ul",{children:[e("li",{children:r(g,{to:"/",children:[e(we,{fontSize:"small"}),"Home"]})}),e("li",{children:e(g,{to:"/signin",children:"Sign in"})})]})}),e("div",{className:"hero  min-h-full bg-base-200 py-2  pb-40 md:py-16",children:r("div",{className:"hero-content w-full  flex-col justify-end sm:flex-col lg:flex-row-reverse ",children:[r("div",{className:"min-w-xl pl-4 text-center lg:text-left",children:[e("h1",{className:"text-5xl font-bold text-blacklight",children:"Login now!"}),e("p",{className:"hidden pt-6 pb-2 md:block",children:"Lorem ipsum dolor, sit amet consectetur adipisicing elit. Qui, quas aspernatur similique quidem aperiam itaque repellat, voluptatibus minima dignissimos fuga, vitae eligendi deleniti maxime ipsam eaque veniam accusantium voluptate sint."}),r("p",{className:"italic",children:["Don't have an account?"," ",e(g,{to:"/signup",className:" border-gray-700 font-medium not-italic text-gray-800 hover:border-b",children:"Sign up"})]})]}),e($s,{})]})})]})}function Ds({children:s}){const{user:t}=W();return t&&t.role==="admin"?s:e(rt,{to:"/"})}function qs(){var N,u,h,y,S,B,D;const[s,t]=p.exports.useState(!0),{message:a}=C($=>$.message),{isLoggedIn:n}=C($=>$.auth),{register:l,handleSubmit:d,formState:{errors:i},reset:b}=X({resolver:Z(js)}),o=J(),c=O(),m=async $=>{t(!1),a&&c(ue()),setTimeout(async()=>{await c(We($)).unwrap().then(()=>{_.success("Sign up successfully, please sign in now",{position:_.POSITION.TOP_RIGHT}),o("/signin")}).catch(()=>{t(!0)})},750)};p.exports.useEffect(()=>{c(ue())},[c]),p.exports.useEffect(()=>{b()},[b,s]);const[v,x]=p.exports.useState(!0);return p.exports.useEffect(()=>{x(!0)},[i.email,i.password,i.name]),n&&o("/"),p.exports.useEffect(()=>{document.title="Sign up"},[]),e("div",{className:"card w-full max-w-md flex-shrink-0 bg-base-100 shadow-lg shadow-slate-400 drop-shadow-2xl",children:e("div",{className:"card-body",children:r("form",{onSubmit:d(m),children:[r("div",{className:"form-control",children:[e("label",{className:"label",children:e("span",{className:"label-text",children:"Name"})}),e("input",f({className:" input input-bordered input-accent border-2 focus:border-blueSage",type:"text",autoComplete:"off",placeholder:"Name"},l("name"))),((N=i.name)==null?void 0:N.message)&&e(de,{in:v,children:e(w,{severity:"error",action:e(me,{size:"small",onClick:()=>{x(!1)},children:e(he,{fontSize:"inherit"})}),children:i==null?void 0:i.name.message})})]}),r("div",{className:"form-control",children:[e("label",{className:"label",children:e("span",{className:"label-text",children:"Email"})}),e("input",f({className:" input input-bordered input-accent border-2 focus:border-blueSage",type:"text",autoComplete:"off",placeholder:"Email"},l("email"))),((u=i.email)==null?void 0:u.message)&&e(de,{in:v,children:e(w,{severity:"error",action:e(me,{size:"small",onClick:()=>{x(!1)},children:e(he,{fontSize:"inherit"})}),children:(h=i.email)==null?void 0:h.message})})]}),r("div",{className:"form-control grid grid-cols-1 gap-x-2 sm:grid-cols-2",children:[r("div",{className:"form-control",children:[e("label",{className:"label",children:e("span",{className:"label-text",children:"Password"})}),e("input",L(f({className:"input input-bordered input-accent border-2",type:"password",autoComplete:"off"},l("password")),{name:"password",placeholder:"Password"})),((y=i.password)==null?void 0:y.message)&&e(de,{in:v,children:e(w,{severity:"error",className:"text-xs",action:e(me,{size:"small",onClick:()=>{x(!1)},children:e(he,{fontSize:"inherit"})}),children:(S=i.password)==null?void 0:S.message})})]}),r("div",{className:"form-control",children:[e("label",{className:"label",children:e("span",{className:"label-text",children:"Confirm password"})}),e("input",L(f({className:"input input-bordered input-accent border-2",type:"password",autoComplete:"off"},l("cpassword")),{placeholder:"Re-enter password"})),((B=i.cpassword)==null?void 0:B.message)&&e(de,{in:v,children:e(w,{severity:"error",className:"text-xs",action:e(me,{size:"small",onClick:()=>{x(!1)},children:e(he,{fontSize:"inherit"})}),children:(D=i.cpassword)==null?void 0:D.message})}),e("label",{className:"label",children:e(g,{to:"/signin",className:"link link-hover label-text-alt ml-auto text-right",children:"Sign in"})})]})]}),a&&e("div",{className:"form-group",children:e(w,{severity:"error",variant:"filled",children:a})}),s===!1?e("div",{className:"form-control pt-1  text-center",children:e(V.PropagateLoader,{size:15,color:"#34d399",children:" "})}):e("div",{className:"form-control mt-6",children:e("button",{type:"submit",className:"btn  border-2 border-green-400  bg-blueSage py-2 px-4 text-base font-bold text-white shadow shadow-cyan-400 hover:bg-teal-400 ",children:"Sign up"})})]})})})}function Hs(){return r(ge,{children:[e("div",{className:"breadcrumbs px-4 text-xs text-gray-500 md:px-20",children:r("ul",{children:[e("li",{children:r(g,{to:"/",children:[e(we,{fontSize:"small"}),"Home"]})}),e("li",{children:e(g,{to:"/signup",children:"Sign Up"})})]})}),e("div",{className:"hero  min-h-full bg-base-200 py-2 pb-40 md:py-16",children:r("div",{className:"hero-content w-full  flex-col  justify-end lg:flex-row-reverse ",children:[r("div",{className:"min-w-xl pl-4 text-center lg:text-left",children:[e("h1",{className:"text-5xl font-bold text-blacklight",children:"Sign up now!"}),e("p",{className:"pt-6 pb-2",children:"Lorem ipsum dolor, sit amet consectetur adipisicing elit. Qui, quas aspernatur similique quidem aperiam itaque repellat, voluptatibus minima dignissimos fuga, vitae eligendi deleniti maxime ipsam eaque veniam accusantium voluptate sint."}),r("p",{className:"italic",children:["You have a account?"," ",e(g,{to:"/signin",className:" border-gray-700 font-medium not-italic text-gray-800 hover:border-b",children:"Sign in"})]})]}),e(qs,{})]})})]})}function Ms(){var u,h,y,S,B,D,$,R,I,H,q;const[s,t]=A.useState(null),[a,n]=A.useState(!1),{register:l,handleSubmit:d,formState:{errors:i},resetField:b}=X({resolver:Z(yt)}),o=J(),c=O(),m=C(P=>P.categories.categories);p.exports.useEffect(()=>{c(le())},[c]);const v=P=>{P.target.files&&P.target.files.length>0&&t(P.target.files[0])},x=()=>{t(null),b("image")};return r("div",{className:"flex",children:[e("div",{className:"card ml-4 mt-4 w-full max-w-4xl flex-shrink-0 bg-base-100 shadow-lg shadow-slate-400 drop-shadow-2xl",children:e("div",{className:"card-body",children:r("form",{onSubmit:d(async P=>{try{if(n(!0),s!==null){const M=P.image[0];P.imageName=M.name;const ae=await De(M);P.image=ae}else P.image="https://img.icons8.com/ios-filled/100/000000/no-image.png";const Q=await c(Ue(P));if(Q.type!=="products/addNewProduct/fulfilled"){_.error(Q.error.message,{type:"error"}),o("/admin/products");return}_.success("Product added successfully",{position:_.POSITION.BOTTOM_RIGHT}),n(!1),o("/admin/products")}catch(Q){_.error(Q.message,{type:"error"})}}),children:[r("div",{className:"grid grid-cols-2 gap-x-4",children:[r("div",{className:"form-control",children:[e("label",{className:"label",children:e("span",{className:"label-text font-semibold",children:"Name"})}),e("input",f({className:" input input-info border-2 ",type:"text",placeholder:"Name"},l("name"))),((u=i.name)==null?void 0:u.message)&&e(w,{severity:"error",className:"my-1 mb-2",variant:"filled",children:(h=i.name)==null?void 0:h.message})]}),r("div",{className:"form-control",children:[e("label",{className:"label",children:e("span",{className:"label-text font-semibold",children:"Price"})}),e("input",f({className:" input input-info border-2",type:"number",placeholder:"Price"},l("price"))),((y=i.price)==null?void 0:y.message)&&e(w,{severity:"error",className:"my-1 mb-2",variant:"filled",children:(S=i.price)==null?void 0:S.message})]})]}),r("div",{className:"grid grid-cols-2 gap-x-4",children:[r("div",{className:"form-control my-2",children:[e("label",{className:"label",children:e("span",{className:"label-text font-semibold",children:"Category"})}),r("select",L(f({className:"select select-info w-full "},l("category",{required:!0})),{children:[e("option",{disabled:!0,selected:!0,value:"",children:"Select Category"}),m==null?void 0:m.map((P,Q)=>e("option",{value:P._id,children:P.name},Q+1))]})),i.category&&e(w,{severity:"error",className:"my-1 mb-2",variant:"filled",children:"Please select a category"})]}),r("div",{className:"form-control my-2",children:[e("label",{className:"label",children:e("span",{className:"label-text font-semibold",children:"Stock"})}),e("input",f({className:" input input-info border-2",type:"number",placeholder:"Stock"},l("stock"))),((B=i.stock)==null?void 0:B.message)&&e(w,{severity:"error",className:"my-1 mb-2",variant:"filled",children:(D=i.stock)==null?void 0:D.message})]})]}),r("div",{className:"grid grid-cols-2 gap-x-4",children:[r("div",{children:[r("div",{className:"form-control my-2",children:[e("label",{className:"label",children:e("span",{className:"label-text font-semibold",children:"Image"})}),e("input",L(f({className:"file:mr-4 file:rounded-full file:border-0\r file:bg-violet-50 file:py-2\r file:px-4 file:text-sm\r file:font-semibold file:text-cyan-500\r hover:file:bg-violet-100 ",type:"file",accept:"image/*",placeholder:"Image"},l("image")),{onChange:v})),(i==null?void 0:i.image)&&e(w,{severity:"error",className:"my-1 mb-2",variant:"filled",children:($=i.image)==null?void 0:$.message})]}),r("div",{className:"form-control my-2",children:[e("label",{className:"label",children:e("span",{className:"label-text font-semibold",children:"Status"})}),r("div",{className:"flex gap-x-3",children:[r("div",{className:" flex items-center",children:[e("input",L(f({type:"radio"},l("status")),{className:"radio radio-accent",value:0,checked:!0})),e("label",{className:"label",children:e("span",{className:"label-text font-semibold text-teal-500",children:"Active"})})]}),r("div",{className:"flex items-center",children:[e("input",L(f({type:"radio"},l("status")),{className:"radio border-roseLight  checked:bg-roseLight",value:1})),e("label",{className:"label",children:e("span",{className:"label-text font-semibold text-roseLight",children:"Inactive"})})]})]}),((R=i.status)==null?void 0:R.message)&&e(w,{severity:"error",className:"my-1 mb-2",variant:"filled",children:(I=i.status)==null?void 0:I.message})]})]}),r("div",{className:"form-control my-2",children:[e("label",{className:"label",children:e("span",{className:"label-text font-semibold",children:"Description"})}),e("textarea",f({className:"textarea textarea-info h-24 border-2",placeholder:"Description"},l("description"))),((H=i.description)==null?void 0:H.message)&&e(w,{severity:"error",className:"my-1 mb-2",variant:"filled",children:(q=i.description)==null?void 0:q.message})]})]}),!a&&e("div",{className:"form-control mt-6",children:e("button",{type:"submit",className:"btn  border-2 border-cyan-400  bg-sky-400 py-2 px-4 text-base font-bold text-white shadow shadow-sky-400 hover:bg-sky-500 ",children:"Create"})}),a&&e("div",{className:"flex min-h-fit items-center justify-center",children:e(V.BeatLoader,{size:20,color:"#34d399",margin:2})})]})})}),s&&e("div",{children:r("div",{className:"mt-4 flex h-full flex-col gap-y-2 rounded-md bg-slate-100 px-4 ",children:[e("h1",{className:"font-semibold text-gray-600",children:"Image Preview"}),e("div",{children:e("img",{src:URL.createObjectURL(s),alt:""})}),e("button",{type:"button",className:"btn btn-info mx-auto text-xs text-white shadow-md shadow-cyan-400",onClick:x,children:"Remove This Image"})]})})]})}function Ys(){const s=O(),t=c=>{const m=se(ee);m.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(async v=>{if(v.isConfirmed)try{s(Ve(c)),m.fire("Deleted!","Category has been deleted.","success")}catch{m.fire("Error!","Something went wrong, please try again.","error")}})},a=[{field:"id",headerName:"ID",width:100},{field:"name",headerName:"Name",width:400},{field:"updatedAt",headerName:"Last Updated",width:150,valueFormatter:c=>K(c.value).format("HH:mm DD/MM/YYYY ")},{field:"_id",width:350,headerName:"Actions",renderCell:c=>r("div",{children:[e(g,{to:`/admin/categories/${c.value}/view`,children:e(U,{variant:"contained",style:{marginRight:".75rem"},startIcon:e(pe,{}),size:"small",className:"bg-blueDark",children:"Detail"})}),e(g,{to:`/admin/categories/${c.value}/edit`,children:e(U,{variant:"contained",style:{marginRight:".75rem"},startIcon:e(Se,{}),size:"small",className:"bg-cyan-500",children:"Edit"})}),e(U,{onClick:()=>{t(c.value)},variant:"contained",color:"error",size:"small",startIcon:e(Ce,{}),children:"Delete"})]})}],{categories:n,loading:l,status:d}=C(c=>c.categories),i=n==null?void 0:n.map((c,m)=>L(f({},c),{id:m+1})),[b,o]=A.useState(10);return p.exports.useEffect(()=>{d==="idle"&&s(le())},[s,d]),r(ge,{children:[!l&&e(ce,{className:"mx-2 rounded-lg shadow-md drop-shadow-lg",rows:i,columns:a,pageSize:b,classes:{root:"bg-white",row:"hover:bg-gray-100 bg-white border border-gray-100",sortIcon:"text-gray-500",overlay:"bg-gray-100",columnHeaders:"border-gray-100",columnHeaderTitle:"font-bold text-gray-700",menuIconButton:"text-gray-600",columnSeparator:"hidden",cell:"text-gray-700",footerContainer:"border-t-0 text-gray-500",toolbarContainer:"gap-1"},onPageSizeChange:c=>o(c),rowsPerPageOptions:[10,20,50,100],components:{Toolbar:fe},componentsProps:{toolbar:{sx:{"& .MuiButton-root":{fontWeight:600}}}}}),l&&e("div",{className:" absolute top-1/2 right-1/2 flex min-h-fit items-center justify-center",children:e(V.BeatLoader,{size:20,color:"#34d399",margin:2})})]})}function Fs(){return A.useEffect(()=>{document.title="Categories"}),e("div",{style:{height:735,width:"100%",minWidth:650},className:"my-4  px-4  pb-12",children:e("div",{style:{display:"flex",height:"100%"},className:"  pt-4",children:r("div",{style:{flexGrow:1},children:[r("div",{className:"flex justify-between",children:[e("h1",{className:"p-2 text-center text-3xl font-bold text-gray-800 antialiased",children:"Categories"}),e(g,{to:"/admin/categories/add",children:e(U,{variant:"contained",color:"success",style:{marginRight:".75rem"},startIcon:e(Ae,{}),children:"Add"})})]}),e(Ys,{})]})})})}const St=ne().shape({name:z().required("Name is required").min(3,"Name must be at least 3 characters").max(40,"Name must be less than 50 characters")});function Vs(){var b,o;const s=O(),t=J(),{loading:a}=C(c=>c.categories),{register:n,handleSubmit:l,formState:{errors:d}}=X({resolver:Z(St)});return e("div",{className:"card ml-4 mt-4 w-full max-w-md flex-shrink-0 bg-base-100 shadow-lg shadow-slate-400 drop-shadow-2xl",children:e("div",{className:"card-body",children:r("form",{onSubmit:l(async c=>{try{const m=await s(Pe(c));if(m.type!=="categories/createCategory/fulfilled"){_.error(m.error.message,{type:"error"}),t("/admin/categories");return}_.success("Category added successfully",{position:_.POSITION.BOTTOM_RIGHT}),t("/admin/categories")}catch(m){_.error(m.message,{type:"error"})}}),children:[r("div",{className:"form-control",children:[e("label",{className:"label",children:e("span",{className:"label-text",children:"Name"})}),e("input",f({className:" input input-info ",type:"text",placeholder:"Name"},n("name"))),((b=d.name)==null?void 0:b.message)&&e(w,{severity:"error",className:"my-1 mb-2",variant:"filled",children:(o=d.name)==null?void 0:o.message})]}),!a&&e("div",{className:"form-control mt-6",children:e("button",{type:"submit",className:"btn  border-2 border-cyan-400  bg-sky-400 py-2 px-4 text-base font-bold text-white shadow shadow-sky-400 hover:bg-sky-500 ",children:"Create"})}),a&&e("div",{className:" absolute top-1/2 right-1/2 flex min-h-fit items-center justify-center",children:e(V.BeatLoader,{size:20,color:"#34d399",margin:2})})]})})})}function Ws(){var m,v;const s=O(),t=J(),{id:a}=re(),{loading:n}=C(x=>x.categories),l=C(x=>a?Qa(x,a):null),{register:d,handleSubmit:i,formState:{errors:b},reset:o}=X({resolver:Z(St)}),c=async x=>{try{const N=await s(Be(x));if(N.type!=="categories/updateCategory/fulfilled"){_.error(N.error.message,{type:"error"}),t("/admin/categories");return}_.success("Category updated successfully",{position:_.POSITION.BOTTOM_RIGHT}),t("/admin/categories")}catch(N){_.error(N.message,{type:"error"})}};return p.exports.useEffect(()=>{l&&o(l)},[l,o]),e("div",{className:"card ml-4 mt-4 w-full max-w-md flex-shrink-0 bg-base-100 shadow-lg shadow-slate-400 drop-shadow-2xl",children:e("div",{className:"card-body",children:r("form",{onSubmit:i(c),children:[r("div",{className:"form-control",children:[e("label",{className:"label",children:e("span",{className:"label-text",children:"Name"})}),e("input",f({className:" input input-info ",type:"text",placeholder:"Name"},d("name"))),((m=b.name)==null?void 0:m.message)&&e(w,{severity:"error",className:"my-1 mb-2",variant:"filled",children:(v=b.name)==null?void 0:v.message})]}),!n&&e("div",{className:"form-control mt-6",children:e("button",{type:"submit",className:"btn  border-2 border-cyan-400  bg-sky-400 py-2 px-4 text-base font-bold text-white shadow shadow-sky-400 hover:bg-sky-500 ",children:"Create"})}),n&&e("div",{className:" absolute top-1/2 right-1/2 flex min-h-fit items-center justify-center",children:e(V.BeatLoader,{size:20,color:"#34d399",margin:2})})]})})})}const Gs={category:[],loading:!1,status:"idle"},ve=T("category/getCategoryDetails",async s=>{const{data:t}=await Ma(s);return t}),Qs=te({name:"category",initialState:Gs,reducers:{},extraReducers:s=>{s.addCase(ve.pending,t=>{t.loading=!0}),s.addCase(ve.fulfilled,(t,a)=>{t.category=a.payload,t.loading=!1,t.status="success"}),s.addCase(ve.rejected,t=>{t.loading=!1,t.status="error"})}});var Js=Qs.reducer;function Ks(){var c,m,v,x;const s=O(),{id:t}=re(),a=[{field:"id",headerName:"ID",width:100},{field:"name",headerName:"Name",width:300},{field:"price",headerName:"Price",width:100,valueFormatter:N=>E(N.value)},{field:"image",headerName:"Image",width:100,renderCell:N=>e("img",{src:N.value,alt:N.value})},{field:"updatedAt",headerName:"Last Updated",width:150,valueFormatter:N=>K(N.value).format("HH:mm DD/MM/YYYY ")},{field:"_id",width:350,headerName:"Actions",renderCell:N=>e("div",{children:e(g,{to:`/products/${N.value}`,children:e(U,{variant:"contained",style:{marginRight:".75rem"},startIcon:e(pe,{}),size:"small",className:"bg-orangeLight",children:"View"})})})}],[n,l]=A.useState(10),{category:d,loading:i,status:b}=C(N=>N.category),o=(m=(c=d==null?void 0:d.category)==null?void 0:c.products)==null?void 0:m.map((N,u)=>L(f({},N),{id:u+1}));return p.exports.useEffect(()=>{s(ve(t))},[s,b,t]),e("div",{style:{height:735,width:"100%",minWidth:650},className:"my-4  px-4  pb-12",children:e("div",{style:{display:"flex",height:"100%"},className:"  pt-4",children:r("div",{style:{flexGrow:1},children:[e("div",{className:"flex justify-between",children:r("h1",{className:"p-2 text-center text-3xl font-bold text-gray-800 antialiased",children:[(v=d==null?void 0:d.category)==null?void 0:v.name," :"," ",r("small",{className:"font-base text-gray-600",children:[(x=d==null?void 0:d.category)==null?void 0:x.products.length," products total"]})]})}),!i&&e(ce,{className:"mx-2 rounded-lg shadow-md drop-shadow-lg",rows:o,columns:a,pageSize:n,classes:{root:"bg-white",row:"hover:bg-gray-100 bg-white border border-gray-100",sortIcon:"text-gray-500",overlay:"bg-gray-100",columnHeaders:"border-gray-100",columnHeaderTitle:"font-bold text-gray-700",menuIconButton:"text-gray-600",columnSeparator:"hidden",cell:"text-gray-700",footerContainer:"border-t-0 text-gray-500",toolbarContainer:"gap-1"},onPageSizeChange:N=>l(N),rowsPerPageOptions:[10,20,50,100],components:{Toolbar:fe},componentsProps:{toolbar:{sx:{"& .MuiButton-root":{fontWeight:600}}}}}),i&&e("div",{className:" absolute top-1/2 right-1/2 flex min-h-fit items-center justify-center",children:e(V.BeatLoader,{size:20,color:"#34d399",margin:2})})]})})})}function Xs(){var d,i,b,o,c;const s=O(),{id:t}=re(),{category:a,loading:n}=C(m=>m.category);p.exports.useEffect(()=>{s(ve(t))},[s,t]);const l=(i=(d=a==null?void 0:a.category)==null?void 0:d.products)==null?void 0:i.filter(m=>m.status===0);return p.exports.useEffect(()=>{document.title="Products"},[]),r("div",{className:"min-h-screen py-2 px-4 md:px-20",children:[e("div",{className:"breadcrumbs text-xs text-gray-500",children:r("ul",{children:[e("li",{children:r(F,{to:"/",children:[e(we,{fontSize:"small"}),"Home"]})}),e("li",{children:e(F,{to:"/products",children:"Products"})}),e("li",{children:e(F,{className:"font-semibold",to:`/products/${(b=a==null?void 0:a.category)==null?void 0:b._id}`,children:(o=a==null?void 0:a.category)==null?void 0:o.name})})]})}),!n&&r(ge,{children:[e("h1",{className:"text-left text-[25px] font-bold italic ",children:(c=a==null?void 0:a.category)==null?void 0:c.name}),e("div",{className:"mt-6 grid grid-cols-1 gap-y-10 gap-x-6 sm:grid-cols-2 lg:grid-cols-4 xl:gap-x-8",children:l==null?void 0:l.map(m=>e(ht,{product:m},m==null?void 0:m._id))})]}),n&&e("div",{className:" absolute top-1/2 right-1/2 flex min-h-fit items-center justify-center",children:e(V.PacmanLoader,{color:"#34d399",margin:2})})]})}function Zs({children:s}){const{pathname:t}=lt();return p.exports.useEffect(()=>{window.scrollTo(0,0)},[t]),s}const er={users:[],isLoading:!1,error:null,status:"idle"},Ne=T("users/fetchUsers",async()=>await ts()),tr=te({name:"users",initialState:er,reducers:{},extraReducers:s=>{s.addCase(Ne.pending,t=>{t.isLoading=!0}),s.addCase(Ne.fulfilled,(t,a)=>{t.users=a.payload,t.isLoading=!1,t.status="success"}),s.addCase(Ne.rejected,(t,a)=>{t.error=a.error,t.isLoading=!1,t.status="error"})}});var ar=tr.reducer;function sr(){p.exports.useEffect(()=>{document.title="Users"});const s=O(),t=[{field:"id",headerName:"ID",width:100},{field:"name",headerName:"Name",width:400},{field:"email",headerName:"Email",width:170},{field:"role",headerName:"Role",width:150},{field:"_id",width:350,headerName:"Actions",renderCell:o=>r("div",{children:[e(g,{to:`/admin/categories/${o.value}/view`,children:e(U,{variant:"contained",style:{marginRight:".75rem"},startIcon:e(pe,{}),size:"small",className:"bg-blueDark",children:"Detail"})}),e(g,{to:`/admin/categories/${o.value}/edit`,children:e(U,{variant:"contained",style:{marginRight:".75rem"},startIcon:e(Se,{}),size:"small",className:"bg-cyan-500",children:"Edit"})}),e(U,{variant:"contained",color:"error",size:"small",startIcon:e(Ce,{}),children:"Delete"})]})}],{users:a,isLoading:n,status:l}=C(o=>o.users),d=a==null?void 0:a.map((o,c)=>L(f({},o),{id:c+1})),[i,b]=A.useState(10);return p.exports.useEffect(()=>{s(Ne())},[s,l]),r(ge,{children:[!n&&e(ce,{className:"mx-2 rounded-lg shadow-md drop-shadow-lg",rows:d,columns:t,pageSize:i,classes:{root:"bg-white",row:"hover:bg-gray-100 bg-white border border-gray-100",sortIcon:"text-gray-500",overlay:"bg-gray-100",columnHeaders:"border-gray-100",columnHeaderTitle:"font-bold text-gray-700",menuIconButton:"text-gray-600",columnSeparator:"hidden",cell:"text-gray-700",footerContainer:"border-t-0 text-gray-500",toolbarContainer:"gap-1"},onPageSizeChange:o=>b(o),rowsPerPageOptions:[10,20,50,100],components:{Toolbar:fe},componentsProps:{toolbar:{sx:{"& .MuiButton-root":{fontWeight:600}}}}}),n&&e("div",{className:" absolute top-1/2 right-1/2 flex min-h-fit items-center justify-center",children:e(V.BeatLoader,{size:20,color:"#34d399",margin:2})})]})}function rr(){return A.useEffect(()=>{document.title="Categories"}),e("div",{style:{height:735,width:"100%",minWidth:650},className:"my-4  px-4  pb-12",children:e("div",{style:{display:"flex",height:"100%"},className:"  pt-4",children:r("div",{style:{flexGrow:1},children:[r("div",{className:"flex justify-between",children:[e("h1",{className:"p-2 text-center text-3xl font-bold text-gray-800 antialiased",children:"Categories"}),e(g,{to:"/admin/categories/add",children:e(U,{variant:"contained",color:"success",style:{marginRight:".75rem"},startIcon:e(Ae,{}),children:"Add"})})]}),e(sr,{})]})})})}function Ct({item:s}){const{name:t,_id:a,amount:n,price:l,image:d,imageName:i,category:b}=s,o=O(),c=C(m=>mt(m));return r("div",{className:"-mx-8 flex items-center px-6 py-5 hover:bg-gray-100",children:[r("div",{className:"flex w-2/5",children:[e("div",{className:"w-20",children:e("img",{className:"h-24",src:d,alt:i})}),r("div",{className:"ml-4 flex flex-grow flex-col justify-between",children:[e("span",{className:"text-sm font-bold",children:t}),e("span",{className:"text-xs text-red-500",children:c==null?void 0:c.map(m=>m._id===s.category?m.name:!1)}),r("button",{type:"button",className:"max-w-fit text-xs font-semibold text-gray-500 hover:text-red-500",onClick:()=>o(ms(a)),children:[e(it,{className:"align-middle text-xs"})," Remove"]})]})]}),r("div",{className:"flex w-1/5 justify-center",children:[e("button",{type:"button",onClick:()=>o(hs(a)),children:e("svg",{className:"w-3 fill-current text-gray-600",viewBox:"0 0 448 512",children:e("path",{d:"M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"})})}),e("input",{className:"mx-2 w-8 border text-center",type:"text",readOnly:!0,value:n}),e("button",{type:"button",onClick:()=>o(ds(a)),children:e("svg",{className:"w-3 fill-current text-gray-600",viewBox:"0 0 448 512",children:e("path",{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"})})})]}),e("span",{className:"w-1/5 text-center text-sm font-semibold",children:E(l)}),e("span",{className:"w-1/5 text-center text-sm font-semibold",children:E(n*l)})]})}function lr(){const{items:s,totalAmount:t}=C(i=>i.cart),{isLoggedIn:a,user:n}=C(i=>i.auth),l=O(),d=J();return p.exports.useEffect(()=>{l(xt())},[s,l]),p.exports.useEffect(()=>{document.title="Cart"},[]),s.length===0?e("div",{className:"flex min-h-screen items-center justify-center",children:r("div",{className:"-translate-y-1/2 text-center",children:[r("h1",{className:"text-3xl font-bold",children:[e(it,{fontSize:"large"})," Your cart is empty"]}),e(g,{to:"/products",className:"text-lg font-semibold hover:text-blueDark",children:"Go to products"})]})}):r("div",{className:"my-10 mx-20 flex min-h-screen shadow-md",children:[r("div",{className:"w-3/4 bg-white px-10 py-10",children:[r("div",{className:"flex  justify-between border-b pb-8",children:[e("h1",{className:"text-2xl font-semibold",children:"Shopping Cart"}),r("h2",{className:"flex flex-col text-2xl font-semibold",children:[s==null?void 0:s.length," Items",e("button",{type:"button",className:"text-xs text-gray-500 hover:text-gray-700 hover:underline",onClick:()=>{l(Xe()),_.info("Cart cleared successfully",{position:"bottom-right"})},children:"Clear cart"})," "]})]}),r("div",{className:"mt-10 mb-5 flex ",children:[e("h3",{className:"w-2/5 text-xs font-semibold uppercase text-gray-600",children:"Product Details"}),e("h3",{className:"w-1/5  text-center text-xs font-semibold uppercase text-gray-600",children:"Quantity"}),e("h3",{className:"w-1/5  text-center text-xs font-semibold uppercase text-gray-600",children:"Price"}),e("h3",{className:"w-1/5 text-center text-xs font-semibold uppercase text-gray-600",children:"Total"})]}),e("div",{className:"cartItem overflow-auto overflow-x-hidden md:max-h-[500px]",children:s==null?void 0:s.map((i,b)=>e(Ct,{item:i},b+1))}),r(g,{to:"/products",className:"mt-10 flex text-sm font-semibold text-indigo-600",children:[e("svg",{className:"mr-2 w-4 fill-current text-indigo-600",viewBox:"0 0 448 512",children:e("path",{d:"M134.059 296H436c6.627 0 12-5.373 12-12v-56c0-6.627-5.373-12-12-12H134.059v-46.059c0-21.382-25.851-32.09-40.971-16.971L7.029 239.029c-9.373 9.373-9.373 24.569 0 33.941l86.059 86.059c15.119 15.119 40.971 4.411 40.971-16.971V296z"})}),"Continue Shopping"]})]}),r("div",{id:"summary",className:"w-1/4 px-8 py-10",children:[e("h1",{className:"border-b pb-8 text-2xl font-semibold",children:"Order Summary"}),r("div",{className:"mt-10 mb-5 flex justify-between",children:[r("span",{className:"text-sm font-semibold uppercase",children:["Items: ",s==null?void 0:s.length]}),e("span",{className:"text-sm font-semibold",children:E(t)})]}),r("div",{children:[e("label",{className:"mb-3 inline-block text-sm font-medium uppercase",children:"Shipping"}),e("select",{className:"block w-full p-2 text-sm text-gray-600",children:e("option",{children:"Free shipping"})})]}),r("div",{className:"mt-8 border-t",children:[r("div",{className:"flex justify-between py-6 text-sm font-semibold uppercase",children:[e("span",{children:"Total cost"}),e("span",{children:E(t)})]}),e("button",{type:"button",className:"btn relative w-full rounded-sm border-0 bg-indigo-500 py-3 text-sm font-semibold uppercase text-white hover:bg-indigo-600",onClick:()=>{a||(_.warning("Please sign in before checkout",{position:"bottom-right"}),d("/signin")),(n==null?void 0:n.user.role)==="admin"&&(_.warning("Admin cannot checkout",{position:"bottom-right"}),d("/cart"))},children:e(g,{to:"checkout",className:"absolute inset-0 flex items-center justify-center",children:"Checkout"})})]})]})]})}function ir(){const s=O(),t=c=>{const m=se(ee);m.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(async v=>{if(v.isConfirmed)try{s(Fe(c)),m.fire("Deleted!","Banner has been deleted.","success")}catch{m.fire("Error!","Something went wrong, please try again.","error")}})},a=[{field:"id",headerName:"ID",width:50,cellClassName:"font-semibold"},{field:"title",headerName:"Title",width:150},{field:"subtitle",headerName:"Subtitle",width:250},{field:"buttonText",headerName:"Button Text",width:150},{field:"status",headerName:"Status",width:76,valueFormatter:c=>c.value===0?"Active":"Inactive",cellClassName:c=>c.value===0?"active-product":"inactive-product"},{field:"imageUrl",headerName:"Image",width:150,renderCell:c=>e("img",{src:c.value,alt:c.value})},{field:"_id",width:250,headerName:"Actions",renderCell:c=>r("div",{children:[e(g,{to:`/admin/banners/${c.value}/edit`,children:e(U,{variant:"contained",style:{marginRight:".75rem"},startIcon:e(Se,{}),size:"small",className:"bg-cyan-500",children:"Edit"})}),e(U,{onClick:()=>{t(c.value)},variant:"contained",color:"error",size:"small",startIcon:e(Ce,{}),children:"Delete"})]})}],{banner:n,loading:l,status:d}=C(c=>c.banner),i=n==null?void 0:n.map((c,m)=>L(f({},c),{id:m+1})),[b,o]=A.useState(10);return p.exports.useEffect(()=>{d==="idle"&&s(be())},[s,d]),r(ge,{children:[!l&&e(ce,{className:"mx-2 rounded-lg shadow-md drop-shadow-lg",rows:i,columns:a,pageSize:b,classes:{root:"bg-white",row:"hover:bg-gray-100 bg-white border border-gray-100",sortIcon:"text-gray-500",overlay:"bg-gray-100",columnHeaders:"border-gray-100",columnHeaderTitle:"font-bold text-gray-700",menuIconButton:"text-gray-600",columnSeparator:"hidden",cell:"text-gray-700",footerContainer:"border-t-0 text-gray-500",toolbarContainer:"gap-1"},onPageSizeChange:c=>o(c),rowsPerPageOptions:[10,20,50,100],components:{Toolbar:fe},componentsProps:{toolbar:{sx:{"& .MuiButton-root":{fontWeight:600}}}}}),l&&e("div",{className:" absolute top-1/2 right-1/2 flex min-h-fit items-center justify-center",children:e(V.BeatLoader,{size:20,color:"#34d399",margin:2})})]})}function nr(){return A.useEffect(()=>{document.title="Banners"}),e("div",{style:{height:735,width:"100%",minWidth:650},className:"my-4  px-4  pb-12",children:e("div",{style:{display:"flex",height:"100%"},className:"  pt-4",children:r("div",{style:{flexGrow:1},children:[r("div",{className:"flex justify-between",children:[e("h1",{className:"p-2 text-center text-3xl font-bold text-gray-800 antialiased",children:"HeroBanners"}),e(g,{to:"/admin/banners/add",children:e(U,{variant:"contained",color:"success",style:{marginRight:".75rem"},startIcon:e(Ae,{}),children:"Add"})})]}),e(ir,{})]})})})}const _t=ne().shape({title:z().required("Title is required"),subtitle:z().required("Subtitle is required"),buttonText:z().required("Button Text is required"),buttonLink:z().required("Button Link is required"),status:_e().required("Status is required")});function cr(){var N,u,h,y,S,B,D,$,R,I,H;const[s,t]=A.useState(null),[a,n]=A.useState(!1),{register:l,handleSubmit:d,formState:{errors:i},resetField:b}=X({resolver:Z(_t)}),o=J(),c=O(),m=q=>{q.target.files&&q.target.files.length>0&&t(q.target.files[0])},v=()=>{t(null),b("imageUrl")};return r("div",{className:"flex",children:[e("div",{className:"card ml-4 mt-4 w-full max-w-4xl flex-shrink-0 bg-base-100 shadow-lg shadow-slate-400 drop-shadow-2xl",children:e("div",{className:"card-body",children:r("form",{onSubmit:d(async q=>{try{if(n(!0),s!==null){const Q=q.imageUrl[0];q.imageName=Q.name;const M=await De(Q);q.imageUrl=M}else q.imageUrl="https://img.icons8.com/ios-filled/100/000000/no-image.png";const P=await c(ke(q));if(P.type!=="banner/createBanner/fulfilled"){_.error(P.error.message,{type:"error"}),o("/admin/banners");return}_.success("Banner added successfully",{position:_.POSITION.BOTTOM_RIGHT}),n(!1),o("/admin/banners")}catch(P){_.error(P.message,{type:"error"})}}),children:[r("div",{className:"grid grid-cols-2 gap-x-4",children:[r("div",{className:"form-control",children:[e("label",{className:"label",children:e("span",{className:"label-text font-semibold",children:"Title"})}),e("input",f({className:" input input-info border-2 ",type:"text",placeholder:"Title"},l("title"))),((N=i.title)==null?void 0:N.message)&&e(w,{severity:"error",className:"my-1 mb-2",variant:"filled",children:(u=i.title)==null?void 0:u.message})]}),r("div",{className:"form-control",children:[e("label",{className:"label",children:e("span",{className:"label-text font-semibold",children:"Subtitle"})}),e("input",f({className:" input input-info border-2",type:"text",placeholder:"Subtitle"},l("subtitle"))),((h=i.subtitle)==null?void 0:h.message)&&e(w,{severity:"error",className:"my-1 mb-2",variant:"filled",children:(y=i.subtitle)==null?void 0:y.message})]})]}),r("div",{className:"grid grid-cols-2 gap-x-4",children:[r("div",{className:"form-control",children:[e("label",{className:"label",children:e("span",{className:"label-text font-semibold",children:"Button Text"})}),e("input",f({className:" input input-info border-2 ",type:"text",placeholder:"Button Text"},l("buttonText"))),((S=i.buttonText)==null?void 0:S.message)&&e(w,{severity:"error",className:"my-1 mb-2",variant:"filled",children:(B=i.buttonText)==null?void 0:B.message})]}),r("div",{className:"form-control",children:[e("label",{className:"label",children:e("span",{className:"label-text font-semibold",children:"Button URL"})}),e("input",f({className:" input input-info border-2",type:"text",placeholder:"Button URL"},l("buttonLink"))),((D=i.buttonLink)==null?void 0:D.message)&&e(w,{severity:"error",className:"my-1 mb-2",variant:"filled",children:($=i.buttonLink)==null?void 0:$.message})]})]}),r("div",{className:"grid grid-cols-2 gap-x-4",children:[e("div",{children:r("div",{className:"form-control my-2",children:[e("label",{className:"label",children:e("span",{className:"label-text font-semibold",children:"Image"})}),e("input",L(f({className:"file:mr-4 file:rounded-full file:border-0\r file:bg-violet-50 file:py-2\r file:px-4 file:text-sm\r file:font-semibold file:text-cyan-500\r hover:file:bg-violet-100 ",type:"file",accept:"image/*",placeholder:"Image"},l("imageUrl")),{onChange:m})),(i==null?void 0:i.imageUrl)&&e(w,{severity:"error",className:"my-1 mb-2",variant:"filled",children:(R=i.imageUrl)==null?void 0:R.message})]})}),r("div",{className:"form-control my-2",children:[e("label",{className:"label",children:e("span",{className:"label-text font-semibold",children:"Status"})}),r("div",{className:"flex gap-x-3",children:[r("div",{className:" flex items-center",children:[e("input",L(f({type:"radio"},l("status")),{className:"radio radio-accent",value:0,checked:!0})),e("label",{className:"label",children:e("span",{className:"label-text font-semibold text-teal-500",children:"Active"})})]}),r("div",{className:"flex items-center",children:[e("input",L(f({type:"radio"},l("status")),{className:"radio border-roseLight  checked:bg-roseLight",value:1})),e("label",{className:"label",children:e("span",{className:"label-text font-semibold text-roseLight",children:"Inactive"})})]})]}),((I=i==null?void 0:i.status)==null?void 0:I.message)&&e(w,{severity:"error",className:"my-1 mb-2",variant:"filled",children:(H=i.status)==null?void 0:H.message})]})]}),!a&&e("div",{className:"form-control mt-6",children:e("button",{type:"submit",className:"btn  border-2 border-cyan-400  bg-sky-400 py-2 px-4 text-base font-bold text-white shadow shadow-sky-400 hover:bg-sky-500 ",children:"Create"})}),a&&e("div",{className:"flex min-h-fit items-center justify-center",children:e(V.BeatLoader,{size:20,color:"#34d399",margin:2})})]})})}),s&&e("div",{children:r("div",{className:"mt-4 flex h-full flex-col gap-y-2 rounded-md bg-slate-100 px-4 ",children:[e("h1",{className:"font-semibold text-gray-600",children:"Image Preview"}),e("div",{children:e("img",{src:URL.createObjectURL(s),alt:""})}),e("button",{type:"button",className:"btn btn-info mx-auto text-xs text-white shadow-md shadow-cyan-400",onClick:v,children:"Remove This Image"})]})})]})}function or(){var y,S,B,D,$,R,I,H,q,P,Q;const[s,t]=A.useState(null),[a,n]=A.useState(!1),{register:l,handleSubmit:d,formState:{errors:i},reset:b,resetField:o}=X({resolver:Z(_t)}),{id:c}=re(),m=C(M=>Aa(M,c)),v=J(),x=O(),N=M=>{M.target.files&&M.target.files.length>0&&t(M.target.files[0])},u=()=>{t(null),o("imageUrl")},h=async M=>{try{n(!0);const ae=M.imageUrl[0];if(s!==null){await wt(M.imageName);const Y=await De(ae);M.imageUrl=Y,M.imageName=ae.name}await x(Ie(M)),_.success("Banner updated successfully",{position:_.POSITION.BOTTOM_RIGHT}),n(!1),v("/admin/banners")}catch(ae){_.error(ae.message,{type:"error"})}};return p.exports.useEffect(()=>{m&&b(m)},[c,m,b]),r("div",{className:"flex",children:[e("div",{className:"card ml-4 mt-4 w-full max-w-4xl flex-shrink-0 bg-base-100 shadow-lg shadow-slate-400 drop-shadow-2xl",children:e("div",{className:"card-body",children:r("form",{onSubmit:d(h),children:[r("div",{className:"grid grid-cols-2 gap-x-4",children:[r("div",{className:"form-control",children:[e("label",{className:"label",children:e("span",{className:"label-text font-semibold",children:"Title"})}),e("input",f({className:" input input-info border-2 ",type:"text",placeholder:"Title"},l("title"))),((y=i==null?void 0:i.title)==null?void 0:y.message)&&e(w,{severity:"error",className:"my-1 mb-2",variant:"filled",children:(S=i.title)==null?void 0:S.message})]}),r("div",{className:"form-control",children:[e("label",{className:"label",children:e("span",{className:"label-text font-semibold",children:"Subtitle"})}),e("input",f({className:" input input-info border-2",type:"text",placeholder:"Subtitle"},l("subtitle"))),((B=i==null?void 0:i.subtitle)==null?void 0:B.message)&&e(w,{severity:"error",className:"my-1 mb-2",variant:"filled",children:(D=i==null?void 0:i.subtitle)==null?void 0:D.message})]})]}),r("div",{className:"grid grid-cols-2 gap-x-4",children:[r("div",{className:"form-control",children:[e("label",{className:"label",children:e("span",{className:"label-text font-semibold",children:"Button Text"})}),e("input",f({className:" input input-info border-2 ",type:"text",placeholder:"Button Text"},l("buttonText"))),(($=i==null?void 0:i.buttonText)==null?void 0:$.message)&&e(w,{severity:"error",className:"my-1 mb-2",variant:"filled",children:(R=i==null?void 0:i.buttonText)==null?void 0:R.message})]}),r("div",{className:"form-control",children:[e("label",{className:"label",children:e("span",{className:"label-text font-semibold",children:"Button URL"})}),e("input",f({className:" input input-info border-2",type:"text",placeholder:"Button URL"},l("buttonLink"))),((I=i==null?void 0:i.buttonLink)==null?void 0:I.message)&&e(w,{severity:"error",className:"my-1 mb-2",variant:"filled",children:(H=i==null?void 0:i.buttonLink)==null?void 0:H.message})]})]}),r("div",{className:"grid grid-cols-2 gap-x-4",children:[e("div",{children:r("div",{className:"form-control my-2",children:[e("label",{className:"label",children:e("span",{className:"label-text font-semibold",children:"Image"})}),e("input",L(f({className:"file:mr-4 file:rounded-full file:border-0\r file:bg-violet-50 file:py-2\r file:px-4 file:text-sm\r file:font-semibold file:text-cyan-500\r hover:file:bg-violet-100 ",type:"file",accept:"image/*",placeholder:"Image"},l("imageUrl")),{onChange:N})),(i==null?void 0:i.imageUrl)&&e(w,{severity:"error",className:"my-1 mb-2",variant:"filled",children:(q=i==null?void 0:i.imageUrl)==null?void 0:q.message})]})}),r("div",{className:"form-control my-2",children:[e("label",{className:"label",children:e("span",{className:"label-text font-semibold",children:"Status"})}),r("div",{className:"flex gap-x-3",children:[r("div",{className:" flex items-center",children:[e("input",f(L(f({type:"radio"},l("status")),{className:"radio radio-accent",value:0}),(m==null?void 0:m.status)===0&&{checked:!0})),e("label",{className:"label",children:e("span",{className:"label-text font-semibold text-teal-500",children:"Active"})})]}),r("div",{className:"flex items-center",children:[e("input",f(L(f({type:"radio"},l("status")),{className:"radio border-roseLight  checked:bg-roseLight",value:1}),(m==null?void 0:m.status)===1&&{checked:!0})),e("label",{className:"label",children:e("span",{className:"label-text font-semibold text-roseLight",children:"Inactive"})})]})]}),((P=i.status)==null?void 0:P.message)&&e(w,{severity:"error",className:"my-1 mb-2",variant:"filled",children:(Q=i==null?void 0:i.status)==null?void 0:Q.message})]})]}),!a&&e("div",{className:"form-control mt-6",children:e("button",{type:"submit",className:"btn  border-2 border-cyan-400  bg-sky-400 py-2 px-4 text-base font-bold text-white shadow shadow-sky-400 hover:bg-sky-500 ",children:"update"})}),a&&e("div",{className:"flex min-h-fit items-center justify-center",children:e(V.BeatLoader,{size:20,color:"#34d399",margin:2})})]})})}),s?e("div",{children:r("div",{className:"mt-4 flex h-full flex-col gap-y-2 rounded-md bg-slate-100 px-4 ",children:[e("h1",{className:"font-semibold text-gray-600",children:"Image Preview"}),e("div",{children:e("img",{src:URL.createObjectURL(s),alt:""})}),e("button",{type:"button",className:"btn btn-info mx-auto text-xs text-white shadow-md shadow-cyan-400",onClick:u,children:"Remove This Image"})]})}):e("div",{children:r("div",{className:"mt-4 flex h-full w-full flex-col gap-y-2 rounded-md bg-slate-100 px-4",children:[e("h1",{className:"font-semibold text-gray-600",children:"Present Image"}),e("div",{children:e("img",{src:m==null?void 0:m.imageUrl,alt:""})})]})})]})}const dr=()=>{const s=`/api/orders/${W().user._id}`;return j.get(s,G())},mr=s=>{const t=`/api/orders/${W().user._id}`;return j.post(t,s,G())},hr=s=>{const t=`/api/orders/${W().user._id}/${s._id}`;return j.put(t,s,G())},kt=s=>{const t=`/api/orders/details/${W().user._id}/${s}`;return j.get(t,G())},ur=s=>{const t=`/api/orders/${W().user._id}/${s}`;return j.delete(t,G())},fr=s=>{if(!s)return;const t=`/api/orders/user/${s}`;return j.get(t,G())},pr={orders:[],loading:!1,status:"idle",error:null},ye=T("orders/fetchOrders",async()=>{const{data:s}=await dr();return s}),ze=T("orders/addOrder",async s=>{const{data:t}=await mr(s);return ee.fire({position:"center",icon:"success",title:"Your order has been successfully placed!",showConfirmButton:!0}),t}),ie=T("orders/updateOrder",async s=>{try{const{data:t}=await hr(s);return t}catch(t){return t}}),Ge=T("orders/deleteOrder",async s=>{try{const{data:t}=await ur(s);return t}catch(t){return t}}),gr=te({name:"orders",initialState:pr,reducers:{},extraReducers:s=>{s.addCase(ye.pending,t=>{t.loading=!0}),s.addCase(ye.fulfilled,(t,a)=>{t.orders=a.payload,t.loading=!1,t.status="success"}),s.addCase(ye.rejected,(t,a)=>{t.error=a.error,t.loading=!1,t.status="error"}),s.addCase(ze.pending,t=>{t.loading=!0}),s.addCase(ze.fulfilled,(t,a)=>{t.orders.push(a.payload.order),t.loading=!1,t.status="success"}),s.addCase(ze.rejected,(t,a)=>{t.error=a.error,t.loading=!1,t.status="error"}),s.addCase(ie.pending,t=>{t.loading=!0}),s.addCase(ie.fulfilled,(t,a)=>{const n=a.payload.order,l=t.orders.findIndex(d=>d._id===n._id);t.orders[l]=n,t.loading=!1,t.status="success",_.success("Order updated successfully")}),s.addCase(ie.rejected,(t,a)=>{t.error=a.error,t.loading=!1,t.status="error"}),s.addCase(Ge.pending,t=>{t.loading=!0}),s.addCase(Ge.fulfilled,(t,a)=>{const{_id:n}=a.payload.order,l=t.orders.findIndex(d=>d._id===n);t.orders.splice(l,1),t.loading=!1,t.status="success"})}}),br=(s,t)=>s.orders.orders.find(a=>a._id===t);var xr=gr.reducer;ra.register(la,ia,na);function vr({data:s}){return r("div",{className:"w-1/3 rounded border p-4 shadow-md",children:[e("h1",{className:"mb-2 font-semibold",children:"Categories"}),e(ca,{data:s})]})}function Nr(){var u;const s=O(),t=K(),[a,n]=A.useState(0),{products:l}=C(h=>h.products),{users:d}=C(h=>h.users),{orders:i}=C(h=>h.orders),{user:b}=C(h=>h.auth),{categories:o}=C(h=>h.categories),c=o==null?void 0:o.map(h=>h.name),m=o==null?void 0:o.map(h=>l==null?void 0:l.filter(y=>y.category===h._id)),v=m==null?void 0:m.map(h=>h.length);oa(i,["createdAt"]);const x=i[i.length-1],N={labels:c,datasets:[{label:"# of Votes",data:v,backgroundColor:["rgba(255, 99, 132, 0.8)","rgba(54, 162, 235, 0.8)","rgba(255, 206, 86, 0.8)","rgba(75, 192, 192, 0.8)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)"],borderWidth:1}]};return p.exports.useEffect(()=>{s(Re()),s(Ne()),s(le()),s(ye())},[s]),p.exports.useEffect(()=>{document.title="Dashboard"}),p.exports.useEffect(()=>{var y;const h=(y=i==null?void 0:i.map(S=>S==null?void 0:S.total))==null?void 0:y.reduce((S,B)=>S+B,0);n(h)},[i]),r("div",{className:"px-4",children:[e("div",{className:"pb-4",children:r("h2",{className:"flex gap-x-2 font-mono text-3xl font-semibold",children:["Good ",t.hour()<12?"Morning ":"Afternoon ",r("p",{className:"text-black underline",children:[" ",(u=b==null?void 0:b.user)==null?void 0:u.name]})]})}),r("div",{className:"stats w-full bg-orangeLight shadow-lg shadow-orangeLight drop-shadow-lg",children:[r("div",{className:"stat",children:[e("div",{className:"stat-figure text-yellowLight",children:e(da,{fontSize:"large"})}),e("div",{className:"stat-title text-white",children:"Earn"}),e("div",{className:"stat-value text-white",children:E(a)}),e("div",{className:"stat-desc text-white",children:"Jan 1st - Feb 1st"})]}),r("div",{className:"stat",children:[e("div",{className:"stat-figure text-yellowLight",children:e(ma,{fontSize:"large"})}),e("div",{className:"stat-title text-white",children:"Users"}),e("div",{className:"stat-value text-white",children:d==null?void 0:d.length}),e("div",{className:"stat-desc text-white",children:"\u2197\uFE0E 1 (22%)"})]}),r("div",{className:"stat",children:[e("div",{className:"stat-figure text-yellowLight",children:e(ha,{fontSize:"large"})}),e("div",{className:"stat-title text-white",children:"Orders"}),e("div",{className:"stat-value text-white",children:i==null?void 0:i.length}),e("div",{className:"stat-desc text-white",children:"\u2198\uFE0E 90 (14%)"})]})]}),r("div",{className:"chart flex gap-x-4 py-8",children:[e(vr,{data:N}),r("div",{children:[r("h2",{className:"text-lg font-semibold",children:["Recent Order #",x==null?void 0:x._id]}),e("div",{className:"flex flex-col",children:e("p",{children:K(x==null?void 0:x.createdAt).format("HH:mm DD/MM/YYYY ")})})]})]})]})}const yr=ne().shape({name:z().required("Name is required").min(3,"Name must be at least 3 characters").max(50,"Name must be less than 50 characters")});function wr(){var S,B,D,$;const{register:s,handleSubmit:t,formState:{errors:a},resetField:n,reset:l}=X({resolver:Z(yr)}),[d,i]=p.exports.useState(null),[b,o]=p.exports.useState(!0),c=J(),m=O(),{message:v}=C(R=>R.message),{user:x,isLoggedIn:N}=C(R=>R.auth),u=async R=>{o(!1),v&&m(ue());const I=R.avatarUrl[0];if(d!==null){await Ts(R.avatarName);const H=await Us(I);R.avatarUrl=H,R.avatarName=I.name}setTimeout(async()=>{await m(gt(R)).unwrap().then(()=>{_.success("Change your info successfully.",{position:_.POSITION.BOTTOM_RIGHT}),c("/")}).catch(()=>{o(!0)})},750)},h=R=>{R.target.files&&R.target.files.length>0&&i(R.target.files[0])},y=()=>{i(null),n("avatarUrl")};return p.exports.useEffect(()=>{if(N===!1)return c("/")},[]),p.exports.useEffect(()=>{m(ue())},[m]),p.exports.useEffect(()=>{l(x==null?void 0:x.user)},[x,l,m]),p.exports.useEffect(()=>{document.title="Profile"},[]),e("div",{className:"min-h-screen px-20 py-4",children:r("div",{className:"flex",children:[e("div",{className:"card mt-4 w-full max-w-4xl flex-shrink-0 bg-base-100 shadow-lg shadow-slate-400 drop-shadow-2xl",children:e("div",{className:"card-body",children:r("form",{onSubmit:t(u),className:"flex h-full flex-col justify-between",children:[r("div",{className:"grid grid-cols-2 gap-x-4",children:[r("div",{className:"form-control",children:[e("label",{className:"label",children:e("span",{className:"label-text font-semibold",children:"Name"})}),e("input",f({className:" input input-info border-2 ",type:"text",placeholder:"Name"},s("name"))),((S=a.name)==null?void 0:S.message)&&e(w,{severity:"error",className:"my-1 mb-2",variant:"filled",children:(B=a.name)==null?void 0:B.message})]}),r("div",{className:"form-control my-2",children:[e("label",{className:"label",children:e("span",{className:"label-text font-semibold",children:"Avatar"})}),e("input",L(f({className:"file:mr-4 file:rounded-full file:border-0\r file:bg-violet-50 file:py-2\r file:px-4 file:text-sm\r file:font-semibold file:text-cyan-500\r hover:file:bg-violet-100",type:"file",accept:"image/*",placeholder:"Avatar"},s("avatarUrl")),{onChange:h})),((D=a.avatarUrl)==null?void 0:D.message)&&e(w,{severity:"error",className:"my-1 mb-2",variant:"filled",children:($=a.avatarUrl)==null?void 0:$.message})]}),e("div",{className:"form-control my-2",children:r(g,{to:"/",className:"w-fit rounded-full bg-emerald-400 p-2 text-xs text-white",children:["Change password"," "]})})]}),v&&e("div",{className:"form-group",children:e(w,{severity:"error",variant:"filled",children:v})}),b===!0&&e("div",{className:"form-control mt-6",children:e("button",{type:"submit",className:"btn  border-2 border-cyan-400  bg-sky-400 py-2 px-4 text-base font-bold text-white shadow shadow-sky-400 hover:bg-sky-500 ",children:"change info"})}),b===!1&&e("div",{className:"flex min-h-fit items-center justify-center",children:e(V.BeatLoader,{size:20,color:"#34d399",margin:2})})]})})}),d?e("div",{children:r("div",{className:"mt-4 flex h-full flex-col gap-y-2 rounded-md bg-slate-100 px-4 ",children:[e("h1",{className:"font-semibold text-gray-600",children:"Avatar Preview"}),e("div",{className:"avatar",children:e("img",{src:URL.createObjectURL(d),alt:"",className:"rounded-full md:h-80 md:w-80"})}),e("button",{type:"button",className:"btn btn-info mx-auto text-xs text-white shadow-md shadow-cyan-400",onClick:y,children:"Remove This Image"})]})}):e("div",{children:r("div",{className:"mt-4 flex h-full w-full flex-col gap-y-2 rounded-md bg-slate-100 px-4",children:[e("h1",{className:"font-semibold text-gray-600",children:"Present Avatar"}),e("div",{className:"avatar",children:e("img",{src:x==null?void 0:x.user.avatarUrl,alt:"",className:"rounded-full md:h-80 md:w-80"})})]})})]})})}function Sr(){return e(wr,{})}function Cr(){p.exports.useEffect(()=>{document.title="Orders"});const s=O(),t=o=>{const c=se(ee);c.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(async m=>{if(m.isConfirmed)try{s(Ge(o)),c.fire("Deleted!","Order has been deleted.","success")}catch{c.fire("Error!","Something went wrong, please try again.","error")}})},a=[{field:"id",headerName:"ID",width:50},{field:"address, city, name",headerName:"Informations",width:200,valueGetter:o=>`${o.row.name} ${o.row.address}, ${o.row.city}, ${o.row.phone}`},{field:"productsQuantity",headerName:"Quantity",width:75},{field:"total",headerName:"Total Price",width:100},{field:"status",headerName:"Status",headerClassName:"status-header",width:100,valueFormatter:o=>{if(o.value==="pending")return"Pending";if(o.value==="delivery")return"Delivery";if(o.value==="completed")return"Completed";if(o.value==="cancelled")return"Cancelled"},cellClassName:o=>o.value==="pending"?"pending":o.value==="delivery"?"delivery":o.value==="completed"?"completed":o.value==="cancelled"?"cancelled":""},{field:"createdAt",headerName:"Create At",width:150,valueFormatter:o=>K(o.value).format("HH:mm DD/MM/YYYY ")},{field:"updatedAt",headerName:"Last Updated",width:150,valueFormatter:o=>K(o.value).format("HH:mm DD/MM/YYYY ")},{field:"_id",width:340,headerName:"Actions",renderCell:o=>r("div",{children:[e(g,{to:`/admin/orders/${o.value}/view`,children:e(U,{variant:"contained",style:{marginRight:".75rem"},startIcon:e(pe,{}),size:"small",className:"bg-blueDark",children:"Detail"})}),e(g,{to:`/admin/orders/${o.value}/edit`,children:e(U,{variant:"contained",style:{marginRight:".75rem"},startIcon:e(Se,{}),size:"small",className:"bg-cyan-500",children:"Edit"})}),e(U,{variant:"contained",color:"error",size:"small",startIcon:e(Ce,{}),onClick:()=>t(o.value),children:"Delete"})]})}],{orders:n,loading:l}=C(o=>o.orders),d=n.map((o,c)=>L(f({},o),{productsQuantity:o.products.map(m=>m.quantity).reduce((m,v)=>m+v),total:E(o.total),id:c+1})),[i,b]=A.useState(10);return p.exports.useEffect(()=>{s(ye())},[s]),e("div",{style:{height:735,width:"100%",minWidth:650},className:"my-4  px-4  pb-12",children:e("div",{style:{display:"flex",height:"100%"},className:"  pt-4",children:r("div",{style:{flexGrow:1},children:[e("div",{className:"flex justify-between",children:e("h1",{className:"p-2 text-center text-3xl font-bold text-gray-800 antialiased",children:"Orders"})}),!l&&e(ce,{className:"mx-2 rounded-lg shadow-md drop-shadow-lg",rows:d,columns:a,pageSize:i,classes:{root:"bg-white",row:"hover:bg-gray-100 bg-white border border-gray-100",sortIcon:"text-gray-500",overlay:"bg-gray-100",columnHeaders:"border-gray-100",columnHeaderTitle:"font-bold text-gray-700",menuIconButton:"text-gray-600",columnSeparator:"hidden",cell:"text-gray-700",footerContainer:"border-t-0 text-gray-500",toolbarContainer:"gap-1"},onPageSizeChange:o=>b(o),rowsPerPageOptions:[10,20,50,100],components:{Toolbar:fe},componentsProps:{toolbar:{sx:{"& .MuiButton-root":{fontWeight:600}}}}}),l&&e("div",{className:" absolute top-1/2 right-1/2 flex min-h-fit items-center justify-center",children:e(V.BeatLoader,{size:20,color:"#34d399",margin:2})})]})})})}const _r=/^((\\+[1-9]{1,4}[ \\-]*)|(\\([0-9]{2,3}\\)[ \\-]*)|([0-9]{2,4})[ \\-]*)*?[0-9]{3,4}?[ \\-]*[0-9]{3,4}?$/,kr=ne().shape({name:z().required("Name is required").min(3,"Name must be at least 3 characters").max(50,"Name must be less than 50 characters").trim(),email:z().email("Invalid email address").required("Email is required"),address:z().required("Address is required").trim(),city:z().required("City is required").trim(),phone:z().matches(_r,"Phone number is not valid").required("Phone number is required").trim()});function Ir(){const{register:s,handleSubmit:t,formState:{errors:a},reset:n}=X({resolver:Z(kr)}),l=J(),d=O(),{loading:i,error:b}=C(I=>I.orders),{items:o,totalAmount:c}=C(I=>I.cart),{user:m,isLoggedIn:v}=C(I=>I.auth),{ready:x,value:N,suggestions:{status:u,data:h},setValue:y,clearSuggestions:S}=ua({requestOptions:{},debounce:300});fa(()=>{S()});const B=I=>{y(I.target.value)},D=({description:I})=>()=>{y(I,!1),S()},$=()=>h.map(I=>{const{place_id:H,structured_formatting:{main_text:q,secondary_text:P}}=I;return r("li",{className:"cursor-pointer px-4 hover:bg-slate-100",onClick:D(I),children:[e("strong",{children:q})," ",e("small",{children:P})]},H)}),R=async I=>{I.address=N;const H=o.map(P=>({productId:P._id,quantity:P.amount}));se(ee).fire({title:"Are you sure?",icon:"info",showCancelButton:!0,confirmButtonColor:"#38bdf8",cancelButtonColor:"#ef4444",confirmButtonText:"Yes, checkout!"}).then(async P=>{if(P.isConfirmed)try{await d(ze({user:m.user._id,name:I.name,email:I.email,address:I.address,city:I.city,phone:I.phone,products:H,total:c})),await d(Xe()),l("/cart")}catch{_("\u2764 Something went wrong",{position:"bottom-right"})}})};return p.exports.useEffect(()=>{v&&n({name:m==null?void 0:m.user.name,email:m==null?void 0:m.user.email})},[n,m]),p.exports.useEffect(()=>{document.title="Checkout"},[]),r("div",{className:"my-10 mx-20 flex min-h-screen shadow-md",children:[r("div",{className:"w-3/4 bg-white px-10 py-10",children:[r("div",{className:"flex items-center justify-between border-b pb-8",children:[e("h1",{className:"text-2xl font-semibold",children:"Checkout"}),e("h2",{className:"flex flex-col text-lg font-semibold",children:"Input your info below"})]}),e("div",{className:"mt-10 mb-5 flex w-full",children:e("div",{className:"w-full",children:r("form",{onSubmit:t(R),children:[r("div",{className:"grid md:grid-cols-2 md:gap-x-2",children:[r("div",{className:"form-control",children:[e("input",f({type:"text",placeholder:"Name",className:"input input-info border-2 shadow shadow-cyan-300 drop-shadow-sm focus:shadow-md focus:shadow-cyan-300 focus:outline-0"},s("name"))),(a==null?void 0:a.name)&&e(w,{severity:"error",variant:"filled",className:"my-1 mb-2",children:a==null?void 0:a.name.message})]}),r("div",{className:"form-control",children:[e("input",f({type:"text",placeholder:"Email",className:"input input-info border-2 shadow shadow-cyan-300 drop-shadow-sm focus:shadow-md focus:shadow-cyan-300 focus:outline-0"},s("email"))),(a==null?void 0:a.email)&&e(w,{severity:"error",variant:"filled",className:"my-1 mb-2",children:a==null?void 0:a.email.message})]})]}),r("div",{className:"form-control my-2",children:[e("input",L(f({value:N,disabled:!x,placeholder:"Your address",className:"textarea textarea-info w-full resize-none border-2 shadow shadow-cyan-300 drop-shadow-sm focus:shadow-md focus:shadow-cyan-300 focus:outline-0"},s("address")),{onChange:B})),u==="OK"&&e("ul",{className:"mb-2 rounded-b bg-slate-200",children:$()}),(a==null?void 0:a.address)&&e(w,{severity:"error",variant:"filled",className:"my-1 mb-2",children:a.address.message})]}),r("div",{className:"grid md:grid-cols-2 md:gap-x-2",children:[r("div",{className:"form-control",children:[e("input",f({type:"string",placeholder:"Phone Number",className:"input input-info border-2 shadow shadow-cyan-300 drop-shadow-sm focus:shadow-md focus:shadow-cyan-300 focus:outline-0"},s("phone"))),(a==null?void 0:a.phone)&&e(w,{severity:"error",variant:"filled",className:"my-1 mb-2",children:a==null?void 0:a.phone.message})]}),r("div",{className:"form-control",children:[e("input",f({type:"text",placeholder:"City",className:"input input-info border-2 shadow shadow-cyan-300 drop-shadow-sm focus:shadow-md focus:shadow-cyan-300 focus:outline-0"},s("city"))),(a==null?void 0:a.city)&&e(w,{severity:"error",variant:"filled",className:"my-1 mb-2",children:a==null?void 0:a.city.message})]})]}),r("div",{className:"form-control relative my-4 flex items-center justify-center",children:[e("button",{type:"submit",className:" btn  w-full rounded-sm border-0 bg-indigo-500 py-3 text-sm font-semibold uppercase text-white hover:bg-indigo-600",children:"Confirm Order"}),i&&e(V.MoonLoader,{size:25,color:"#171722"})]})]})})}),r(g,{to:"/products",className:"mt-10 flex text-sm font-semibold text-indigo-600",children:[e("svg",{className:"mr-2 w-4 fill-current text-indigo-600",viewBox:"0 0 448 512",children:e("path",{d:"M134.059 296H436c6.627 0 12-5.373 12-12v-56c0-6.627-5.373-12-12-12H134.059v-46.059c0-21.382-25.851-32.09-40.971-16.971L7.029 239.029c-9.373 9.373-9.373 24.569 0 33.941l86.059 86.059c15.119 15.119 40.971 4.411 40.971-16.971V296z"})}),"Continue Shopping"]})]}),r("div",{id:"summary",className:"w-1/2  py-10 ",children:[e("h1",{className:"border-b pb-8 text-2xl font-semibold",children:"Order Summary"}),e("div",{className:"mt-10 mb-5 flex max-h-80 min-w-fit max-w-xl flex-col justify-between overflow-y-auto overflow-x-hidden",children:o==null?void 0:o.map((I,H)=>e(Ct,{item:I},H+1))}),r("div",{className:"mt-8 p-2 ",children:[r("div",{className:"text-md flex  gap-x-2 py-2 font-bold uppercase",children:[e("span",{children:"Items"}),e("span",{children:o==null?void 0:o.length})]}),r("div",{className:"flex justify-between py-2 text-sm font-semibold uppercase",children:[e("span",{children:"Subtotal"}),e("span",{children:E(c)})]}),r("div",{className:"flex justify-between py-2 text-sm font-semibold uppercase",children:[e("span",{children:"Shipping"}),e("span",{children:E(0)})]}),r("div",{className:"flex justify-between py-2 text-sm font-semibold uppercase",children:[e("span",{children:"Total cost"}),e("span",{className:"font-bold",children:E(c)})]})]})]})]})}function Lr(){var N;const s=O(),t=J(),{isLoggedIn:a,user:n}=C(u=>u.auth),l=(N=n==null?void 0:n.user)==null?void 0:N._id,[d,i]=p.exports.useState([{}]),[b,o]=p.exports.useState(!0),c=async u=>{const h=se(ee);h.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, i want to revert this!"}).then(async y=>{if(y.isConfirmed)try{s(ie({_id:u,status:"cancelled"})),t(`/orders/${u}`),h.fire("Cancelled","Order has been  cancelled","success")}catch{h.fire("Error!","Something went wrong, please try again.","error")}})},m=async u=>{const h=se(ee);h.fire({title:"Confirm received?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, I has been received"}).then(async y=>{if(y.isConfirmed)try{s(ie({_id:u,status:"completed"})),t("/orders"),h.fire("Confirmed","Order has been confirmed","success")}catch{h.fire("Error!","Something went wrong, please try again.","error")}})},v=[{field:"_id",headerName:"ID",width:220,cellClassName:"order-id",valueFormatter:u=>`#${u.value}`},{field:"productsQuantity",headerName:"Quantity",width:100},{field:"total",headerName:"Total Price",width:100},{field:"status",headerName:"Status",headerClassName:"status-header",width:100,valueFormatter:u=>{if(u.value==="pending")return"Pending";if(u.value==="delivery")return"Delivery";if(u.value==="completed")return"Completed";if(u.value==="cancelled")return"Cancelled"},cellClassName:u=>u.value==="pending"?"pending":u.value==="delivery"?"delivery":u.value==="completed"?"completed":u.value==="cancelled"?"cancelled":""},{field:"createdAt",headerName:"Create At",width:150,valueFormatter:u=>K(u.value).format("HH:mm DD/MM/YY ")},{field:"updatedAt",headerName:"Last Updated",width:150,valueFormatter:u=>K(u.value).format("HH:mm DD/MM/YY ")},{field:"idAction",width:350,headerName:"Actions",renderCell:u=>r("div",{children:[e(g,{to:`${u.value}`,children:e(U,{size:"small",variant:"text",className:"font-bold",startIcon:e(pe,{}),children:"View"})}),u.row.status==="pending"&&e(U,{size:"small",variant:"text",color:"error",className:"font-bold",onClick:()=>c(u.value),startIcon:e(pa,{}),children:e("p",{children:"Cancel"})}),u.row.status==="delivery"&&e(U,{size:"small",variant:"text",className:"font-bold text-emerald-600 hover:bg-emerald-100",color:"info",onClick:()=>m(u.value),startIcon:e(st,{}),children:e("p",{children:"Received"})})]})}],x=d.map((u,h)=>{var y;return L(f({},u),{productsQuantity:(y=u==null?void 0:u.products)==null?void 0:y.map(S=>S.quantity).reduce((S,B)=>S+B),total:E(u.total),idAction:u._id,id:h+1})});return p.exports.useEffect(()=>{(async h=>{const{data:y}=await fr(h)||{};o(!1),i(y==null?void 0:y.userOrders)})(l)},[l,s]),p.exports.useEffect(()=>{n||t("/")},[a,n,t]),p.exports.useEffect(()=>{var u;((u=n==null?void 0:n.user)==null?void 0:u.role)==="admin"&&(_.warning("Admin do not have orders"),t("/"))},[t]),p.exports.useEffect(()=>{document.title="Orders"},[]),r("div",{className:"px-20 py-4",children:[e("h1",{className:"text-2xl font-bold",children:"Your orders"}),e("div",{className:"flex flex-col  justify-center",children:(d==null?void 0:d.length)===0?e("div",{className:"flex min-h-screen items-center justify-center",children:r("div",{className:"-translate-y-1/2 text-center",children:[e("h1",{className:"text-3xl font-bold",children:"You don't have any orders"}),e(g,{to:"/products",className:"text-lg font-semibold hover:text-blueDark",children:"Buy some products"})]})}):e("div",{className:"min-h-screen py-4",children:e("div",{style:{height:500,width:"100%",minWidth:650},children:b===!1?e(ce,{className:"mx-2 rounded-lg shadow-md drop-shadow-lg",rows:x,columns:v,classes:{root:"bg-white",row:"hover:bg-gray-100 bg-white border border-gray-100",sortIcon:"text-gray-500",overlay:"bg-gray-100",columnHeaders:"border-gray-100",columnHeaderTitle:"font-bold text-gray-700",menuIconButton:"text-gray-600",columnSeparator:"hidden",cell:"text-gray-700",footerContainer:"border-t-0 text-gray-500",toolbarContainer:"gap-1"},rowsPerPageOptions:[10,20,50,100],componentsProps:{toolbar:{sx:{"& .MuiButton-root":{fontWeight:600}}}}}):e("div",{className:" absolute top-1/2 right-1/2 flex min-h-fit items-center justify-center",children:e(je,{size:20,color:"#34d399",margin:2})})})})})]})}const Pr=/^((\\+[1-9]{1,4}[ \\-]*)|(\\([0-9]{2,3}\\)[ \\-]*)|([0-9]{2,4})[ \\-]*)*?[0-9]{3,4}?[ \\-]*[0-9]{3,4}?$/,Br=ne().shape({address:z().required("Address is required").trim(),email:z().email("Email is invalid").required("Email is required").trim(),phone:z().matches(Pr,"Phone number is not valid").required("Phone number is required").trim(),city:z().required("City is required").trim(),name:z().required("Name is required").min(3,"Name must be at least 3 characters").trim()});function Or(){var m,v,x,N,u,h,y,S;const s=J(),t=O(),{orderId:a}=re(),n=C(B=>br(B,a)),{register:l,handleSubmit:d,formState:{errors:i},reset:b}=X({resolver:Z(Br)}),{loading:o}=C(B=>B.orders),c=async B=>{try{await t(ie(B)),s("/admin/orders")}catch(D){_.error(D.message)}};return p.exports.useEffect(()=>{n&&b(n)},[a]),p.exports.useEffect(()=>{document.title="Edit Order"},[]),e("div",{className:"flex",children:e("div",{className:"card ml-4 mt-4 w-full max-w-4xl flex-shrink-0 bg-base-100 shadow-lg shadow-slate-400 drop-shadow-2xl",children:e("div",{className:"card-body",children:r("form",{onSubmit:d(c),children:[r("div",{className:"grid grid-cols-2 gap-x-4",children:[r("div",{className:"form-control",children:[e("label",{className:"label",children:e("span",{className:"label-text font-semibold",children:"Name"})}),e("input",f({className:" input input-info border-2 ",type:"text",placeholder:"Name"},l("name"))),((m=i.name)==null?void 0:m.message)&&e(w,{severity:"error",className:"my-1 mb-2",variant:"filled",children:(v=i.name)==null?void 0:v.message})]}),r("div",{className:"form-control",children:[e("label",{className:"label",children:e("span",{className:"label-text font-semibold",children:"Email"})}),e("input",f({className:" input input-info border-2 ",type:"text",placeholder:"Email"},l("email"))),((x=i.email)==null?void 0:x.message)&&e(w,{severity:"error",className:"my-1 mb-2",variant:"filled",children:(N=i.email)==null?void 0:N.message})]})]}),r("div",{className:"grid grid-cols-2 items-start justify-start gap-x-4",children:[r("div",{className:"form-control",children:[e("label",{className:"label",children:e("span",{className:"label-text font-semibold",children:"Address"})}),e("textarea",f({cols:5,rows:10,className:"textarea textarea-info resize-none border-2 shadow shadow-cyan-300 drop-shadow-sm focus:shadow-md focus:shadow-cyan-300 focus:outline-0 md:h-24"},l("address"))),(i==null?void 0:i.address)&&e(w,{severity:"error",variant:"filled",className:"my-1 mb-2",children:i==null?void 0:i.address.message})]}),r("div",{className:"form-control",children:[e("label",{className:"label",children:e("span",{className:"label-text font-semibold",children:"City"})}),e("input",f({className:" input input-info border-2 ",type:"text",placeholder:"City"},l("city"))),((u=i.city)==null?void 0:u.message)&&e(w,{severity:"error",className:"my-1 mb-2",variant:"filled",children:(h=i.city)==null?void 0:h.message})]})]}),e("div",{className:"grid grid-cols-2 gap-x-4",children:r("div",{className:"form-control my-2",children:[e("label",{className:"label",children:e("span",{className:"label-text font-semibold",children:"Status"})}),r("div",{className:"flex gap-x-3",children:[r("div",{className:" flex items-center",children:[e("input",L(f({type:"radio"},l("status")),{className:"radio border-orangeLight  checked:bg-orangeLight ",value:"pending"})),e("label",{className:"label",children:e("span",{className:"label-text font-semibold text-orangeLight",children:"Pending"})})]}),r("div",{className:"flex items-center",children:[e("input",L(f({type:"radio"},l("status")),{className:"radio border-blue-500  checked:bg-blue-500",value:"delivery"})),e("label",{className:"label",children:e("span",{className:"label-text font-semibold text-blue-500",children:"Delivery"})})]}),r("div",{className:"flex items-center",children:[e("input",L(f({type:"radio"},l("status")),{className:"radio border-green-500  checked:bg-green-500",value:"completed"})),e("label",{className:"label",children:e("span",{className:"label-text font-semibold text-green-500",children:"Completed"})})]}),r("div",{className:"flex items-center",children:[e("input",L(f({type:"radio"},l("status")),{className:"radio border-roseLight  checked:bg-roseLight",value:"cancelled"})),e("label",{className:"label",children:e("span",{className:"label-text font-semibold text-roseLight",children:"Cancelled"})})]})]}),((y=i.status)==null?void 0:y.message)&&e(w,{severity:"error",className:"my-1 mb-2",variant:"filled",children:(S=i.status)==null?void 0:S.message})]})}),!o&&e("div",{className:"form-control mt-6",children:e("button",{type:"submit",className:"btn  border-2 border-cyan-400  bg-sky-400 py-2 px-4 text-base font-bold text-white shadow shadow-sky-400 hover:bg-sky-500 ",children:"Create"})}),o&&e("div",{className:"flex min-h-fit items-center justify-center",children:e(V.BeatLoader,{size:20,color:"#34d399",margin:2})})]})})})})}function Rr(){const[s,t]=p.exports.useState(!0),[a,n]=p.exports.useState({}),[l,d]=p.exports.useState({}),[i,b]=p.exports.useState([]),[o,c]=p.exports.useState(0),{orderId:m}=re();return p.exports.useEffect(()=>{kt(m).then(v=>{n(v.data.orderDetails.orderInfo),d(v.data.orderDetails.userInfo),b(v.data.orderDetails.products),c(v.data.orderDetails.products.map(x=>x.quantity).reduce((x,N)=>x+N)),t(!1)})},[m]),p.exports.useEffect(()=>{document.title=`Order Details #${a._id}`},[a._id]),r("div",{className:"p-4",children:[r("h1",{className:"text-2xl font-bold text-gray-600",children:["Order Details #",a==null?void 0:a._id]}),s===!1?r("div",{className:"flex flex-wrap gap-2 py-4",children:[r("div",{className:"orderInfo  rounded border-2 border-gray-400 bg-slate-100 bg-gradient-to-br from-teal-500 to-gray-600 p-2 text-neutral-content shadow-lg drop-shadow-md",children:[e("h3",{className:"mb-2 rounded-sm border-2 py-1 text-center font-semibold ",children:"Order Information's"}),r("div",{className:"flex flex-col",children:[r("div",{className:"orderInfo__item",children:[e("span",{className:"orderInfo__item-label",children:"Order ID: "}),e("span",{className:"orderInfo__item-value",children:a==null?void 0:a._id})]}),r("div",{className:"orderInfo__item",children:[e("span",{className:"orderInfo__item-label",children:"Order Date: "}),e("span",{className:"orderInfo__item-value",children:K(a==null?void 0:a.createdAt).format("DD/MM/YYYY")})]}),r("div",{className:"orderInfo__item",children:[e("span",{className:"orderInfo__item-label",children:"Order Status: "}),(a==null?void 0:a.status)==="pending"&&e("span",{className:"orderInfo__item-value text-orange-500",children:"Pending"}),(a==null?void 0:a.status)==="delivery"&&e("span",{className:"orderInfo__item-value text-blue-500",children:"Delivery"}),(a==null?void 0:a.status)==="completed"&&e("span",{className:"orderInfo__item-value text-green-500",children:"Completed"}),(a==null?void 0:a.status)==="cancelled"&&e("span",{className:"orderInfo__item-value text-rose-500",children:"Cancelled"})]}),r("div",{className:"orderInfo__item",children:[e("span",{className:"orderInfo__item-label",children:"Total Price: "}),e("span",{className:"orderInfo__item-value",children:E(a==null?void 0:a.total)})]})]})]}),r("div",{className:"orderInfo grow  flex-1 rounded border-2 border-gray-400 bg-slate-100 bg-gradient-to-bl from-orangeLight to-slate-600 p-2 text-neutral-content shadow-lg drop-shadow-md",children:[r("h3",{className:"mb-2 flex items-center justify-between rounded-sm border-2 py-1 text-center font-semibold ",children:["User Information's"," ",e("img",{src:l==null?void 0:l.avatarUrl,alt:l==null?void 0:l.avatarName,className:"avatar cursor-pointer rounded-full transition-all md:h-6 md:w-6 md:hover:scale-[200%]"})]}),r("div",{className:"flex flex-col",children:[r("div",{className:"orderInfo__item",children:[e("span",{className:"orderInfo__item-label",children:"User ID: "}),e("span",{className:"orderInfo__item-value",children:l==null?void 0:l._id})]}),r("div",{className:"orderInfo__item",children:[e("span",{className:"orderInfo__item-label",children:"User Name: "}),e("span",{className:"orderInfo__item-value",children:a==null?void 0:a.name})]}),r("div",{className:"orderInfo__item",children:[e("span",{className:"orderInfo__item-label",children:"User Email: "}),e("span",{className:"orderInfo__item-value",children:a==null?void 0:a.email})]}),r("div",{className:"orderInfo__item",children:[e("span",{className:"orderInfo__item-label",children:"Phone Number: "}),e("span",{className:"orderInfo__item-value",children:a==null?void 0:a.phone})]}),r("div",{className:"orderInfo__item",children:[e("span",{className:"orderInfo__item-label",children:"Address: "}),e("span",{className:"orderInfo__item-value",children:e("address",{children:`${a==null?void 0:a.address}, ${a==null?void 0:a.city}`})})]})]})]}),r("div",{className:"orderInfo w-full? rounded border-2 border-gray-400 bg-slate-100 bg-gradient-to-tr from-pink-500 to-gray-600 p-2 text-neutral-content shadow-lg drop-shadow-md",children:[e("h3",{className:"mb-2 rounded-sm border-2 py-1 text-center font-semibold ",children:"Products Ordered Information's"}),r("div",{className:"flex flex-col",children:[e("div",{className:"orderInfo__item",children:r("span",{className:"orderInfo__item-label",children:["Total quantity: ",o," "]})}),r("span",{className:"orderInfo__item-label text-white ",children:["Products:"," "]}),e("div",{className:"orderInfo__item overflow-x-auto",children:r("table",{className:"table table-zebra  w-full text-gray-800  ",children:[e("thead",{children:r("tr",{children:[e("th",{}),e("th",{className:"font-semibold",children:"Name"}),e("th",{className:"font-semibold",children:"Price"}),e("th",{className:"font-semibold",children:"Quantity"}),e("th",{className:"font-semibold",children:"Total"})]})}),e("tbody",{children:i==null?void 0:i.map((v,x)=>r("tr",{className:"hover",children:[e("th",{children:x+1}),e("td",{children:v.productItem.name}),e("td",{children:E(v.productItem.price)}),e("td",{children:v.quantity}),e("td",{children:E(v.quantity*v.productItem.price)})]},x))})]})}),e("div",{className:"text-right font-extrabold text-white",children:r("span",{children:["Sum: ",E(a==null?void 0:a.total)]})})]})]})]}):e("div",{className:" absolute top-1/2 right-1/2 flex min-h-fit items-center justify-center",children:e(je,{size:20,color:"#34d399",margin:2})})]})}function Ur(){const s=O(),t=J(),[a,n]=p.exports.useState({}),[l,d]=p.exports.useState({}),[i,b]=p.exports.useState([]),[o,c]=p.exports.useState(0),[m,v]=p.exports.useState(!0),{orderId:x}=re();p.exports.useEffect(()=>{kt(x).then(h=>{n(h.data.orderDetails.orderInfo),d(h.data.orderDetails.userInfo),b(h.data.orderDetails.products),c(h.data.orderDetails.products.map(y=>y.quantity).reduce((y,S)=>y+S)),v(!1)})},[x]);const N=async()=>{const h=se(ee);h.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, i want to revert this!"}).then(async y=>{if(y.isConfirmed)try{s(ie({_id:a==null?void 0:a._id,status:"cancelled"})),t("/orders"),h.fire("Cancelled","Order has been  cancelled","success")}catch{h.fire("Error!","Something went wrong, please try again.","error")}})},u=async()=>{const h=se(ee);h.fire({title:"Confirm received?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, I has been received"}).then(async y=>{if(y.isConfirmed)try{s(ie({_id:a._id,status:"completed"})),t("/orders"),h.fire("Confirmed","Order has been confirmed","success")}catch{h.fire("Error!","Something went wrong, please try again.","error")}})};return p.exports.useEffect(()=>{document.title="Order Details"},[]),r("div",{className:"min-h-screen px-20 py-4",children:[r("h1",{className:"text-2xl font-bold text-gray-600",children:["Order Details: #",a==null?void 0:a._id]}),m===!1?r("div",{className:"flex flex-wrap  gap-2 gap-x-4 py-4",children:[r("div",{className:"orderInfo rounded border-2 pb-0 border-gray-400 bg-slate-100 bg-gradient-to-br from-slate-500 to-cyan-600  p-0 text-neutral-content shadow-lg drop-shadow-md relative flex flex-col justify-between",children:[e("h3",{className:"mb-2 rounded-sm border-2 py-1 text-center font-semibold ",children:"Order Information's"}),r("div",{className:"flex flex-col relative px-2",children:[r("div",{className:"orderInfo__item",children:[e("span",{className:"orderInfo__item-label",children:"Order ID: "}),e("span",{className:"orderInfo__item-value",children:a==null?void 0:a._id})]}),r("div",{className:"orderInfo__item",children:[e("span",{className:"orderInfo__item-label",children:"Order Date: "}),e("span",{className:"orderInfo__item-value",children:K(a==null?void 0:a.createdAt).format("DD/MM/YYYY")})]}),r("div",{className:"orderInfo__item",children:[e("span",{className:"orderInfo__item-label",children:"Order Status: "}),(a==null?void 0:a.status)==="pending"&&e("span",{className:"orderInfo__item-value text-orange-500",children:"Pending"}),(a==null?void 0:a.status)==="delivery"&&e("span",{className:"orderInfo__item-value text-blue-500",children:"Delivery"}),(a==null?void 0:a.status)==="completed"&&e("span",{className:"orderInfo__item-value text-green-500",children:"Completed"}),(a==null?void 0:a.status)==="cancelled"&&e("span",{className:"orderInfo__item-value text-rose-500",children:"Cancelled"})]}),r("div",{className:"orderInfo__item",children:[e("span",{className:"orderInfo__item-label",children:"Total Price: "}),e("span",{className:"orderInfo__item-value",children:E(a==null?void 0:a.total)})]})]}),(a==null?void 0:a.status)==="pending"&&e("div",{className:"h-10 mt-auto ",children:e(U,{variant:"outlined",color:"error",className:"w-full bg-rose-600 text-white hover:bg-rose-700",onClick:N,children:"Cancel Order"})}),(a==null?void 0:a.status)==="delivery"&&e("div",{className:"w-full mb-auto mt-2 ",children:e(U,{variant:"outlined",color:"info",className:"w-full bg-sky-600 text-white hover:bg-sky-700",onClick:u,children:"Confirm Received"})})]}),r("div",{className:"orderInfo grow   rounded border-2 border-gray-400 bg-slate-100 bg-gradient-to-bl from-orangeLight  to-slate-600 text-neutral-content shadow-lg drop-shadow-md",children:[r("h3",{className:"mb-2 flex items-center justify-between rounded-sm border-2 py-1 text-center font-semibold px-2 ",children:["User Information's"," ",e("img",{src:l==null?void 0:l.avatarUrl,alt:l==null?void 0:l.avatarName,className:"avatar cursor-pointer rounded-full transition-all md:h-6 md:w-6 md:hover:scale-[200%]"})]}),r("div",{className:"flex flex-col px-2",children:[r("div",{className:"orderInfo__item",children:[e("span",{className:"orderInfo__item-label",children:"User ID: "}),e("span",{className:"orderInfo__item-value",children:l==null?void 0:l._id})]}),r("div",{className:"orderInfo__item",children:[e("span",{className:"orderInfo__item-label",children:"User Name: "}),e("span",{className:"orderInfo__item-value",children:a==null?void 0:a.name})]}),r("div",{className:"orderInfo__item",children:[e("span",{className:"orderInfo__item-label",children:"User Email: "}),e("span",{className:"orderInfo__item-value",children:a==null?void 0:a.email})]}),r("div",{className:"orderInfo__item",children:[e("span",{className:"orderInfo__item-label",children:"Phone Number: "}),e("span",{className:"orderInfo__item-value",children:a==null?void 0:a.phone})]}),r("div",{className:"orderInfo__item",children:[e("span",{className:"orderInfo__item-label",children:"Address: "}),e("span",{className:"orderInfo__item-value",children:e("address",{children:`${a==null?void 0:a.address}, ${a==null?void 0:a.city}`})})]})]})]}),r("div",{className:"orderInfo w-full  rounded border-2 border-gray-400 bg-slate-100 bg-gradient-to-tr from-pink-500 to-gray-600  text-neutral-content shadow-lg drop-shadow-md",children:[e("h3",{className:"mb-2 rounded-sm border-2 py-1 text-center font-semibold ",children:"Products Ordered Information's"}),r("div",{className:"flex flex-col px-2",children:[e("div",{className:"orderInfo__item",children:r("span",{className:"orderInfo__item-label",children:["Total quantity: ",o," "]})}),r("span",{className:"orderInfo__item-label text-white ",children:["Products:"," "]}),e("div",{className:"orderInfo__item overflow-x-auto",children:r("table",{className:"table table-zebra  w-full text-gray-800  ",children:[e("thead",{children:r("tr",{children:[e("th",{}),e("th",{className:"font-semibold",children:"Name"}),e("th",{className:"font-semibold",children:"Price"}),e("th",{className:"font-semibold",children:"Quantity"}),e("th",{className:"font-semibold",children:"Total"})]})}),e("tbody",{children:i==null?void 0:i.map((h,y)=>r("tr",{className:"hover",children:[e("th",{children:y+1}),e("td",{children:h.productItem.name}),e("td",{children:E(h.productItem.price)}),e("td",{children:h.quantity}),e("td",{children:E(h.quantity*h.productItem.price)})]},y))})]})}),e("div",{className:"text-right font-extrabold text-white",children:r("span",{children:["Sum: ",E(a==null?void 0:a.total)]})})]})]})]}):e("div",{className:" absolute top-1/2 right-1/2 flex min-h-fit items-center justify-center",children:e(je,{size:20,color:"#34d399",margin:2})})]})}function Tr(){const s=lt();return r("div",{className:"mx-auto",children:[e("main",{children:e(Zs,{children:r(ga,{location:s,children:[r(k,{path:"/",element:e(_s,{}),children:[e(k,{index:!0,element:e(Ka,{})}),e(k,{path:"products",element:e(ut,{})}),e(k,{path:"products/:id",element:e(Ps,{})}),e(k,{path:"categories/:id",element:e(Xs,{})}),e(k,{path:"cart",element:e(lr,{})}),e(k,{path:"profile",element:e(Sr,{})}),r(k,{path:"orders",children:[e(k,{index:!0,element:e(Lr,{})}),e(k,{path:":orderId",element:e(Ur,{})})]}),e(k,{path:"about",element:e(La,{})}),e(k,{path:"signin",element:e(Es,{})}),e(k,{path:"signup",element:e(Hs,{})}),e(k,{path:"cart/checkout",element:e(Ir,{})})]}),r(k,{path:"admin",element:e(Ds,{children:e(gs,{})}),children:[e(k,{index:!0,element:e(rt,{to:"dashboard"})}),e(k,{path:"dashboard",element:e(Nr,{})}),r(k,{path:"products",children:[e(k,{index:!0,element:e(Bs,{})}),e(k,{path:"add",element:e(Ms,{})}),e(k,{path:":id/edit",element:e(zs,{})})]}),r(k,{path:"categories",children:[e(k,{index:!0,element:e(Fs,{})}),e(k,{path:"add",element:e(Vs,{})}),e(k,{path:":id/edit",element:e(Ws,{})}),e(k,{path:":id/view",element:e(Ks,{})})]}),r(k,{path:"banners",children:[e(k,{index:!0,element:e(nr,{})}),e(k,{path:"add",element:e(cr,{})}),e(k,{path:":id/edit",element:e(or,{})})]}),e(k,{path:"users",children:e(k,{index:!0,element:e(rr,{})})}),r(k,{path:"orders",children:[e(k,{index:!0,element:e(Cr,{})}),e(k,{path:":orderId/edit",element:e(Or,{})}),e(k,{path:":orderId/view",element:e(Rr,{})})]})]}),e(k,{path:"*",element:e("h1",{children:"404"})})]},s.pathname)})}),e(ba,{autoClose:2500,limit:5})]})}const zr={key:"root",storage:ya,version:1},Ar=xa({products:Ls,categories:Ja,category:Js,auth:ns,message:rs,users:ar,cart:us,orders:xr,banner:ja}),jr=va(zr,Ar),It=Na({reducer:jr,middleware:s=>s({serializableCheck:!1})});const $r=wa(It);Sa.render(e(p.exports.StrictMode,{children:e(Ca,{children:e(_a,{store:It,children:e(ka,{persistor:$r,children:e(Tr,{})})})})}),document.querySelector("#root"));
