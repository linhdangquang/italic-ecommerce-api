var Ct=Object.defineProperty,It=Object.defineProperties;var kt=Object.getOwnPropertyDescriptors;var Xe=Object.getOwnPropertySymbols;var _t=Object.prototype.hasOwnProperty,Lt=Object.prototype.propertyIsEnumerable;var Ze=(a,t,s)=>t in a?Ct(a,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[t]=s,u=(a,t)=>{for(var s in t||(t={}))_t.call(t,s)&&Ze(a,s,t[s]);if(Xe)for(var s of Xe(t))Lt.call(t,s)&&Ze(a,s,t[s]);return a},S=(a,t)=>It(a,kt(t));import{j as e,a as r,b as Pt,c as _,d as Z,L as f,u as I,e as N,r as x,S as Bt,A as Ot,E as Rt,f as Ut,P as Tt,g as zt,R as H,t as v,h as Q,B as R,i as At,k as jt,N as E,l as $t,m as qt,n as Dt,o as Et,p as Ht,q as Mt,s as Ft,O as tt,v as Yt,w as re,x as ye,y as Wt,z as Vt,C as M,D as Ne,F as le,G as he,_ as Gt,H as te,I as ue,J as ve,K as we,M as Se,Q as de,T as se,U as O,V as Ce,W as Qt,X as Jt,Y as je,Z as Ge,$ as Qe,a0 as Kt,a1 as K,a2 as y,a3 as X,a4 as Xt,a5 as Zt,a6 as ne,a7 as oe,a8 as ce,a9 as fe,aa as at,ab as ea,ac as rt,ad as ta,ae as aa,af as ra,ag as sa,ah as la,ai as ia,aj as na,ak as oa,al as ca,am as da,an as w,ao as ma,ap as ha,aq as ua,ar as fa,as as ga,at as pa,au as ba,av as xa,aw as ya,ax as Na}from"./vendor.6076f2d6.js";const va=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))n(l);new MutationObserver(l=>{for(const d of l)if(d.type==="childList")for(const o of d.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function s(l){const d={};return l.integrity&&(d.integrity=l.integrity),l.referrerpolicy&&(d.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?d.credentials="include":l.crossorigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function n(l){if(l.ep)return;l.ep=!0;const d=s(l);fetch(l.href,d)}};va();function wa(){return e("div",{children:"AboutPage"})}function Sa(){return e("div",{className:"bg-sky-100 px-20",children:r("div",{className:"mx-auto flex justify-center",children:[r("div",{className:"relative flex items-start justify-center px-[25px] py-8 before:absolute before:top-1/2 before:right-0 before:h-[80px] before:w-0 before:-translate-y-1/2 before:border-r",children:[e("img",{src:"https://italic.com/static/images/orange.png",alt:"img",className:"h-[50px] w-[50px]"}),r("div",{className:"ml-5 flex flex-col ",children:[e("p",{className:"mb-2 font-medium text-blacklight",children:"Premium Quality"}),e("p",{className:"text-xs text-gray-500",children:"We rigorously test every product to ensure it meets or exceeds the quality of leading brands. Otherwise, we won't sell it."})]})]}),r("div",{className:"relative flex items-start justify-center px-[25px] py-8 before:absolute before:top-1/2 before:right-0 before:h-[80px] before:w-0 before:-translate-y-1/2 before:border-r",children:[e("img",{src:"https://italic.com/static/images/star.png",alt:"img",className:"h-[50px] w-[50px]"}),r("div",{className:"ml-5 flex flex-col ",children:[e("p",{className:"mb-2 font-medium text-blacklight",children:"Unparalleled Prices"}),e("p",{className:"text-xs text-gray-500",children:"We've eliminated traditional brand and retail markups, so you pay 50-80% less for the exact same quality."})]})]}),r("div",{className:"relative flex items-start justify-center px-[25px] py-8 ",children:[e("img",{src:"https://italic.com/static/images/oliveleaf.png",alt:"img",className:"h-[50px] w-[50px]"}),r("div",{className:"ml-5 flex flex-col ",children:[e("p",{className:"mb-2 font-medium text-blacklight",children:"Straight From the Source"}),e("p",{className:"text-xs text-gray-500",children:"Shopping on Italic means supporting a network of independent manufacturers (the same ones behind your favorite brands)."})]})]})]})})}const T=Pt.create({baseURL:"http://localhost:5000/"}),F=()=>localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")||""):!1,Y=()=>{const a=F();return a&&a.token?{headers:{Authorization:`Bearer ${a.token}`}}:{}},Ca=()=>{const a="/api/herobanner";return T.get(a)},Ia=a=>{const t=`/api/herobanner/${F().user._id}`;return T.post(t,a,Y())},ka=a=>{const t=`/api/herobanner/${F().user._id}/${a}`;return T.delete(t,Y())},_a=a=>{const t=`/api/herobanner/${F().user._id}/${a._id}`;return T.put(t,a,Y())},La={banner:[],loading:!1,status:"idle",error:null},ge=_("banner/fetchBanners",async()=>{const{data:a}=await Ca();return a}),Ie=_("banner/createBanner",async a=>{const{data:t}=await Ia(a);return t}),ke=_("banner/updateBanner",async a=>{const{data:t}=await _a(a);return t}),Fe=_("banner/removeBanner",async a=>{const{data:t}=await ka(a);return t}),Pa=Z({name:"banner",initialState:La,reducers:{},extraReducers:a=>{a.addCase(ge.pending,t=>{t.loading=!0}),a.addCase(ge.fulfilled,(t,s)=>{t.banner=s.payload,t.loading=!1,t.status="success"}),a.addCase(ge.rejected,(t,s)=>{t.loading=!1,t.status="error",t.error=s.error.message}),a.addCase(Ie.pending,t=>{t.loading=!0}),a.addCase(Ie.fulfilled,(t,s)=>{t.banner.push(s.payload),t.loading=!1,t.status="success"}),a.addCase(Ie.rejected,(t,s)=>{t.loading=!1,t.status="error",t.error=s.error.message}),a.addCase(ke.pending,t=>{t.loading=!0}),a.addCase(ke.fulfilled,(t,s)=>{const n=s.payload,l=t.banner.find(d=>d._id===n._id);l.title=n.title,l.subtitle=n.subtitle,l.buttonText=n.buttonText,l.buttonLink=n.buttonLink,l.imageUrl=n.imageUrl,l.imageName=n.imageName,l.status=n.status,t.loading=!1,t.status="success"}),a.addCase(ke.rejected,(t,s)=>{t.loading=!1,t.status="error",t.error=s.error.message}),a.addCase(Fe.pending,t=>{t.loading=!0}),a.addCase(Fe.fulfilled,(t,s)=>{const{_id:n}=s.payload,l=t.banner.findIndex(d=>d._id===n);t.banner.splice(l,1),t.loading=!1,t.status="success"})}}),Ba=(a,t)=>a.banner.banner.find(s=>s._id===t);var Oa=Pa.reducer;function Ra({data:a}){const{title:t,subtitle:s,buttonText:n,buttonLink:l,imageUrl:d,imageName:o}=a;return e("div",{className:"hero   bg-base-200",children:r("div",{className:"hero-content grid  w-full max-w-full grid-cols-2 bg-blacklight p-0",children:[r("div",{className:"-translate-y-[50px] px-20 text-white",children:[e("h1",{className:"font-serif text-5xl ",children:t}),e("p",{className:"py-6 text-sm",children:s}),e(f,{to:l,type:"button",className:"btn min-h-6 h-[2.5rem] rounded bg-white px-6 py-1 text-[12px] text-gray-700   hover:bg-cyan-100",children:n})]}),e("img",{src:d,alt:o,className:"object-cover md:h-[565px] md:w-[725px]"})]})})}function Ua(){const a=I(),t=N(n=>n.banner.banner);x.exports.useEffect(()=>{a(ge())},[a]);const s=t==null?void 0:t.filter(n=>n.status===0);return e(Bt,{effect:"fade",pagination:!0,loop:!0,spaceBetween:50,slidesPerView:1,autoplay:{delay:2500,disableOnInteraction:!1},lazy:!0,modules:[Ot,Rt,Ut,Tt],children:s==null?void 0:s.map(n=>e(zt,{children:e(Ra,{data:n})},n._id))})}function Ta(){return H.useEffect(()=>{document.title="Home"}),r("div",{className:"pb-6",children:[e(Ua,{}),e(Sa,{})]})}const za=async a=>{const t="/api/users/signin",s=await T.post(t,a,Y());return s.data.token&&localStorage.setItem("user",JSON.stringify(s.data)),s.data},Aa=a=>{const t="/api/users/signup";return T.post(t,a)},ja=()=>{localStorage.removeItem("user")},$a=async()=>{const a=`/api/users/${F().user._id}`;return(await T.get(a,Y())).data},qa=async a=>{const t=`/api/users/${F().user._id}`;return(await T.put(t,a,Y())).data},Da={},st=Z({name:"message",initialState:Da,reducers:{setMessage:(a,t)=>({message:t.payload}),clearMessage:()=>({message:""})}}),{setMessage:Je,clearMessage:me}=st.actions;var Ea=st.reducer;const et=JSON.parse(localStorage.getItem("user")),Ha=et?{isLoggedIn:!0,user:et}:{isLoggedIn:!1,user:null},Ye=_("auth/registerUser",async(a,t)=>{try{return(await Aa(a)).data}catch(s){const n=s.response.data.message;return t.dispatch(Je(n)),t.rejectWithValue(n)}}),_e=_("auth/signIn",async(a,t)=>{try{return await za(a)}catch(s){const n=s.response&&s.response.data&&s.response.data.message||s.message||s.toString();return t.dispatch(Je(n)),t.rejectWithValue(s)}}),lt=_("auth/logOut",async()=>{await ja()}),it=_("auth/changeInfo",async(a,t)=>{try{return await qa(a)}catch(s){const n=s.response&&s.response.data&&s.response.data.message||s.message||s.toString();return t.dispatch(Je(n)),t.rejectWithValue(s)}}),Ma=Z({name:"auth",initialState:Ha,reducers:{},extraReducers:a=>{a.addCase(Ye.fulfilled,(t,s)=>{t.user=s.payload,t.isLoggedIn=!1}),a.addCase(Ye.rejected,t=>{t.isLoggedIn=!1}),a.addCase(_e.pending,t=>{t.error=null}),a.addCase(_e.fulfilled,(t,s)=>{t.isLoggedIn=!0,t.user=s.payload}),a.addCase(_e.rejected,(t,s)=>{t.error=s.payload}),a.addCase(lt.fulfilled,t=>{t.isLoggedIn=!1,t.user=null}),a.addCase(it.fulfilled,(t,s)=>{const{user:n}=s.payload;t.user.user=n})}});var Fa=Ma.reducer;const Ya={items:[],totalAmount:0,totalCount:0},nt=Z({name:"cart",initialState:Ya,reducers:{getCartTotal:a=>{const{totalAmount:t,totalCount:s}=a.items.reduce((n,l)=>{const{price:d,amount:o}=l,p=d*o;return n.totalAmount+=p,n},{totalAmount:0,totalCount:0});a.totalAmount=parseInt(t.toFixed(2),10),a.totalCount=s},addToCart:(a,t)=>{const{_id:s,name:n,price:l,image:d,imageName:o,category:p}=t.payload;if(a.items.find(c=>c._id===s)){const c=a.items.find(i=>i._id===s);c.amount+=1,c.total=c.price*c.amount,v(`\u{1F49A} Increase Success!, Total ${c.amount}`,{position:"bottom-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}else a.items.push({_id:s,name:n,price:l,image:d,imageName:o,category:p,amount:1,total:l}),v("\u270C Add to Cart Success! ",{position:"bottom-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},removeItem:(a,t)=>{a.items=a.items.filter(s=>s._id!==t.payload),v("\u{1F622} Remove from Cart!",{position:"bottom-left",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},increaseAmount:(a,t)=>{a.items=a.items.map(s=>s._id===t.payload?S(u({},s),{amount:s.amount+1}):s)},decreaseAmount:(a,t)=>{a.items=a.items.map(s=>s._id===t.payload?S(u({},s),{amount:s.amount-1}):s).filter(s=>s.amount>0)},clearCart:(a,t)=>{a.items=[]}}}),{getCartTotal:ot,addToCart:Wa,increaseAmount:Va,removeItem:Ga,decreaseAmount:Qa,clearCart:Ke}=nt.actions;var Ja=nt.reducer;function ct(){var d,o,p,c;const{isLoggedIn:a,user:t}=N(i=>i.auth),s=I(),n=Q(),l=async()=>{await s(lt()),await s(Ke()),v("Logout success",{position:v.POSITION.BOTTOM_RIGHT}),n("/")};return e("div",{children:a?r("div",{className:"dropdown-end dropdown",children:[e("div",{tabIndex:0,className:"avatar btn btn-ghost btn-circle",children:e("div",{className:"w-10 rounded-full",children:e("img",{src:(d=t==null?void 0:t.user)==null?void 0:d.avatarUrl,alt:(o=t==null?void 0:t.user)==null?void 0:o.avatarName})})}),r("ul",{tabIndex:0,className:"dropdown-content menu rounded-box menu-compact w-44 bg-base-100 p-2 shadow shadow-gray-400",children:[r("div",{className:"px-4",children:[e("p",{className:"text-base font-medium ",children:(p=t.user)==null?void 0:p.name}),e("p",{className:"text-xs text-gray-500",children:(c=t.user)==null?void 0:c.email})]}),t.user.role==="admin"&&e("li",{children:e(f,{className:"justify-between active:bg-teal-500",to:"/admin",children:"Dashboard"})}),e("li",{children:e(f,{className:"justify-between active:bg-teal-500",to:"/profile",children:"Profile"})}),e("li",{children:e(f,{className:"justify-between active:bg-teal-500",to:"/orders",children:"Orders"})}),e("li",{children:e("a",{children:"Settings"})}),e(R,{size:"medium",onClick:l,startIcon:e(At,{}),children:"Logout"})]})]}):r("div",{children:[e(f,{to:"/signin",className:"px-2 text-sm font-black normal-case",children:"Sign In"}),e(f,{to:"/signup",className:"px-2 text-sm font-black normal-case",children:"Sign Up"})]})})}function Ka(){return e("div",{className:" mx-auto w-full rounded-l-2xl  md:px-4",children:e("nav",{className:"flex items-center justify-between py-8",children:r("div",{className:"mr-4 flex w-full items-center justify-between gap-2",children:[e("form",{action:"",children:r("div",{className:"relative flex shadow-md",children:[e("input",{type:"text",placeholder:"Search here...",className:"rounded border-2 border-sky-600 py-2 px-4 pr-8 outline-none transition-colors placeholder:italic  focus:border-sky-700 focus:shadow-sm focus:shadow-sky-400"}),e("button",{type:"button",className:"absolute right-0 items-center px-2 pt-[5px] text-xl text-gray-400 hover:text-sky-600",children:e(jt,{})})]})}),e(ct,{})]})})})}function Xa(){return e("nav",{className:"flex min-h-screen w-64 flex-row pr-14 ",children:r("div",{className:"fixed top-0 left-0 z-50 flex h-full min-h-screen w-56 flex-col overflow-hidden rounded-r-3xl bg-white  ",children:[e("div",{className:"flex h-20 items-center justify-center shadow-md",children:e("h1",{className:"text-3xl font-black uppercase text-sky-600",children:"LinhDQ"})}),r("ul",{className:"flex flex-col py-4",children:[e("li",{children:e(E,{to:"/admin/dashboard",className:"AdminLayout__link block h-12 transform items-center text-gray-500 transition-transform duration-200 ease-in hover:translate-x-2 hover:text-gray-800",children:r("span",{className:"flex items-center pl-12 text-sm font-medium",children:[e($t,{size:"1.25rem"}),"Home"]})})}),e("li",{children:e(E,{to:"/",className:"AdminLayout__link block h-12 transform items-center text-gray-500 transition-transform duration-200 ease-in hover:translate-x-2 hover:text-gray-800",children:r("span",{className:"flex items-center pl-12 text-sm font-medium",children:[e(qt,{fontSize:"small"}),"Web"]})})}),e("li",{children:e(E,{to:"/admin/products",className:"AdminLayout__link block h-12 transform items-center text-gray-500 transition-transform duration-200 ease-in hover:translate-x-2 hover:text-gray-800",children:r("span",{className:"flex items-center pl-12 text-sm font-medium",children:[e(Dt,{size:"1.25rem"}),"Products"]})})}),e("li",{children:e(E,{to:"/admin/categories",className:"AdminLayout__link block h-12 transform items-center text-gray-500 transition-transform duration-200 ease-in hover:translate-x-2 hover:text-gray-800",children:r("span",{className:"flex items-center pl-12 text-sm font-medium",children:[e(Et,{fontSize:"small"}),"Categories"]})})}),e("li",{children:e(E,{to:"/admin/orders",className:"AdminLayout__link block h-12 transform items-center text-gray-500 transition-transform duration-200 ease-in hover:translate-x-2 hover:text-gray-800",children:r("span",{className:"flex items-center pl-12 text-sm font-medium",children:[e(Ht,{fontSize:"small"}),"Orders"]})})}),e("li",{children:e(E,{to:"/admin/users",className:"AdminLayout__link block h-12 transform items-center text-gray-500 transition-transform duration-200 ease-in hover:translate-x-2 hover:text-gray-800",children:r("span",{className:"flex items-center pl-12 text-sm font-medium",children:[e(Mt,{fontSize:"small"}),"Users"]})})}),e("li",{children:e(E,{to:"/admin/banners",className:"AdminLayout__link block h-12 transform items-center text-gray-500 transition-transform duration-200 ease-in hover:translate-x-2 hover:text-gray-800",children:r("span",{className:"flex items-center pl-12 text-sm font-medium",children:[e(Ft,{fontSize:"small"}),"Banners"]})})})]})]})})}function Za(){return r("div",{className:"container-fluid admin-container font-fira flex flex-row bg-gray-100 font-OpenSans",children:[e(Xa,{}),r("div",{className:"main-content relative ml-4 w-full rounded-l-2xl bg-white",children:[e(Ka,{}),e("div",{className:"main-content py-2",children:e(tt,{})})]})]})}const er="_btn_1lupg_1";var De={btn:er};function tr(){return e("div",{className:"bg-blacklight",children:e("div",{className:" mx-auto w-auto",children:r("div",{className:"xs:px-[25px] xs:py-[60px] lg:px-20 lg:py-20",children:[r("div",{className:"grid grid-cols-3 gap-x-16 border-b border-grayMirage pb-[70px]",children:[e("div",{children:r("div",{children:[e("p",{className:"mb-[10px] font-medium text-blueSage",children:"Our Mission"}),e("p",{className:"mb-4 text-sm leading-5 text-white",children:"To source, develop, and curate the highest quality products at the lowest prices."}),e(f,{to:"/",children:e("button",{type:"button",className:De.btn,children:"Learn More"})})]})}),e("div",{children:r("div",{children:[e("p",{className:"mb-[10px] font-medium text-blueSage",children:"Request a Product"}),e("p",{className:"mb-4 text-sm leading-5 text-white",children:"Don't see what you're looking for? All you have to do is ask \u2014 we'll do our best to track down your request."}),e(f,{to:"/",children:e("button",{type:"button",className:De.btn,children:"Submit Request"})})]})}),e("div",{children:r("div",{children:[e("p",{className:"mb-[10px] font-medium text-blueSage",children:"Share Site Feedback"}),e("p",{className:"mb-4 text-sm leading-5 text-white",children:"We're always looking for ways to improve our site. We'll send you credits if we implement your feedback."}),e(f,{to:"/",children:e("button",{type:"button",className:De.btn,children:"Submit Feedback"})})]})})]}),r("div",{className:"mt-[70px] grid sm:grid-cols-2 md:grid-cols-4 xl:gap-x-24",children:[r("div",{children:[e("h2",{className:"font-DancingScript text-3xl font-bold italic text-white",children:"LINHDQ"}),e("div",{className:"mt-8 w-auto",children:r("ul",{className:"flex flex-col gap-y-4",children:[e("li",{children:r(f,{className:"flex items-center gap-x-1 text-sm text-white",to:"/",children:[r("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-brand-instagram",width:"14",height:"14",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[e("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),e("rect",{x:"4",y:"4",width:"16",height:"16",rx:"4"}),e("circle",{cx:"12",cy:"12",r:"3"}),e("line",{x1:"16.5",y1:"7.5",x2:"16.5",y2:"7.501"})]}),"Instagram"]})}),e("li",{children:r(f,{className:"flex items-center gap-x-1 text-sm text-white",to:"/",children:[r("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-brand-twitter",width:"14",height:"14",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[e("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),e("path",{d:"M22 4.01c-1 .49 -1.98 .689 -3 .99c-1.121 -1.265 -2.783 -1.335 -4.38 -.737s-2.643 2.06 -2.62 3.737v1c-3.245 .083 -6.135 -1.395 -8 -4c0 0 -4.182 7.433 4 11c-1.872 1.247 -3.739 2.088 -6 2c3.308 1.803 6.913 2.423 10.034 1.517c3.58 -1.04 6.522 -3.723 7.651 -7.742a13.84 13.84 0 0 0 .497 -3.753c-.002 -.249 1.51 -2.772 1.818 -4.013z"})]}),"Twitter"]})}),e("li",{children:r(f,{className:"flex items-center gap-x-1 text-sm text-white",to:"/",children:[r("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-brand-facebook",width:"14",height:"14",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[e("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),e("path",{d:"M7 10v4h3v7h4v-7h3l1 -4h-4v-2a1 1 0 0 1 1 -1h3v-4h-3a5 5 0 0 0 -5 5v2h-3"})]}),"Facebook"]})}),e("li",{children:r(f,{className:"flex items-center gap-x-1 text-sm text-white",to:"/",children:[r("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-brand-youtube",width:"14",height:"14",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[e("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),e("rect",{x:"3",y:"5",width:"18",height:"14",rx:"4"}),e("path",{d:"M10 9l5 3l-5 3z"})]}),"Youtube"]})}),e("li",{children:r(f,{className:"flex items-center gap-x-1 text-sm text-white",to:"/",children:[r("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-brand-pinterest",width:"14",height:"14",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[e("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),e("line",{x1:"8",y1:"20",x2:"12",y2:"11"}),e("path",{d:"M10.7 14c.437 1.263 1.43 2 2.55 2c2.071 0 3.75 -1.554 3.75 -4a5 5 0 1 0 -9.7 1.7"}),e("circle",{cx:"12",cy:"12",r:"9"})]}),"Pinterest"]})})]})})]}),r("div",{children:[e("p",{className:"mb-[42px] text-base font-bold italic text-white",children:"Resources"}),e("div",{className:"mt-8 w-auto",children:r("ul",{className:"flex flex-col gap-y-4",children:[e("li",{children:e(f,{className:"flex items-center gap-x-1 text-sm text-white",to:"/",children:"Help Center"})}),e("li",{children:e(f,{className:"flex items-center gap-x-1 text-sm text-white",to:"/",children:"Returns"})}),e("li",{children:e(f,{className:"flex items-center gap-x-1 text-sm text-white",to:"/",children:"Privacy"})}),e("li",{children:e(f,{className:"flex items-center gap-x-1 text-sm text-white",to:"/",children:"Terms of Service"})}),e("li",{children:e(f,{className:"flex items-center gap-x-1 text-sm text-white",to:"/",children:"Accessibility Statement"})})]})})]}),r("div",{children:[e("p",{className:"mb-[42px] text-base font-bold italic text-white",children:"Business"}),e("div",{className:"mt-8 w-auto",children:r("ul",{className:"flex flex-col gap-y-4",children:[e("li",{children:e(f,{className:"flex items-center gap-x-1 text-sm text-white",to:"/",children:"About Us"})}),e("li",{children:e(f,{className:"flex items-center gap-x-1 text-sm text-white",to:"/",children:"How It works"})}),e("li",{children:e(f,{className:"flex items-center gap-x-1 text-sm text-white",to:"/",children:"Sell on Linh"})}),e("li",{children:e(f,{className:"flex items-center gap-x-1 text-sm text-white",to:"/",children:"Corporate Sales"})}),e("li",{children:e(f,{className:"flex items-center gap-x-1 text-sm text-white",to:"/",children:"Careers"})}),e("li",{children:e(f,{className:"flex items-center gap-x-1 text-sm text-white",to:"/",children:"Blog"})}),e("li",{children:e(f,{className:"flex items-center gap-x-1 text-sm text-white",to:"/",children:"Affiliate Program"})}),e("li",{children:e(f,{className:"flex items-center gap-x-1 text-sm text-white",to:"/",children:"Press"})})]})})]}),r("div",{children:[e("p",{className:"mb-[42px] text-base font-bold italic text-white",children:"Compare"}),e("div",{className:"mt-8 w-auto",children:r("ul",{className:"flex flex-col gap-y-4",children:[e("li",{children:e(f,{className:"flex items-center gap-x-1 text-sm text-white",to:"/",children:"All Clad"})}),e("li",{children:e(f,{className:"flex items-center gap-x-1 text-sm text-white",to:"/",children:"Le Creuset"})}),e("li",{children:e(f,{className:"flex items-center gap-x-1 text-sm text-white",to:"/",children:"Everlane"})}),e("li",{children:e(f,{className:"flex items-center gap-x-1 text-sm text-white",to:"/",children:"Naadam"})}),e("li",{children:e(f,{className:"flex items-center gap-x-1 text-sm text-white",to:"/",children:"Brooklinen"})})]})})]})]}),e("div",{className:"mt-16 text-center",children:e("p",{className:"font-DancingScript text-4xl font-bold text-slate-400",children:"DQL"})})]})})})}const ar=()=>{const a="/api/categories";return T.get(a)},rr=a=>{const t=`/api/categories/${a}`;return T.get(t)},sr=a=>{const t=`/api/categories/${F().user._id}`;return T.post(t,a,Y())},lr=a=>{const t=`/api/categories/${F().user._id}/${a._id}`;return T.put(t,a,Y())},ir=a=>{const t=`/api/categories/${F().user._id}/${a}`;return T.delete(t,Y())},nr={categories:[],loading:!1,status:"idle"},ae=_("categories/fetchCategories",async()=>{const{data:a}=await ar();return a}),Le=_("categories/createCategory",async a=>{const{data:t}=await sr(a);return t}),Pe=_("categories/updateCategory",async a=>{const{data:t}=await lr(a);return t}),We=_("categories/deleteCategory",async a=>{const{data:t}=await ir(a);return t}),or=Z({name:"categories",initialState:nr,reducers:{},extraReducers:a=>{a.addCase(ae.pending,t=>{t.loading=!0}),a.addCase(ae.fulfilled,(t,s)=>{t.categories=s.payload,t.loading=!1,t.status="success"}),a.addCase(ae.rejected,t=>{t.loading=!1,t.status="error"}),a.addCase(Le.pending,t=>{t.loading=!0}),a.addCase(Le.fulfilled,(t,s)=>{t.categories.push(s.payload),t.loading=!1,t.status="success"}),a.addCase(Le.rejected,t=>{t.loading=!1,t.status="error"}),a.addCase(Pe.pending,t=>{t.loading=!0}),a.addCase(Pe.fulfilled,(t,s)=>{const{_id:n,name:l}=s.payload,d=t.categories.find(o=>o._id===n);d.name=l,t.loading=!1,t.status="success"}),a.addCase(Pe.rejected,t=>{t.loading=!1,t.status="error"}),a.addCase(We.pending,t=>{t.loading=!0}),a.addCase(We.fulfilled,(t,s)=>{const{_id:n}=s.payload,l=t.categories.find(d=>d._id===n);t.categories.splice(t.categories.indexOf(l),1),t.loading=!1,t.status="success"})}}),dt=a=>a.categories.categories,cr=(a,t)=>a.categories.categories.find(n=>n._id===t);var dr=or.reducer;function mr(){const a=I(),{categories:t}=N(s=>s.categories);return x.exports.useEffect(()=>{a(ae())},[a]),r("ul",{className:"flex gap-6 ",children:[e("li",{children:e(E,{to:"products",className:"NavLink inline-block border-b-2 border-transparent py-2 text-sm transition-transform hover:border-b-2 hover:border-black active:scale-90",children:"Products"})}),t==null?void 0:t.map((s,n)=>e("li",{children:e(E,{to:`/categories/${s._id}`,className:"NavLink inline-block border-b-2 border-transparent py-2 text-sm transition-transform hover:border-b-2 hover:border-black active:scale-90",children:s.name})},n+1)),e("li",{children:e(E,{to:"about",className:"NavLink inline-block border-b-2 border-transparent py-2 text-sm transition-transform hover:border-b-2 hover:border-black active:scale-90",children:"About"})})]})}function hr(){return r("div",{className:"flex justify-between overflow-hidden px-20 py-[1px]  ",children:[e(mr,{}),e("div",{className:"flex items-center justify-center",children:e("ul",{children:e("li",{children:e(f,{to:"/",className:"rounded-full bg-gray-100 p-1 px-2 text-[13px]  italic  antialiased transition-transform hover:text-black active:scale-90",children:"Invite a friend"})})})})]})}const W=a=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(a);function ur(){const{totalAmount:a,items:t}=N(n=>n.cart),s=I();return x.exports.useEffect(()=>{s(ot())},[t]),r("div",{className:"dropdown-end dropdown",children:[e("div",{tabIndex:0,className:"btn btn-ghost btn-circle ",children:r("div",{className:"indicator",children:[e("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})}),e("span",{className:"badge indicator-item badge-sm",children:t.length})]})}),e("div",{tabIndex:0,className:"border-base-400 card dropdown-content card-compact w-52 border-2 bg-base-200 shadow shadow-base-300",children:r("div",{className:"card-body",children:[r("span",{className:"text-lg font-bold",children:[t.length," Items"]}),r("span",{className:"font-semibold text-gray-700",children:["Subtotal: ",W(a)]}),e("div",{className:"card-actions",children:e(f,{to:"/cart",className:"w-full",children:e(R,{variant:"contained",startIcon:e(Yt,{}),className:"btn w-full bg-orangeLight text-white",children:"View Cart"})})})]})})]})}function fr(){return e("div",{className:"  w-full flex-1 items-center px-2 ",children:e("form",{action:"",children:e("div",{className:"form-control w-full border-0 ",children:r("div",{className:"input-group relative  ",children:[e("input",{type:"text",placeholder:"Search for products, categories, brands and more",className:"input h-[40px] w-full !rounded-full border-2 bg-gray-100 !outline-0 ring-0 placeholder:text-slate-600  focus:border-sky-700 focus:bg-inherit "}),e("button",{type:"button",className:" absolute right-2 h-full border-0  bg-transparent",children:e("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-600 hover:text-sky-700",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})})})})}function gr(){return r("div",{className:"flex items-center border-b bg-base-100 py-2 px-20",children:[e("div",{className:"pr-2",children:e(E,{to:"/",className:"font-DancingScript text-3xl font-bold normal-case",children:"LinhDQ"})}),e(fr,{}),r("div",{className:"flex items-center",children:[e(ur,{}),e("div",{children:e(ct,{})})]})]})}function pr(){return r("div",{className:"header border-b border-gray-100",children:[e(gr,{}),e(hr,{})]})}function br(){return r("div",{className:"mx-auto font-OpenSans",children:[e(pr,{}),e("main",{children:e(tt,{})}),e(tr,{})]})}const mt=()=>{const a="/api/products";return T.get(a)},ht=a=>{const t=`/api/products/${F().user._id}`;return T.post(t,a,Y())},ut=a=>{const t=`/api/products/${F().user._id}/${a}`;return T.delete(t,Y())},ft=a=>{const t=`/api/products/${F().user._id}/${a._id}`;return T.put(t,a,Y())},xr={products:[],loading:!1,status:"idle"},Be=_("products/fetchProducts",async()=>{const{data:a}=await mt();return a}),Oe=_("products/addNewProduct",async a=>{const{data:t}=await ht(a);return t}),Re=_("products/updateProduct",async a=>{const{data:t}=await ft(a);return t}),Ee=_("products/deleteProduct",async a=>{const{data:t}=await ut(a);return t}),yr=Z({name:"products",initialState:xr,reducers:{},extraReducers:a=>{a.addCase(Be.pending,t=>{t.loading=!0}),a.addCase(Be.fulfilled,(t,s)=>{t.products=s.payload,t.loading=!1,t.status="success"}),a.addCase(Be.rejected,t=>{t.loading=!1,t.status="error"}),a.addCase(Oe.pending,t=>{t.loading=!0}),a.addCase(Oe.fulfilled,(t,s)=>{t.products.push(s.payload),t.loading=!1,t.status="success"}),a.addCase(Oe.rejected,t=>{t.loading=!1,t.status="error"}),a.addCase(Re.pending,t=>{t.loading=!0}),a.addCase(Re.fulfilled,(t,s)=>{const n=s.payload,l=t.products.find(d=>d._id===n._id);l.name=n.name,l.price=n.price,l.description=n.description,l.image=n.image,l.imageName=n.imageName,l.category=n.category,l.stock=n.stock,l.status=n.status,l.updatedAt=n.updatedAt,t.loading=!1,t.status="success"}),a.addCase(Re.rejected,t=>{t.loading=!1,t.status="error"}),a.addCase(Ee.pending,t=>{t.loading=!0}),a.addCase(Ee.fulfilled,(t,s)=>{const{_id:n}=s.payload,l=t.products.find(d=>d._id===n);t.products.splice(t.products.indexOf(l),1),t.loading=!1,t.status="success"}),a.addCase(Ee.rejected,t=>{t.loading=!1,t.status="error"})}}),gt=(a,t)=>a.products.products.find(s=>s._id===t);var Nr=yr.reducer;function vr(){const{id:a}=re(),t=I(),s=N(l=>gt(l,a)),{categories:n}=N(l=>l.categories);return r("div",{className:"min-h-screen py-2 px-20",children:[e("div",{className:"breadcrumbs text-xs text-gray-500",children:r("ul",{children:[e("li",{children:r(E,{to:"/",children:[e(ye,{fontSize:"small"}),"Home"]})}),e("li",{children:e(E,{to:"/products",children:"Products"})}),e("li",{children:e(E,{to:`/categories/${s==null?void 0:s.category}`,children:n==null?void 0:n.map(l=>l._id===(s==null?void 0:s.category)?l==null?void 0:l.name:!1)})}),e("li",{children:e(E,{className:"font-semibold",to:`/products/${s==null?void 0:s._id}`,children:s==null?void 0:s.name})})]})}),r("div",{className:"flex justify-between gap-x-4 py-2",children:[r("div",{className:"max-w-2xl md:w-1/2 ",children:[e("div",{children:e("img",{src:s==null?void 0:s.image,alt:""})}),r("div",{className:"py-4",children:[e("p",{className:"max-w-fit  border-b-[3px] border-blacklight pb-3 font-semibold text-blacklight",children:"Details"}),e("p",{className:"py-4 text-gray-500",children:s==null?void 0:s.description})]})]}),r("div",{className:"pr-20 text-left md:w-[30%]",children:[e("h2",{className:"border-b py-4 font-PlayfairDisplay text-2xl",children:s==null?void 0:s.name}),e("div",{className:"py-6",children:r("div",{children:[e("div",{className:"mb-5 flex items-center",children:e("div",{children:r("div",{className:" relative mr-2",children:[e("span",{className:"absolute bottom-1 align-top text-base text-gray-800",children:"$"}),e("span",{className:"ml-[10px] align-top font-OpenSans text-[22px] font-semibold leading-[22px]",children:s==null?void 0:s.price})]})})}),e("div",{className:"mt-5 flex w-full",children:e("button",{type:"button",className:"flex w-full cursor-pointer items-center justify-center rounded bg-blacklight py-3 text-white hover:bg-[#2F2F3B]",onClick:()=>{t(Wa(s))},children:"Add to Cart"})}),e("div",{className:"mt-2",children:r("div",{className:"flex select-none items-center",children:[e(Wt,{className:" text-sm"}),e("p",{className:"ml-1 text-xs",children:"Free shipping"})]})})]})})]})]})]})}const wr={products:[],loading:!1,status:"idle"},pe=_("products/fetchProducts",async()=>{const{data:a}=await mt();return a}),He=_("products/addNewProduct",async a=>{const{data:t}=await ht(a);return t}),Me=_("products/updateProduct",async a=>{const{data:t}=await ft(a);return t}),Ue=_("products/deleteProduct",async a=>{const{data:t}=await ut(a);return t});Z({name:"products",initialState:wr,reducers:{},extraReducers:a=>{a.addCase(pe.pending,t=>{t.loading=!0}),a.addCase(pe.fulfilled,(t,s)=>{t.products=s.payload,t.loading=!1,t.status="success"}),a.addCase(pe.rejected,t=>{t.loading=!1,t.status="error"}),a.addCase(He.pending,t=>{t.loading=!0}),a.addCase(He.fulfilled,(t,s)=>{t.products.push(s.payload),t.loading=!1,t.status="success"}),a.addCase(He.rejected,t=>{t.loading=!1,t.status="error"}),a.addCase(Me.pending,t=>{t.loading=!0}),a.addCase(Me.fulfilled,(t,s)=>{const n=s.payload,l=t.products.find(d=>d._id===n._id);l.name=n.name,l.price=n.price,l.description=n.description,l.image=n.image,l.imageName=n.imageName,l.category=n.category,l.stock=n.stock,l.status=n.status,l.updatedAt=n.updatedAt,t.loading=!1,t.status="success"}),a.addCase(Me.rejected,t=>{t.loading=!1,t.status="error"}),a.addCase(Ue.pending,t=>{t.loading=!0}),a.addCase(Ue.fulfilled,(t,s)=>{const{_id:n}=s.payload,l=t.products.find(d=>d._id===n);t.products.splice(t.products.indexOf(l),1),t.loading=!1,t.status="success"}),a.addCase(Ue.rejected,t=>{t.loading=!1,t.status="error"})}});function pt({product:a}){const{name:t,price:s,_id:n,image:l,imageName:d}=a,o=N(dt);return e("div",{className:"p-2 shadow drop-shadow-md",children:r("div",{className:"group relative",children:[e("div",{className:"min-h-80 aspect-w-1 aspect-h-1 lg:aspect-none w-full overflow-hidden rounded-md bg-gray-200 group-hover:opacity-75 lg:h-80",children:a?e("img",{alt:d,src:l,className:"h-full w-full object-cover object-center lg:h-full lg:w-full"}):e(Vt,{variant:"rectangular",animation:"wave",width:"full"})}),r("div",{className:"mt-4 flex justify-between",children:[r("div",{children:[e("h3",{className:"text-sm text-gray-700",children:r(f,{to:`/products/${n}`,children:[e("span",{"aria-hidden":"true",className:"absolute inset-0"}),t]})}),e("p",{className:"mt-1 text-sm text-gray-500",children:o==null?void 0:o.map(p=>p._id===a.category?p.name:!1)})]}),e("p",{className:"text-sm font-semibold  text-gray-900",children:W(s)})]})]})})}function Sr(){const a=I(),{products:t,loading:s}=N(l=>l.products);x.exports.useEffect(()=>{a(pe())},[a]);const n=t==null?void 0:t.filter(l=>l.status===0);return x.exports.useEffect(()=>{document.title="Products"}),r("div",{className:"min-h-screen py-2 px-20 pb-20",children:[e("div",{className:"breadcrumbs text-xs text-gray-500",children:r("ul",{children:[e("li",{children:r(f,{to:"/",children:[e(ye,{fontSize:"small"}),"Home"]})}),e("li",{children:e(f,{className:"font-semibold",to:"/products",children:"Products"})})]})}),e("h1",{className:"text-left text-lg font-bold italic ",children:"Products"}),!s&&e("div",{className:"mt-6 grid grid-cols-1 gap-y-10 gap-x-6 sm:grid-cols-2 lg:grid-cols-4 xl:gap-x-8",children:n==null?void 0:n.map(l=>e(pt,{product:l},l._id))}),s&&e("div",{className:" absolute top-1/2 right-1/2 flex min-h-fit items-center justify-center",children:e(M.PacmanLoader,{color:"#34d399"})})]})}function Cr(){x.exports.useEffect(()=>{document.title="Products"});const a=I(),t=i=>{const m=Se(de);m.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(async b=>{if(b.isConfirmed)try{a(Ue(i)),m.fire("Deleted!","Product has been deleted.","success")}catch{m.fire("Error!","Something went wrong, please try again.","error")}})},s=[{field:"id",headerName:"ID",width:100,cellClassName:"font-semibold"},{field:"name",headerName:"Name",width:250},{field:"price",headerName:"Price",width:100,valueFormatter:i=>W(i.value)},{field:"image",headerName:"Image",width:100,renderCell:i=>e("img",{src:i.value,alt:i.value})},{field:"stock",headerName:"Stock",width:75,cellClassName:"text-center"},{field:"status",headerName:"Status",width:75,valueFormatter:i=>i.value===0?"Active":"Inactive",cellClassName:i=>i.value===0?"active-product":"inactive-product"},{field:"updatedAt",headerName:"Last Updated",width:135,valueFormatter:i=>te(i.value).format("HH:mm DD/MM/YYYY ")},{field:"_id",width:300,headerName:"Actions",renderCell:i=>r("div",{children:[e(f,{to:`/products/${i.value}`,children:e(R,{variant:"contained",style:{marginRight:".75rem"},startIcon:e(ue,{}),size:"small",className:"bg-orangeLight",children:"View"})}),e(f,{to:`/admin/products/${i.value}/edit`,children:e(R,{variant:"contained",style:{marginRight:".75rem"},startIcon:e(ve,{}),size:"small",className:"bg-cyan-500",children:"Edit"})}),e(R,{onClick:()=>{t(i.value)},variant:"contained",color:"error",size:"small",startIcon:e(we,{}),children:"Delete"})]})}],{products:n,loading:l,status:d}=N(i=>i.products),o=n==null?void 0:n.map((i,m)=>S(u({},i),{id:m+1})),[p,c]=H.useState(10);return x.exports.useEffect(()=>{d==="idle"&&a(pe())},[a,d]),e("div",{style:{height:735,width:"100%",minWidth:650},className:"my-4  px-4  pb-12",children:e("div",{style:{display:"flex",height:"100%"},className:"  pt-4",children:r("div",{style:{flexGrow:1},children:[r("div",{className:"flex justify-between",children:[e("h1",{className:"p-2 text-center text-3xl font-bold text-gray-800 antialiased",children:"Products"}),e(f,{to:"/admin/products/add",children:e(R,{variant:"contained",color:"success",style:{marginRight:".75rem"},startIcon:e(Ne,{}),children:"Add"})})]}),!l&&e(le,{className:"mx-2 rounded-lg shadow-md drop-shadow-lg",rows:o,columns:s,pageSize:p,classes:{root:"bg-white",row:"hover:bg-gray-100 bg-white border border-gray-100",sortIcon:"text-gray-500",overlay:"bg-gray-100",columnHeaders:"border-gray-100",columnHeaderTitle:"font-bold text-gray-700",menuIconButton:"text-gray-600",columnSeparator:"hidden",cell:"text-gray-700",footerContainer:"border-t-0 text-gray-500",toolbarContainer:"gap-1"},onPageSizeChange:i=>c(i),rowsPerPageOptions:[10,20,50,100],components:{Toolbar:he},componentsProps:{toolbar:{sx:{"& .MuiButton-root":{fontWeight:600}}}}}),l&&e("div",{className:" absolute top-1/2 right-1/2 flex min-h-fit items-center justify-center",children:e(Gt,{size:20,color:"#34d399",margin:2})})]})})})}const bt=se().shape({name:O().required("Name is required").min(3,"Name must be at least 3 characters").max(50,"Name must be less than 50 characters"),price:Ce().typeError("Amount must be a number").required("Price is required").min(1,"Price must be at least 1"),description:O().required("Description is required"),category:O().nullable().typeError("Amount must be a number").required("Image is required"),stock:Ce().typeError("Amount must be a number").required("Stock is required").min(0,"Stock must be at least 0"),status:Ce().required("Status is required")}),Ir={apiKey:"AIzaSyCQVHXAziWQyLilw2vHkVxyzfNHrRcnzEw",authDomain:"web502-project.firebaseapp.com",projectId:"web502-project",storageBucket:"web502-project.appspot.com",messagingSenderId:"264214214458",appId:"1:264214214458:web:15badd70c8a30a49684203",measurementId:"G-WDQ9J6T5RF"},kr=Qt(Ir),$e=Jt(kr,"gs://web502-project.appspot.com"),qe=async a=>{if(!a)return;const t=je($e,`products/${a.name}`);return await Ge(t,a),await Qe(t)},_r=async a=>{if(!a)return;const t=je($e,`avatars/${a.name}`);return await Ge(t,a),await Qe(t)},Lr=async a=>{if(!a)return;const t=je($e,`avatars/${a.name}`);return await Ge(t,a),await Qe(t)},xt=async a=>{if(!a||a==="no-image.png")return;const t=je($e,`products/${a}`);await Kt(t).then(()=>{console.log("File deleted")})};function Pr(){var C,U,j,A,P,G,J,q,B,V,$,ee;const[a,t]=H.useState(!1),[s,n]=H.useState(null),{register:l,handleSubmit:d,formState:{errors:o},reset:p,resetField:c}=K({resolver:X(bt)}),i=Q(),{id:m}=re(),b=I(),g=N(D=>D.categories.categories);x.exports.useEffect(()=>{b(ae())},[b]);const h=N(D=>m?gt(D,m):null),k=D=>{D.target.files&&D.target.files.length>0&&n(D.target.files[0])},z=()=>{n(null),c("image")};return x.exports.useEffect(()=>{h&&p(h)},[m,h,p]),r("div",{className:"flex",children:[e("div",{className:"card ml-4 mt-4 w-full max-w-4xl flex-shrink-0 bg-base-100 shadow-lg shadow-slate-400 drop-shadow-2xl",children:e("div",{className:"card-body",children:r("form",{onSubmit:d(async D=>{try{t(!0);const ie=D.image[0];if(s!==null){await xt(D.imageName);const St=await qe(ie);D.image=St,D.imageName=ie.name}await b(Re(D)),v.success("Product updated successfully",{position:v.POSITION.BOTTOM_RIGHT}),t(!1),i("/admin/products")}catch(ie){v.error(ie.message,{type:"error"})}}),children:[r("div",{className:"grid grid-cols-2 gap-x-4",children:[r("div",{className:"form-control",children:[e("label",{className:"label",children:e("span",{className:"label-text font-semibold",children:"Name"})}),e("input",u({className:" input input-info border-2 ",type:"text",placeholder:"Name"},l("name"))),((C=o.name)==null?void 0:C.message)&&e(y,{severity:"error",className:"my-1 mb-2",variant:"filled",children:(U=o.name)==null?void 0:U.message})]}),r("div",{className:"form-control",children:[e("label",{className:"label",children:e("span",{className:"label-text font-semibold",children:"Price"})}),e("input",u({className:" input input-info border-2",type:"number",placeholder:"Price"},l("price"))),((j=o.price)==null?void 0:j.message)&&e(y,{severity:"error",className:"my-1 mb-2",variant:"filled",children:(A=o.price)==null?void 0:A.message})]})]}),r("div",{className:"grid grid-cols-2 gap-x-4",children:[r("div",{className:"form-control my-2",children:[e("label",{className:"label",children:e("span",{className:"label-text font-semibold",children:"Category"})}),e("select",S(u({className:"select select-info w-full "},l("category",{required:!0})),{children:g==null?void 0:g.map((D,ie)=>e("option",{value:D._id,children:D.name},ie+1))})),o.category&&e(y,{severity:"error",className:"my-1 mb-2",variant:"filled",children:"Please select a category"})]}),r("div",{className:"form-control my-2",children:[e("label",{className:"label",children:e("span",{className:"label-text font-semibold",children:"Stock"})}),e("input",u({className:" input input-info border-2",type:"number",placeholder:"Stock"},l("stock"))),((P=o.stock)==null?void 0:P.message)&&e(y,{severity:"error",className:"my-1 mb-2",variant:"filled",children:(G=o.stock)==null?void 0:G.message})]})]}),r("div",{className:"grid grid-cols-2 gap-x-4",children:[r("div",{children:[r("div",{className:"form-control my-2",children:[e("label",{className:"label",children:e("span",{className:"label-text font-semibold",children:"Image"})}),e("input",S(u({className:"file:mr-4 file:rounded-full file:border-0 file:bg-violet-50 file:py-2 file:px-4 file:text-sm file:font-semibold file:text-cyan-500 hover:file:bg-violet-100",type:"file",accept:"image/*",placeholder:"Image"},l("image")),{onChange:k})),((J=o.image)==null?void 0:J.message)&&e(y,{severity:"error",className:"my-1 mb-2",variant:"filled",children:(q=o.image)==null?void 0:q.message})]}),r("div",{className:"form-control my-2",children:[e("label",{className:"label",children:e("span",{className:"label-text font-semibold",children:"Status"})}),r("div",{className:"flex gap-x-3",children:[r("div",{className:" flex items-center",children:[e("input",u(S(u({type:"radio"},l("status")),{className:"radio radio-accent",value:0}),(h==null?void 0:h.status)===0&&{checked:!0})),e("label",{className:"label",children:e("span",{className:"label-text font-semibold text-teal-500",children:"Active"})})]}),r("div",{className:"flex items-center",children:[e("input",u(S(u({type:"radio"},l("status")),{className:"radio border-roseLight  checked:bg-roseLight",value:1}),(h==null?void 0:h.status)===1&&{checked:!0})),e("label",{className:"label",children:e("span",{className:"label-text font-semibold text-roseLight",children:"Inactive"})})]})]}),((B=o.status)==null?void 0:B.message)&&e(y,{severity:"error",className:"my-1 mb-2",variant:"filled",children:(V=o.status)==null?void 0:V.message})]})]}),r("div",{className:"form-control my-2",children:[e("label",{className:"label",children:e("span",{className:"label-text font-semibold",children:"Description"})}),e("textarea",u({className:"textarea textarea-info h-24 border-2",placeholder:"Description"},l("description"))),(($=o.description)==null?void 0:$.message)&&e(y,{severity:"error",className:"my-1 mb-2",variant:"filled",children:(ee=o.description)==null?void 0:ee.message})]})]}),!a&&e("div",{className:"form-control mt-6",children:e("button",{type:"submit",className:"btn  border-2 border-cyan-400  bg-sky-400 py-2 px-4 text-base font-bold text-white shadow shadow-sky-400 hover:bg-sky-500 ",children:"update"})}),a&&e("div",{className:"flex min-h-fit items-center justify-center",children:e(M.BeatLoader,{size:20,color:"#34d399",margin:2})})]})})}),s?e("div",{children:r("div",{className:"mt-4 flex h-full flex-col gap-y-2 rounded-md bg-slate-100 px-4 ",children:[e("h1",{className:"font-semibold text-gray-600",children:"Image Preview"}),e("div",{children:e("img",{src:URL.createObjectURL(s),alt:""})}),e("button",{type:"button",className:"btn btn-info mx-auto text-xs text-white shadow-md shadow-cyan-400",onClick:z,children:"Remove This Image"})]})}):e("div",{children:r("div",{className:"mt-4 flex h-full w-full flex-col gap-y-2 rounded-md bg-slate-100 px-4",children:[e("h1",{className:"font-semibold text-gray-600",children:"Present Image"}),e("div",{children:e("img",{src:h==null?void 0:h.image,alt:""})})]})})]})}const Br=se().shape({email:O().required("Email is required").email("Invalid email"),password:O().required("Password is required").min(6,"Password must be at least 6 characters")}),Or=se().shape({name:O().required("Name is required").min(3,"Name must be at least 3 characters").max(50,"Name must be less than 50 characters"),email:O().required("Email is required").email("Invalid email"),password:O().required("Password is required").min(6,"Password must be at least 6 characters").max(50,"Password must be less than 50 characters"),cpassword:O().required("Password is required").oneOf([Xt("password"),null],"Confirm Password does not match"),acceptTerms:Zt().oneOf([!0],"Accept Terms is required")});function Rr(){var h,k,z,L;const{register:a,handleSubmit:t,formState:{errors:s}}=K({resolver:X(Br)}),n=Q(),l=I(),[d,o]=x.exports.useState(!1),{isLoggedIn:p,user:c}=N(C=>C.auth),{message:i}=N(C=>C.message),m=async C=>{o(!0),i&&l(me()),setTimeout(async()=>{await l(_e(C)).unwrap().then(()=>{v.success("Sign in successfully",{position:v.POSITION.BOTTOM_RIGHT})}).catch(()=>{o(!1)})},700)};x.exports.useEffect(()=>{l(me())},[l]);const[b,g]=x.exports.useState(!0);return x.exports.useEffect(()=>{g(!0)},[s.email,s.password]),p&&(c.user.role==="admin"&&n("/admin"),c.user.role==="user"&&n("/")),e("div",{className:"card w-full max-w-md flex-shrink-0 bg-base-100 shadow-lg shadow-slate-400 drop-shadow-2xl",children:e("div",{className:"card-body",children:r("form",{onSubmit:t(m),children:[r("div",{className:"form-control",children:[e("label",{className:"label",children:e("span",{className:"label-text",children:"Email"})}),e("input",u({className:" input input-bordered input-accent border-2 focus:border-blueSage",type:"text",placeholder:"Email"},a("email"))),((h=s.email)==null?void 0:h.message)&&e(ne,{in:b,children:e(y,{severity:"error",action:e(oe,{size:"small",onClick:()=>{g(!1)},children:e(ce,{fontSize:"inherit"})}),children:(k=s.email)==null?void 0:k.message})})]}),r("div",{className:"form-control",children:[e("label",{className:"label",children:e("span",{className:"label-text",children:"Password"})}),e("input",S(u({className:"input input-bordered input-accent border-2",type:"password"},a("password")),{name:"password",placeholder:"Password"})),((z=s.password)==null?void 0:z.message)&&e(ne,{in:b,children:e(y,{severity:"error",action:e(oe,{size:"small",onClick:()=>{g(!1)},children:e(ce,{fontSize:"inherit"})}),children:(L=s.password)==null?void 0:L.message})}),e("label",{className:"label",children:e("a",{href:"#",className:"link link-hover label-text-alt",children:"Forgot password?"})})]}),i&&e("div",{className:"form-group",children:e(y,{severity:"error",variant:"filled",children:i})}),d===!0?e("div",{className:"form-control pt-1  text-center",children:e(M.PropagateLoader,{size:15,color:"#34d399",children:" "})}):e("div",{className:"form-control mt-6",children:e("button",{type:"submit",className:"btn  border-2 border-green-400  bg-blueSage py-2 px-4 text-base font-bold text-white shadow shadow-cyan-400 hover:bg-teal-400 ",children:"Sign in"})})]})})})}function Ur(){return r(fe,{children:[e("div",{className:"breadcrumbs px-20 text-xs text-gray-500",children:r("ul",{children:[e("li",{children:r(f,{to:"/",children:[e(ye,{fontSize:"small"}),"Home"]})}),e("li",{children:e(f,{to:"/signin",children:"Sign in"})})]})}),e("div",{className:"hero  min-h-full bg-base-200  py-16 pb-40",children:r("div",{className:"hero-content w-full  flex-col  justify-end lg:flex-row-reverse ",children:[r("div",{className:"min-w-xl pl-4 text-center lg:text-left",children:[e("h1",{className:"text-5xl font-bold text-blacklight",children:"Login now!"}),e("p",{className:"pt-6 pb-2",children:"Lorem ipsum dolor, sit amet consectetur adipisicing elit. Qui, quas aspernatur similique quidem aperiam itaque repellat, voluptatibus minima dignissimos fuga, vitae eligendi deleniti maxime ipsam eaque veniam accusantium voluptate sint."}),r("p",{className:"italic",children:["Don't have an account?"," ",e(f,{to:"/signup",className:" border-gray-700 font-medium not-italic text-gray-800 hover:border-b",children:"Sign up"})]})]}),e(Rr,{})]})})]})}function Tr({children:a}){const{user:t}=F();return t&&t.role==="admin"?a:e(at,{to:"/"})}function zr(){var h,k,z,L,C,U,j;const[a,t]=x.exports.useState(!0),{message:s}=N(A=>A.message),{isLoggedIn:n}=N(A=>A.auth),{register:l,handleSubmit:d,formState:{errors:o},reset:p}=K({resolver:X(Or)}),c=Q(),i=I(),m=async A=>{t(!1),s&&i(me()),setTimeout(async()=>{await i(Ye(A)).unwrap().then(()=>{v.success("Sign up successfully, please sign in now",{position:v.POSITION.TOP_RIGHT}),c("/signin")}).catch(()=>{t(!0)})},750)};x.exports.useEffect(()=>{i(me())},[i]),x.exports.useEffect(()=>{p()},[p,a]);const[b,g]=x.exports.useState(!0);return x.exports.useEffect(()=>{g(!0)},[o.email,o.password,o.name]),n&&c("/"),e("div",{className:"card w-full max-w-md flex-shrink-0 bg-base-100 shadow-lg shadow-slate-400 drop-shadow-2xl",children:e("div",{className:"card-body",children:r("form",{onSubmit:d(m),children:[r("div",{className:"form-control",children:[e("label",{className:"label",children:e("span",{className:"label-text",children:"Name"})}),e("input",u({className:" input input-bordered input-accent border-2 focus:border-blueSage",type:"text",autoComplete:"off",placeholder:"Name"},l("name"))),((h=o.name)==null?void 0:h.message)&&e(ne,{in:b,children:e(y,{severity:"error",action:e(oe,{size:"small",onClick:()=>{g(!1)},children:e(ce,{fontSize:"inherit"})}),children:o==null?void 0:o.name.message})})]}),r("div",{className:"form-control",children:[e("label",{className:"label",children:e("span",{className:"label-text",children:"Email"})}),e("input",u({className:" input input-bordered input-accent border-2 focus:border-blueSage",type:"text",autoComplete:"off",placeholder:"Email"},l("email"))),((k=o.email)==null?void 0:k.message)&&e(ne,{in:b,children:e(y,{severity:"error",action:e(oe,{size:"small",onClick:()=>{g(!1)},children:e(ce,{fontSize:"inherit"})}),children:(z=o.email)==null?void 0:z.message})})]}),r("div",{className:"form-control grid grid-cols-2 gap-x-2",children:[r("div",{className:"form-control",children:[e("label",{className:"label",children:e("span",{className:"label-text",children:"Password"})}),e("input",S(u({className:"input input-bordered input-accent border-2",type:"password",autoComplete:"off"},l("password")),{name:"password",placeholder:"Password"})),((L=o.password)==null?void 0:L.message)&&e(ne,{in:b,children:e(y,{severity:"error",className:"text-xs",action:e(oe,{size:"small",onClick:()=>{g(!1)},children:e(ce,{fontSize:"inherit"})}),children:(C=o.password)==null?void 0:C.message})}),e("label",{className:"label",children:e(f,{to:"/signin",className:"link link-hover label-text-alt",children:"Sign in"})})]}),r("div",{className:"form-control",children:[e("label",{className:"label",children:e("span",{className:"label-text",children:"Confirm password"})}),e("input",S(u({className:"input input-bordered input-accent border-2",type:"password",autoComplete:"off"},l("cpassword")),{placeholder:"Re-enter password"})),((U=o.cpassword)==null?void 0:U.message)&&e(ne,{in:b,children:e(y,{severity:"error",className:"text-xs",action:e(oe,{size:"small",onClick:()=>{g(!1)},children:e(ce,{fontSize:"inherit"})}),children:(j=o.cpassword)==null?void 0:j.message})})]})]}),s&&e("div",{className:"form-group",children:e(y,{severity:"error",variant:"filled",children:s})}),a===!1?e("div",{className:"form-control pt-1  text-center",children:e(M.PropagateLoader,{size:15,color:"#34d399",children:" "})}):e("div",{className:"form-control mt-6",children:e("button",{type:"submit",className:"btn  border-2 border-green-400  bg-blueSage py-2 px-4 text-base font-bold text-white shadow shadow-cyan-400 hover:bg-teal-400 ",children:"Sign up"})})]})})})}function Ar(){return r(fe,{children:[e("div",{className:"breadcrumbs px-20 text-xs text-gray-500",children:r("ul",{children:[e("li",{children:r(f,{to:"/",children:[e(ye,{fontSize:"small"}),"Home"]})}),e("li",{children:e(f,{to:"/signup",children:"Sign Up"})})]})}),e("div",{className:"hero  min-h-full bg-base-200  py-16 pb-40",children:r("div",{className:"hero-content w-full  flex-col  justify-end lg:flex-row-reverse ",children:[r("div",{className:"min-w-xl pl-4 text-center lg:text-left",children:[e("h1",{className:"text-5xl font-bold text-blacklight",children:"Sign up now!"}),e("p",{className:"pt-6 pb-2",children:"Lorem ipsum dolor, sit amet consectetur adipisicing elit. Qui, quas aspernatur similique quidem aperiam itaque repellat, voluptatibus minima dignissimos fuga, vitae eligendi deleniti maxime ipsam eaque veniam accusantium voluptate sint."}),r("p",{className:"italic",children:["You have a account?"," ",e(f,{to:"/signin",className:" border-gray-700 font-medium not-italic text-gray-800 hover:border-b",children:"Sign in"})]})]}),e(zr,{})]})})]})}function jr(){var k,z,L,C,U,j,A,P,G,J,q;const[a,t]=H.useState(null),[s,n]=H.useState(!1),{register:l,handleSubmit:d,formState:{errors:o},resetField:p}=K({resolver:X(bt)}),c=Q(),i=I(),m=N(B=>B.categories.categories);x.exports.useEffect(()=>{i(ae())},[i]);const b=B=>{B.target.files&&B.target.files.length>0&&t(B.target.files[0])},g=()=>{t(null),p("image")};return r("div",{className:"flex",children:[e("div",{className:"card ml-4 mt-4 w-full max-w-4xl flex-shrink-0 bg-base-100 shadow-lg shadow-slate-400 drop-shadow-2xl",children:e("div",{className:"card-body",children:r("form",{onSubmit:d(async B=>{try{if(n(!0),a!==null){const $=B.image[0];B.imageName=$.name;const ee=await qe($);B.image=ee}else B.image="https://img.icons8.com/ios-filled/100/000000/no-image.png";const V=await i(Oe(B));if(V.type!=="products/addNewProduct/fulfilled"){v.error(V.error.message,{type:"error"}),c("/admin/products");return}v.success("Product added successfully",{position:v.POSITION.BOTTOM_RIGHT}),n(!1),c("/admin/products")}catch(V){v.error(V.message,{type:"error"})}}),children:[r("div",{className:"grid grid-cols-2 gap-x-4",children:[r("div",{className:"form-control",children:[e("label",{className:"label",children:e("span",{className:"label-text font-semibold",children:"Name"})}),e("input",u({className:" input input-info border-2 ",type:"text",placeholder:"Name"},l("name"))),((k=o.name)==null?void 0:k.message)&&e(y,{severity:"error",className:"my-1 mb-2",variant:"filled",children:(z=o.name)==null?void 0:z.message})]}),r("div",{className:"form-control",children:[e("label",{className:"label",children:e("span",{className:"label-text font-semibold",children:"Price"})}),e("input",u({className:" input input-info border-2",type:"number",placeholder:"Price"},l("price"))),((L=o.price)==null?void 0:L.message)&&e(y,{severity:"error",className:"my-1 mb-2",variant:"filled",children:(C=o.price)==null?void 0:C.message})]})]}),r("div",{className:"grid grid-cols-2 gap-x-4",children:[r("div",{className:"form-control my-2",children:[e("label",{className:"label",children:e("span",{className:"label-text font-semibold",children:"Category"})}),r("select",S(u({className:"select select-info w-full "},l("category",{required:!0})),{children:[e("option",{disabled:!0,selected:!0,value:"",children:"Select Category"}),m==null?void 0:m.map((B,V)=>e("option",{value:B._id,children:B.name},V+1))]})),o.category&&e(y,{severity:"error",className:"my-1 mb-2",variant:"filled",children:"Please select a category"})]}),r("div",{className:"form-control my-2",children:[e("label",{className:"label",children:e("span",{className:"label-text font-semibold",children:"Stock"})}),e("input",u({className:" input input-info border-2",type:"number",placeholder:"Stock"},l("stock"))),((U=o.stock)==null?void 0:U.message)&&e(y,{severity:"error",className:"my-1 mb-2",variant:"filled",children:(j=o.stock)==null?void 0:j.message})]})]}),r("div",{className:"grid grid-cols-2 gap-x-4",children:[r("div",{children:[r("div",{className:"form-control my-2",children:[e("label",{className:"label",children:e("span",{className:"label-text font-semibold",children:"Image"})}),e("input",S(u({className:"file:mr-4 file:rounded-full file:border-0 file:bg-violet-50 file:py-2 file:px-4 file:text-sm file:font-semibold file:text-cyan-500 hover:file:bg-violet-100 ",type:"file",accept:"image/*",placeholder:"Image"},l("image")),{onChange:b})),(o==null?void 0:o.image)&&e(y,{severity:"error",className:"my-1 mb-2",variant:"filled",children:(A=o.image)==null?void 0:A.message})]}),r("div",{className:"form-control my-2",children:[e("label",{className:"label",children:e("span",{className:"label-text font-semibold",children:"Status"})}),r("div",{className:"flex gap-x-3",children:[r("div",{className:" flex items-center",children:[e("input",S(u({type:"radio"},l("status")),{className:"radio radio-accent",value:0,checked:!0})),e("label",{className:"label",children:e("span",{className:"label-text font-semibold text-teal-500",children:"Active"})})]}),r("div",{className:"flex items-center",children:[e("input",S(u({type:"radio"},l("status")),{className:"radio border-roseLight  checked:bg-roseLight",value:1})),e("label",{className:"label",children:e("span",{className:"label-text font-semibold text-roseLight",children:"Inactive"})})]})]}),((P=o.status)==null?void 0:P.message)&&e(y,{severity:"error",className:"my-1 mb-2",variant:"filled",children:(G=o.status)==null?void 0:G.message})]})]}),r("div",{className:"form-control my-2",children:[e("label",{className:"label",children:e("span",{className:"label-text font-semibold",children:"Description"})}),e("textarea",u({className:"textarea textarea-info h-24 border-2",placeholder:"Description"},l("description"))),((J=o.description)==null?void 0:J.message)&&e(y,{severity:"error",className:"my-1 mb-2",variant:"filled",children:(q=o.description)==null?void 0:q.message})]})]}),!s&&e("div",{className:"form-control mt-6",children:e("button",{type:"submit",className:"btn  border-2 border-cyan-400  bg-sky-400 py-2 px-4 text-base font-bold text-white shadow shadow-sky-400 hover:bg-sky-500 ",children:"Create"})}),s&&e("div",{className:"flex min-h-fit items-center justify-center",children:e(M.BeatLoader,{size:20,color:"#34d399",margin:2})})]})})}),a&&e("div",{children:r("div",{className:"mt-4 flex h-full flex-col gap-y-2 rounded-md bg-slate-100 px-4 ",children:[e("h1",{className:"font-semibold text-gray-600",children:"Image Preview"}),e("div",{children:e("img",{src:URL.createObjectURL(a),alt:""})}),e("button",{type:"button",className:"btn btn-info mx-auto text-xs text-white shadow-md shadow-cyan-400",onClick:g,children:"Remove This Image"})]})})]})}function $r(){const a=I(),t=i=>{const m=Se(de);m.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(async b=>{if(b.isConfirmed)try{a(We(i)),m.fire("Deleted!","Category has been deleted.","success")}catch{m.fire("Error!","Something went wrong, please try again.","error")}})},s=[{field:"id",headerName:"ID",width:100},{field:"name",headerName:"Name",width:400},{field:"updatedAt",headerName:"Last Updated",width:150,valueFormatter:i=>te(i.value).format("HH:mm DD/MM/YYYY ")},{field:"_id",width:350,headerName:"Actions",renderCell:i=>r("div",{children:[e(f,{to:`/admin/categories/${i.value}/view`,children:e(R,{variant:"contained",style:{marginRight:".75rem"},startIcon:e(ue,{}),size:"small",className:"bg-blueDark",children:"Detail"})}),e(f,{to:`/admin/categories/${i.value}/edit`,children:e(R,{variant:"contained",style:{marginRight:".75rem"},startIcon:e(ve,{}),size:"small",className:"bg-cyan-500",children:"Edit"})}),e(R,{onClick:()=>{t(i.value)},variant:"contained",color:"error",size:"small",startIcon:e(we,{}),children:"Delete"})]})}],{categories:n,loading:l,status:d}=N(i=>i.categories),o=n==null?void 0:n.map((i,m)=>S(u({},i),{id:m+1})),[p,c]=H.useState(10);return x.exports.useEffect(()=>{d==="idle"&&a(ae())},[a,d]),r(fe,{children:[!l&&e(le,{className:"mx-2 rounded-lg shadow-md drop-shadow-lg",rows:o,columns:s,pageSize:p,classes:{root:"bg-white",row:"hover:bg-gray-100 bg-white border border-gray-100",sortIcon:"text-gray-500",overlay:"bg-gray-100",columnHeaders:"border-gray-100",columnHeaderTitle:"font-bold text-gray-700",menuIconButton:"text-gray-600",columnSeparator:"hidden",cell:"text-gray-700",footerContainer:"border-t-0 text-gray-500",toolbarContainer:"gap-1"},onPageSizeChange:i=>c(i),rowsPerPageOptions:[10,20,50,100],components:{Toolbar:he},componentsProps:{toolbar:{sx:{"& .MuiButton-root":{fontWeight:600}}}}}),l&&e("div",{className:" absolute top-1/2 right-1/2 flex min-h-fit items-center justify-center",children:e(M.BeatLoader,{size:20,color:"#34d399",margin:2})})]})}function qr(){return H.useEffect(()=>{document.title="Categories"}),e("div",{style:{height:735,width:"100%",minWidth:650},className:"my-4  px-4  pb-12",children:e("div",{style:{display:"flex",height:"100%"},className:"  pt-4",children:r("div",{style:{flexGrow:1},children:[r("div",{className:"flex justify-between",children:[e("h1",{className:"p-2 text-center text-3xl font-bold text-gray-800 antialiased",children:"Categories"}),e(f,{to:"/admin/categories/add",children:e(R,{variant:"contained",color:"success",style:{marginRight:".75rem"},startIcon:e(Ne,{}),children:"Add"})})]}),e($r,{})]})})})}const yt=se().shape({name:O().required("Name is required").min(3,"Name must be at least 3 characters").max(40,"Name must be less than 50 characters")});function Dr(){var p,c;const a=I(),t=Q(),{loading:s}=N(i=>i.categories),{register:n,handleSubmit:l,formState:{errors:d}}=K({resolver:X(yt)});return e("div",{className:"card ml-4 mt-4 w-full max-w-md flex-shrink-0 bg-base-100 shadow-lg shadow-slate-400 drop-shadow-2xl",children:e("div",{className:"card-body",children:r("form",{onSubmit:l(async i=>{try{const m=await a(Le(i));if(m.type!=="categories/createCategory/fulfilled"){v.error(m.error.message,{type:"error"}),t("/admin/categories");return}v.success("Category added successfully",{position:v.POSITION.BOTTOM_RIGHT}),t("/admin/categories")}catch(m){v.error(m.message,{type:"error"})}}),children:[r("div",{className:"form-control",children:[e("label",{className:"label",children:e("span",{className:"label-text",children:"Name"})}),e("input",u({className:" input input-info ",type:"text",placeholder:"Name"},n("name"))),((p=d.name)==null?void 0:p.message)&&e(y,{severity:"error",className:"my-1 mb-2",variant:"filled",children:(c=d.name)==null?void 0:c.message})]}),!s&&e("div",{className:"form-control mt-6",children:e("button",{type:"submit",className:"btn  border-2 border-cyan-400  bg-sky-400 py-2 px-4 text-base font-bold text-white shadow shadow-sky-400 hover:bg-sky-500 ",children:"Create"})}),s&&e("div",{className:" absolute top-1/2 right-1/2 flex min-h-fit items-center justify-center",children:e(M.BeatLoader,{size:20,color:"#34d399",margin:2})})]})})})}function Er(){var m,b;const a=I(),t=Q(),{id:s}=re(),{loading:n}=N(g=>g.categories),l=N(g=>s?cr(g,s):null),{register:d,handleSubmit:o,formState:{errors:p},reset:c}=K({resolver:X(yt)}),i=async g=>{try{const h=await a(Pe(g));if(h.type!=="categories/updateCategory/fulfilled"){v.error(h.error.message,{type:"error"}),t("/admin/categories");return}v.success("Category updated successfully",{position:v.POSITION.BOTTOM_RIGHT}),t("/admin/categories")}catch(h){v.error(h.message,{type:"error"})}};return x.exports.useEffect(()=>{l&&c(l)},[l,c]),e("div",{className:"card ml-4 mt-4 w-full max-w-md flex-shrink-0 bg-base-100 shadow-lg shadow-slate-400 drop-shadow-2xl",children:e("div",{className:"card-body",children:r("form",{onSubmit:o(i),children:[r("div",{className:"form-control",children:[e("label",{className:"label",children:e("span",{className:"label-text",children:"Name"})}),e("input",u({className:" input input-info ",type:"text",placeholder:"Name"},d("name"))),((m=p.name)==null?void 0:m.message)&&e(y,{severity:"error",className:"my-1 mb-2",variant:"filled",children:(b=p.name)==null?void 0:b.message})]}),!n&&e("div",{className:"form-control mt-6",children:e("button",{type:"submit",className:"btn  border-2 border-cyan-400  bg-sky-400 py-2 px-4 text-base font-bold text-white shadow shadow-sky-400 hover:bg-sky-500 ",children:"Create"})}),n&&e("div",{className:" absolute top-1/2 right-1/2 flex min-h-fit items-center justify-center",children:e(M.BeatLoader,{size:20,color:"#34d399",margin:2})})]})})})}const Hr={category:[],loading:!1,status:"idle"},be=_("category/getCategoryDetails",async a=>{const{data:t}=await rr(a);return t}),Mr=Z({name:"category",initialState:Hr,reducers:{},extraReducers:a=>{a.addCase(be.pending,t=>{t.loading=!0}),a.addCase(be.fulfilled,(t,s)=>{t.category=s.payload,t.loading=!1,t.status="success"}),a.addCase(be.rejected,t=>{t.loading=!1,t.status="error"})}});var Fr=Mr.reducer;function Yr(){var i,m,b,g;const a=I(),{id:t}=re(),s=[{field:"id",headerName:"ID",width:100},{field:"name",headerName:"Name",width:300},{field:"price",headerName:"Price",width:100,valueFormatter:h=>W(h.value)},{field:"image",headerName:"Image",width:100,renderCell:h=>e("img",{src:h.value,alt:h.value})},{field:"updatedAt",headerName:"Last Updated",width:150,valueFormatter:h=>te(h.value).format("HH:mm DD/MM/YYYY ")},{field:"_id",width:350,headerName:"Actions",renderCell:h=>e("div",{children:e(f,{to:`/products/${h.value}`,children:e(R,{variant:"contained",style:{marginRight:".75rem"},startIcon:e(ue,{}),size:"small",className:"bg-orangeLight",children:"View"})})})}],[n,l]=H.useState(10),{category:d,loading:o,status:p}=N(h=>h.category),c=(m=(i=d==null?void 0:d.category)==null?void 0:i.products)==null?void 0:m.map((h,k)=>S(u({},h),{id:k+1}));return x.exports.useEffect(()=>{a(be(t))},[a,p,t]),e("div",{style:{height:735,width:"100%",minWidth:650},className:"my-4  px-4  pb-12",children:e("div",{style:{display:"flex",height:"100%"},className:"  pt-4",children:r("div",{style:{flexGrow:1},children:[e("div",{className:"flex justify-between",children:r("h1",{className:"p-2 text-center text-3xl font-bold text-gray-800 antialiased",children:[(b=d.category)==null?void 0:b.name," :"," ",r("small",{className:"font-base text-gray-600",children:[(g=d.category)==null?void 0:g.products.length," products total"]})]})}),!o&&e(le,{className:"mx-2 rounded-lg shadow-md drop-shadow-lg",rows:c,columns:s,pageSize:n,classes:{root:"bg-white",row:"hover:bg-gray-100 bg-white border border-gray-100",sortIcon:"text-gray-500",overlay:"bg-gray-100",columnHeaders:"border-gray-100",columnHeaderTitle:"font-bold text-gray-700",menuIconButton:"text-gray-600",columnSeparator:"hidden",cell:"text-gray-700",footerContainer:"border-t-0 text-gray-500",toolbarContainer:"gap-1"},onPageSizeChange:h=>l(h),rowsPerPageOptions:[10,20,50,100],components:{Toolbar:he},componentsProps:{toolbar:{sx:{"& .MuiButton-root":{fontWeight:600}}}}}),o&&e("div",{className:" absolute top-1/2 right-1/2 flex min-h-fit items-center justify-center",children:e(M.BeatLoader,{size:20,color:"#34d399",margin:2})})]})})})}function Wr(){var d,o,p,c,i;const a=I(),{id:t}=re(),{category:s,loading:n}=N(m=>m.category);x.exports.useEffect(()=>{a(be(t))},[a,t]);const l=(o=(d=s==null?void 0:s.category)==null?void 0:d.products)==null?void 0:o.filter(m=>m.status===0);return r("div",{className:"min-h-screen py-2 px-20",children:[e("div",{className:"breadcrumbs text-xs text-gray-500",children:r("ul",{children:[e("li",{children:r(E,{to:"/",children:[e(ye,{fontSize:"small"}),"Home"]})}),e("li",{children:e(E,{to:"/products",children:"Products"})}),e("li",{children:e(E,{className:"font-semibold",to:`/products/${(p=s==null?void 0:s.category)==null?void 0:p._id}`,children:(c=s==null?void 0:s.category)==null?void 0:c.name})})]})}),!n&&r(fe,{children:[e("h1",{className:"text-left text-[25px] font-bold italic ",children:(i=s==null?void 0:s.category)==null?void 0:i.name}),e("div",{className:"mt-6 grid grid-cols-1 gap-y-10 gap-x-6 sm:grid-cols-2 lg:grid-cols-4 xl:gap-x-8",children:l==null?void 0:l.map(m=>e(pt,{product:m},m==null?void 0:m._id))})]}),n&&e("div",{className:" absolute top-1/2 right-1/2 flex min-h-fit items-center justify-center",children:e(M.PacmanLoader,{color:"#34d399",margin:2})})]})}function Vr({children:a}){const{pathname:t}=ea();return x.exports.useEffect(()=>{window.scrollTo(0,0)},[t]),a}const Gr={users:[],isLoading:!1,error:null,status:"idle"},xe=_("users/fetchUsers",async()=>await $a()),Qr=Z({name:"users",initialState:Gr,reducers:{},extraReducers:a=>{a.addCase(xe.pending,t=>{t.isLoading=!0}),a.addCase(xe.fulfilled,(t,s)=>{t.users=s.payload,t.isLoading=!1,t.status="success"}),a.addCase(xe.rejected,(t,s)=>{t.error=s.error,t.isLoading=!1,t.status="error"})}});var Jr=Qr.reducer;function Kr(){x.exports.useEffect(()=>{document.title="Users"});const a=I(),t=[{field:"id",headerName:"ID",width:100},{field:"name",headerName:"Name",width:400},{field:"email",headerName:"Email",width:170},{field:"role",headerName:"Role",width:150},{field:"_id",width:350,headerName:"Actions",renderCell:c=>r("div",{children:[e(f,{to:`/admin/categories/${c.value}/view`,children:e(R,{variant:"contained",style:{marginRight:".75rem"},startIcon:e(ue,{}),size:"small",className:"bg-blueDark",children:"Detail"})}),e(f,{to:`/admin/categories/${c.value}/edit`,children:e(R,{variant:"contained",style:{marginRight:".75rem"},startIcon:e(ve,{}),size:"small",className:"bg-cyan-500",children:"Edit"})}),e(R,{variant:"contained",color:"error",size:"small",startIcon:e(we,{}),children:"Delete"})]})}],{users:s,isLoading:n,status:l}=N(c=>c.users),d=s==null?void 0:s.map((c,i)=>S(u({},c),{id:i+1})),[o,p]=H.useState(10);return x.exports.useEffect(()=>{a(xe())},[a,l]),r(fe,{children:[!n&&e(le,{className:"mx-2 rounded-lg shadow-md drop-shadow-lg",rows:d,columns:t,pageSize:o,classes:{root:"bg-white",row:"hover:bg-gray-100 bg-white border border-gray-100",sortIcon:"text-gray-500",overlay:"bg-gray-100",columnHeaders:"border-gray-100",columnHeaderTitle:"font-bold text-gray-700",menuIconButton:"text-gray-600",columnSeparator:"hidden",cell:"text-gray-700",footerContainer:"border-t-0 text-gray-500",toolbarContainer:"gap-1"},onPageSizeChange:c=>p(c),rowsPerPageOptions:[10,20,50,100],components:{Toolbar:he},componentsProps:{toolbar:{sx:{"& .MuiButton-root":{fontWeight:600}}}}}),n&&e("div",{className:" absolute top-1/2 right-1/2 flex min-h-fit items-center justify-center",children:e(M.BeatLoader,{size:20,color:"#34d399",margin:2})})]})}function Xr(){return H.useEffect(()=>{document.title="Categories"}),e("div",{style:{height:735,width:"100%",minWidth:650},className:"my-4  px-4  pb-12",children:e("div",{style:{display:"flex",height:"100%"},className:"  pt-4",children:r("div",{style:{flexGrow:1},children:[r("div",{className:"flex justify-between",children:[e("h1",{className:"p-2 text-center text-3xl font-bold text-gray-800 antialiased",children:"Categories"}),e(f,{to:"/admin/categories/add",children:e(R,{variant:"contained",color:"success",style:{marginRight:".75rem"},startIcon:e(Ne,{}),children:"Add"})})]}),e(Kr,{})]})})})}function Nt({item:a}){const{name:t,_id:s,amount:n,price:l,image:d,imageName:o,category:p}=a,c=I(),i=N(m=>dt(m));return r("div",{className:"-mx-8 flex items-center px-6 py-5 hover:bg-gray-100",children:[r("div",{className:"flex w-2/5",children:[e("div",{className:"w-20",children:e("img",{className:"h-24",src:d,alt:o})}),r("div",{className:"ml-4 flex flex-grow flex-col justify-between",children:[e("span",{className:"text-sm font-bold",children:t}),e("span",{className:"text-xs text-red-500",children:i==null?void 0:i.map(m=>m._id===a.category?m.name:!1)}),r("button",{type:"button",className:"max-w-fit text-xs font-semibold text-gray-500 hover:text-red-500",onClick:()=>c(Ga(s)),children:[e(rt,{className:"align-middle text-xs"})," Remove"]})]})]}),r("div",{className:"flex w-1/5 justify-center",children:[e("button",{type:"button",onClick:()=>c(Qa(s)),children:e("svg",{className:"w-3 fill-current text-gray-600",viewBox:"0 0 448 512",children:e("path",{d:"M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"})})}),e("input",{className:"mx-2 w-8 border text-center",type:"text",readOnly:!0,value:n}),e("button",{type:"button",onClick:()=>c(Va(s)),children:e("svg",{className:"w-3 fill-current text-gray-600",viewBox:"0 0 448 512",children:e("path",{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"})})})]}),e("span",{className:"w-1/5 text-center text-sm font-semibold",children:W(l)}),e("span",{className:"w-1/5 text-center text-sm font-semibold",children:W(n*l)})]})}function Zr(){const{items:a,totalAmount:t}=N(o=>o.cart),{isLoggedIn:s,user:n}=N(o=>o.auth),l=I(),d=Q();return x.exports.useEffect(()=>{l(ot())},[a,l]),a.length===0?e("div",{className:"flex min-h-screen items-center justify-center",children:r("div",{className:"-translate-y-1/2 text-center",children:[r("h1",{className:"text-3xl font-bold",children:[e(rt,{fontSize:"large"})," Your cart is empty"]}),e(f,{to:"/products",className:"text-lg font-semibold hover:text-blueDark",children:"Go to products"})]})}):r("div",{className:"my-10 mx-20 flex min-h-screen shadow-md",children:[r("div",{className:"w-3/4 bg-white px-10 py-10",children:[r("div",{className:"flex  justify-between border-b pb-8",children:[e("h1",{className:"text-2xl font-semibold",children:"Shopping Cart"}),r("h2",{className:"flex flex-col text-2xl font-semibold",children:[a.length," Items",e("button",{type:"button",className:"text-xs text-gray-500 hover:text-gray-700 hover:underline",onClick:()=>{l(Ke()),v.info("Cart cleared successfully",{position:"bottom-right"})},children:"Clear cart"})," "]})]}),r("div",{className:"mt-10 mb-5 flex ",children:[e("h3",{className:"w-2/5 text-xs font-semibold uppercase text-gray-600",children:"Product Details"}),e("h3",{className:"w-1/5  text-center text-xs font-semibold uppercase text-gray-600",children:"Quantity"}),e("h3",{className:"w-1/5  text-center text-xs font-semibold uppercase text-gray-600",children:"Price"}),e("h3",{className:"w-1/5 text-center text-xs font-semibold uppercase text-gray-600",children:"Total"})]}),e("div",{className:"cartItem overflow-auto overflow-x-hidden md:max-h-[500px]",children:a==null?void 0:a.map((o,p)=>e(Nt,{item:o},p+1))}),r(f,{to:"/products",className:"mt-10 flex text-sm font-semibold text-indigo-600",children:[e("svg",{className:"mr-2 w-4 fill-current text-indigo-600",viewBox:"0 0 448 512",children:e("path",{d:"M134.059 296H436c6.627 0 12-5.373 12-12v-56c0-6.627-5.373-12-12-12H134.059v-46.059c0-21.382-25.851-32.09-40.971-16.971L7.029 239.029c-9.373 9.373-9.373 24.569 0 33.941l86.059 86.059c15.119 15.119 40.971 4.411 40.971-16.971V296z"})}),"Continue Shopping"]})]}),r("div",{id:"summary",className:"w-1/4 px-8 py-10",children:[e("h1",{className:"border-b pb-8 text-2xl font-semibold",children:"Order Summary"}),r("div",{className:"mt-10 mb-5 flex justify-between",children:[r("span",{className:"text-sm font-semibold uppercase",children:["Items: ",a==null?void 0:a.length]}),e("span",{className:"text-sm font-semibold",children:W(t)})]}),r("div",{children:[e("label",{className:"mb-3 inline-block text-sm font-medium uppercase",children:"Shipping"}),e("select",{className:"block w-full p-2 text-sm text-gray-600",children:e("option",{children:"Free shipping"})})]}),r("div",{className:"mt-8 border-t",children:[r("div",{className:"flex justify-between py-6 text-sm font-semibold uppercase",children:[e("span",{children:"Total cost"}),e("span",{children:W(t)})]}),e("button",{type:"button",className:"btn relative w-full rounded-sm border-0 bg-indigo-500 py-3 text-sm font-semibold uppercase text-white hover:bg-indigo-600",onClick:()=>{s||(v.warning("Please sign in before checkout",{position:"bottom-right"}),d("/signin")),n.user.role==="admin"&&(v.warning("Admin cannot checkout",{position:"bottom-right"}),d("/cart"))},children:e(f,{to:"checkout",className:"absolute inset-0 flex items-center justify-center",children:"Checkout"})})]})]})]})}function es(){const a=I(),t=i=>{const m=Se(de);m.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(async b=>{if(b.isConfirmed)try{a(Fe(i)),m.fire("Deleted!","Banner has been deleted.","success")}catch{m.fire("Error!","Something went wrong, please try again.","error")}})},s=[{field:"id",headerName:"ID",width:50,cellClassName:"font-semibold"},{field:"title",headerName:"Title",width:150},{field:"subtitle",headerName:"Subtitle",width:250},{field:"buttonText",headerName:"Button Text",width:150},{field:"status",headerName:"Status",width:76,valueFormatter:i=>i.value===0?"Active":"Inactive",cellClassName:i=>i.value===0?"active-product":"inactive-product"},{field:"imageUrl",headerName:"Image",width:150,renderCell:i=>e("img",{src:i.value,alt:i.value})},{field:"_id",width:250,headerName:"Actions",renderCell:i=>r("div",{children:[e(f,{to:`/admin/banners/${i.value}/edit`,children:e(R,{variant:"contained",style:{marginRight:".75rem"},startIcon:e(ve,{}),size:"small",className:"bg-cyan-500",children:"Edit"})}),e(R,{onClick:()=>{t(i.value)},variant:"contained",color:"error",size:"small",startIcon:e(we,{}),children:"Delete"})]})}],{banner:n,loading:l,status:d}=N(i=>i.banner),o=n==null?void 0:n.map((i,m)=>S(u({},i),{id:m+1})),[p,c]=H.useState(10);return x.exports.useEffect(()=>{d==="idle"&&a(ge())},[a,d]),r(fe,{children:[!l&&e(le,{className:"mx-2 rounded-lg shadow-md drop-shadow-lg",rows:o,columns:s,pageSize:p,classes:{root:"bg-white",row:"hover:bg-gray-100 bg-white border border-gray-100",sortIcon:"text-gray-500",overlay:"bg-gray-100",columnHeaders:"border-gray-100",columnHeaderTitle:"font-bold text-gray-700",menuIconButton:"text-gray-600",columnSeparator:"hidden",cell:"text-gray-700",footerContainer:"border-t-0 text-gray-500",toolbarContainer:"gap-1"},onPageSizeChange:i=>c(i),rowsPerPageOptions:[10,20,50,100],components:{Toolbar:he},componentsProps:{toolbar:{sx:{"& .MuiButton-root":{fontWeight:600}}}}}),l&&e("div",{className:" absolute top-1/2 right-1/2 flex min-h-fit items-center justify-center",children:e(M.BeatLoader,{size:20,color:"#34d399",margin:2})})]})}function ts(){return H.useEffect(()=>{document.title="Banners"}),e("div",{style:{height:735,width:"100%",minWidth:650},className:"my-4  px-4  pb-12",children:e("div",{style:{display:"flex",height:"100%"},className:"  pt-4",children:r("div",{style:{flexGrow:1},children:[r("div",{className:"flex justify-between",children:[e("h1",{className:"p-2 text-center text-3xl font-bold text-gray-800 antialiased",children:"HeroBanners"}),e(f,{to:"/admin/banners/add",children:e(R,{variant:"contained",color:"success",style:{marginRight:".75rem"},startIcon:e(Ne,{}),children:"Add"})})]}),e(es,{})]})})})}const vt=se().shape({title:O().required("Title is required"),subtitle:O().required("Subtitle is required"),buttonText:O().required("Button Text is required"),buttonLink:O().required("Button Link is required"),status:Ce().required("Status is required")});function as(){var h,k,z,L,C,U,j,A,P,G,J;const[a,t]=H.useState(null),[s,n]=H.useState(!1),{register:l,handleSubmit:d,formState:{errors:o},resetField:p}=K({resolver:X(vt)}),c=Q(),i=I(),m=q=>{q.target.files&&q.target.files.length>0&&t(q.target.files[0])},b=()=>{t(null),p("imageUrl")};return r("div",{className:"flex",children:[e("div",{className:"card ml-4 mt-4 w-full max-w-4xl flex-shrink-0 bg-base-100 shadow-lg shadow-slate-400 drop-shadow-2xl",children:e("div",{className:"card-body",children:r("form",{onSubmit:d(async q=>{try{if(n(!0),a!==null){const V=q.imageUrl[0];q.imageName=V.name;const $=await qe(V);q.imageUrl=$}else q.imageUrl="https://img.icons8.com/ios-filled/100/000000/no-image.png";const B=await i(Ie(q));if(B.type!=="banner/createBanner/fulfilled"){v.error(B.error.message,{type:"error"}),c("/admin/banners");return}v.success("Banner added successfully",{position:v.POSITION.BOTTOM_RIGHT}),n(!1),c("/admin/banners")}catch(B){v.error(B.message,{type:"error"})}}),children:[r("div",{className:"grid grid-cols-2 gap-x-4",children:[r("div",{className:"form-control",children:[e("label",{className:"label",children:e("span",{className:"label-text font-semibold",children:"Title"})}),e("input",u({className:" input input-info border-2 ",type:"text",placeholder:"Title"},l("title"))),((h=o.title)==null?void 0:h.message)&&e(y,{severity:"error",className:"my-1 mb-2",variant:"filled",children:(k=o.title)==null?void 0:k.message})]}),r("div",{className:"form-control",children:[e("label",{className:"label",children:e("span",{className:"label-text font-semibold",children:"Subtitle"})}),e("input",u({className:" input input-info border-2",type:"text",placeholder:"Subtitle"},l("subtitle"))),((z=o.subtitle)==null?void 0:z.message)&&e(y,{severity:"error",className:"my-1 mb-2",variant:"filled",children:(L=o.subtitle)==null?void 0:L.message})]})]}),r("div",{className:"grid grid-cols-2 gap-x-4",children:[r("div",{className:"form-control",children:[e("label",{className:"label",children:e("span",{className:"label-text font-semibold",children:"Button Text"})}),e("input",u({className:" input input-info border-2 ",type:"text",placeholder:"Button Text"},l("buttonText"))),((C=o.buttonText)==null?void 0:C.message)&&e(y,{severity:"error",className:"my-1 mb-2",variant:"filled",children:(U=o.buttonText)==null?void 0:U.message})]}),r("div",{className:"form-control",children:[e("label",{className:"label",children:e("span",{className:"label-text font-semibold",children:"Button URL"})}),e("input",u({className:" input input-info border-2",type:"text",placeholder:"Button URL"},l("buttonLink"))),((j=o.buttonLink)==null?void 0:j.message)&&e(y,{severity:"error",className:"my-1 mb-2",variant:"filled",children:(A=o.buttonLink)==null?void 0:A.message})]})]}),r("div",{className:"grid grid-cols-2 gap-x-4",children:[e("div",{children:r("div",{className:"form-control my-2",children:[e("label",{className:"label",children:e("span",{className:"label-text font-semibold",children:"Image"})}),e("input",S(u({className:"file:mr-4 file:rounded-full file:border-0 file:bg-violet-50 file:py-2 file:px-4 file:text-sm file:font-semibold file:text-cyan-500 hover:file:bg-violet-100 ",type:"file",accept:"image/*",placeholder:"Image"},l("imageUrl")),{onChange:m})),(o==null?void 0:o.imageUrl)&&e(y,{severity:"error",className:"my-1 mb-2",variant:"filled",children:(P=o.imageUrl)==null?void 0:P.message})]})}),r("div",{className:"form-control my-2",children:[e("label",{className:"label",children:e("span",{className:"label-text font-semibold",children:"Status"})}),r("div",{className:"flex gap-x-3",children:[r("div",{className:" flex items-center",children:[e("input",S(u({type:"radio"},l("status")),{className:"radio radio-accent",value:0,checked:!0})),e("label",{className:"label",children:e("span",{className:"label-text font-semibold text-teal-500",children:"Active"})})]}),r("div",{className:"flex items-center",children:[e("input",S(u({type:"radio"},l("status")),{className:"radio border-roseLight  checked:bg-roseLight",value:1})),e("label",{className:"label",children:e("span",{className:"label-text font-semibold text-roseLight",children:"Inactive"})})]})]}),((G=o.status)==null?void 0:G.message)&&e(y,{severity:"error",className:"my-1 mb-2",variant:"filled",children:(J=o.status)==null?void 0:J.message})]})]}),!s&&e("div",{className:"form-control mt-6",children:e("button",{type:"submit",className:"btn  border-2 border-cyan-400  bg-sky-400 py-2 px-4 text-base font-bold text-white shadow shadow-sky-400 hover:bg-sky-500 ",children:"Create"})}),s&&e("div",{className:"flex min-h-fit items-center justify-center",children:e(M.BeatLoader,{size:20,color:"#34d399",margin:2})})]})})}),a&&e("div",{children:r("div",{className:"mt-4 flex h-full flex-col gap-y-2 rounded-md bg-slate-100 px-4 ",children:[e("h1",{className:"font-semibold text-gray-600",children:"Image Preview"}),e("div",{children:e("img",{src:URL.createObjectURL(a),alt:""})}),e("button",{type:"button",className:"btn btn-info mx-auto text-xs text-white shadow-md shadow-cyan-400",onClick:b,children:"Remove This Image"})]})})]})}function rs(){var L,C,U,j,A,P,G,J,q,B,V;const[a,t]=H.useState(null),[s,n]=H.useState(!1),{register:l,handleSubmit:d,formState:{errors:o},reset:p,resetField:c}=K({resolver:X(vt)}),{id:i}=re(),m=N($=>Ba($,i)),b=Q(),g=I(),h=$=>{$.target.files&&$.target.files.length>0&&t($.target.files[0])},k=()=>{t(null),c("imageUrl")},z=async $=>{try{n(!0);const ee=$.imageUrl[0];if(a!==null){await xt($.imageName);const D=await qe(ee);$.imageUrl=D,$.imageName=ee.name}await g(ke($)),v.success("Banner updated successfully",{position:v.POSITION.BOTTOM_RIGHT}),n(!1),b("/admin/banners")}catch(ee){v.error(ee.message,{type:"error"})}};return x.exports.useEffect(()=>{m&&p(m)},[i,m,p]),r("div",{className:"flex",children:[e("div",{className:"card ml-4 mt-4 w-full max-w-4xl flex-shrink-0 bg-base-100 shadow-lg shadow-slate-400 drop-shadow-2xl",children:e("div",{className:"card-body",children:r("form",{onSubmit:d(z),children:[r("div",{className:"grid grid-cols-2 gap-x-4",children:[r("div",{className:"form-control",children:[e("label",{className:"label",children:e("span",{className:"label-text font-semibold",children:"Title"})}),e("input",u({className:" input input-info border-2 ",type:"text",placeholder:"Title"},l("title"))),((L=o.title)==null?void 0:L.message)&&e(y,{severity:"error",className:"my-1 mb-2",variant:"filled",children:(C=o.title)==null?void 0:C.message})]}),r("div",{className:"form-control",children:[e("label",{className:"label",children:e("span",{className:"label-text font-semibold",children:"Subtitle"})}),e("input",u({className:" input input-info border-2",type:"text",placeholder:"Subtitle"},l("subtitle"))),((U=o.subtitle)==null?void 0:U.message)&&e(y,{severity:"error",className:"my-1 mb-2",variant:"filled",children:(j=o.subtitle)==null?void 0:j.message})]})]}),r("div",{className:"grid grid-cols-2 gap-x-4",children:[r("div",{className:"form-control",children:[e("label",{className:"label",children:e("span",{className:"label-text font-semibold",children:"Button Text"})}),e("input",u({className:" input input-info border-2 ",type:"text",placeholder:"Button Text"},l("buttonText"))),((A=o.buttonText)==null?void 0:A.message)&&e(y,{severity:"error",className:"my-1 mb-2",variant:"filled",children:(P=o.buttonText)==null?void 0:P.message})]}),r("div",{className:"form-control",children:[e("label",{className:"label",children:e("span",{className:"label-text font-semibold",children:"Button URL"})}),e("input",u({className:" input input-info border-2",type:"text",placeholder:"Button URL"},l("buttonLink"))),((G=o.buttonLink)==null?void 0:G.message)&&e(y,{severity:"error",className:"my-1 mb-2",variant:"filled",children:(J=o.buttonLink)==null?void 0:J.message})]})]}),r("div",{className:"grid grid-cols-2 gap-x-4",children:[e("div",{children:r("div",{className:"form-control my-2",children:[e("label",{className:"label",children:e("span",{className:"label-text font-semibold",children:"Image"})}),e("input",S(u({className:"file:mr-4 file:rounded-full file:border-0 file:bg-violet-50 file:py-2 file:px-4 file:text-sm file:font-semibold file:text-cyan-500 hover:file:bg-violet-100 ",type:"file",accept:"image/*",placeholder:"Image"},l("imageUrl")),{onChange:h})),(o==null?void 0:o.imageUrl)&&e(y,{severity:"error",className:"my-1 mb-2",variant:"filled",children:(q=o.imageUrl)==null?void 0:q.message})]})}),r("div",{className:"form-control my-2",children:[e("label",{className:"label",children:e("span",{className:"label-text font-semibold",children:"Status"})}),r("div",{className:"flex gap-x-3",children:[r("div",{className:" flex items-center",children:[e("input",u(S(u({type:"radio"},l("status")),{className:"radio radio-accent",value:0}),(m==null?void 0:m.status)===0&&{checked:!0})),e("label",{className:"label",children:e("span",{className:"label-text font-semibold text-teal-500",children:"Active"})})]}),r("div",{className:"flex items-center",children:[e("input",u(S(u({type:"radio"},l("status")),{className:"radio border-roseLight  checked:bg-roseLight",value:1}),(m==null?void 0:m.status)===1&&{checked:!0})),e("label",{className:"label",children:e("span",{className:"label-text font-semibold text-roseLight",children:"Inactive"})})]})]}),((B=o.status)==null?void 0:B.message)&&e(y,{severity:"error",className:"my-1 mb-2",variant:"filled",children:(V=o.status)==null?void 0:V.message})]})]}),!s&&e("div",{className:"form-control mt-6",children:e("button",{type:"submit",className:"btn  border-2 border-cyan-400  bg-sky-400 py-2 px-4 text-base font-bold text-white shadow shadow-sky-400 hover:bg-sky-500 ",children:"update"})}),s&&e("div",{className:"flex min-h-fit items-center justify-center",children:e(M.BeatLoader,{size:20,color:"#34d399",margin:2})})]})})}),a?e("div",{children:r("div",{className:"mt-4 flex h-full flex-col gap-y-2 rounded-md bg-slate-100 px-4 ",children:[e("h1",{className:"font-semibold text-gray-600",children:"Image Preview"}),e("div",{children:e("img",{src:URL.createObjectURL(a),alt:""})}),e("button",{type:"button",className:"btn btn-info mx-auto text-xs text-white shadow-md shadow-cyan-400",onClick:k,children:"Remove This Image"})]})}):e("div",{children:r("div",{className:"mt-4 flex h-full w-full flex-col gap-y-2 rounded-md bg-slate-100 px-4",children:[e("h1",{className:"font-semibold text-gray-600",children:"Present Image"}),e("div",{children:e("img",{src:m==null?void 0:m.imageUrl,alt:""})})]})})]})}ta.register(aa,ra,sa);function ss({data:a}){return r("div",{className:"w-1/3 rounded border p-4 shadow-md",children:[e("h1",{className:"mb-2 font-semibold",children:"Categories"}),e(la,{data:a})]})}function ls(){var b;const a=I(),t=te(),{products:s}=N(g=>g.products),{users:n}=N(g=>g.users),{orders:l}=N(g=>g.orders),{user:d}=N(g=>g.auth),{categories:o}=N(g=>g.categories);x.exports.useEffect(()=>{a(Be()),a(xe()),a(ae())},[a]),x.exports.useEffect(()=>{document.title="Dashboard"});const p=o.map(g=>g.name),i=o.map(g=>s.filter(h=>h.category===g._id)).map(g=>g.length),m={labels:p,datasets:[{label:"# of Votes",data:i,backgroundColor:["rgba(255, 99, 132, 0.8)","rgba(54, 162, 235, 0.8)","rgba(255, 206, 86, 0.8)","rgba(75, 192, 192, 0.8)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)"],borderWidth:1}]};return r("div",{className:"px-4",children:[e("div",{className:"pb-4",children:r("h2",{className:"flex gap-x-2 font-mono text-3xl font-semibold",children:["Good ",t.hour()<12?"Morning ":"Afternoon ",r("p",{className:"text-black underline",children:[" ",(b=d==null?void 0:d.user)==null?void 0:b.name]})]})}),r("div",{className:"stats w-full bg-orangeLight shadow-lg shadow-orangeLight drop-shadow-lg",children:[r("div",{className:"stat",children:[e("div",{className:"stat-figure text-yellowLight",children:e(ia,{fontSize:"large"})}),e("div",{className:"stat-title text-white",children:"Products"}),e("div",{className:"stat-value text-white",children:s==null?void 0:s.length}),e("div",{className:"stat-desc text-white",children:"Jan 1st - Feb 1st"})]}),r("div",{className:"stat",children:[e("div",{className:"stat-figure text-yellowLight",children:e(na,{fontSize:"large"})}),e("div",{className:"stat-title text-white",children:"Users"}),e("div",{className:"stat-value text-white",children:n==null?void 0:n.length}),e("div",{className:"stat-desc text-white",children:"\u2197\uFE0E 1 (22%)"})]}),r("div",{className:"stat",children:[e("div",{className:"stat-figure text-yellowLight",children:e(oa,{fontSize:"large"})}),e("div",{className:"stat-title text-white",children:"Orders"}),e("div",{className:"stat-value text-white",children:l==null?void 0:l.length}),e("div",{className:"stat-desc text-white",children:"\u2198\uFE0E 90 (14%)"})]})]}),e("div",{className:"chart py-8",children:e(ss,{data:m})})]})}const is=se().shape({name:O().required("Name is required").min(3,"Name must be at least 3 characters").max(50,"Name must be less than 50 characters")});function ns(){var C,U,j,A;const{register:a,handleSubmit:t,formState:{errors:s},resetField:n,reset:l}=K({resolver:X(is)}),[d,o]=x.exports.useState(null),[p,c]=x.exports.useState(!0),i=Q(),m=I(),{message:b}=N(P=>P.message),{user:g,isLoggedIn:h}=N(P=>P.auth),k=async P=>{c(!1),b&&m(me());const G=P.avatarUrl[0];if(d!==null){await Lr(P.avatarName);const J=await _r(G);P.avatarUrl=J,P.avatarName=G.name}setTimeout(async()=>{await m(it(P)).unwrap().then(()=>{v.success("Change your info successfully.",{position:v.POSITION.BOTTOM_RIGHT}),i("/")}).catch(()=>{c(!0)})},750)},z=P=>{P.target.files&&P.target.files.length>0&&o(P.target.files[0])},L=()=>{o(null),n("avatarUrl")};return x.exports.useEffect(()=>{if(h===!1)return i("/")},[]),x.exports.useEffect(()=>{m(me())},[m]),x.exports.useEffect(()=>{l(g==null?void 0:g.user)},[g,l,m]),e("div",{className:"min-h-screen px-20 py-4",children:r("div",{className:"flex",children:[e("div",{className:"card mt-4 w-full max-w-4xl flex-shrink-0 bg-base-100 shadow-lg shadow-slate-400 drop-shadow-2xl",children:e("div",{className:"card-body",children:r("form",{onSubmit:t(k),className:"flex h-full flex-col justify-between",children:[r("div",{className:"grid grid-cols-2 gap-x-4",children:[r("div",{className:"form-control",children:[e("label",{className:"label",children:e("span",{className:"label-text font-semibold",children:"Name"})}),e("input",u({className:" input input-info border-2 ",type:"text",placeholder:"Name"},a("name"))),((C=s.name)==null?void 0:C.message)&&e(y,{severity:"error",className:"my-1 mb-2",variant:"filled",children:(U=s.name)==null?void 0:U.message})]}),r("div",{className:"form-control my-2",children:[e("label",{className:"label",children:e("span",{className:"label-text font-semibold",children:"Avatar"})}),e("input",S(u({className:"file:mr-4 file:rounded-full file:border-0 file:bg-violet-50 file:py-2 file:px-4 file:text-sm file:font-semibold file:text-cyan-500 hover:file:bg-violet-100",type:"file",accept:"image/*",placeholder:"Avatar"},a("avatarUrl")),{onChange:z})),((j=s.avatarUrl)==null?void 0:j.message)&&e(y,{severity:"error",className:"my-1 mb-2",variant:"filled",children:(A=s.avatarUrl)==null?void 0:A.message})]}),e("div",{className:"form-control my-2",children:r(f,{to:"/",className:"w-fit rounded-full bg-emerald-400 p-2 text-xs text-white",children:["Change password"," "]})})]}),b&&e("div",{className:"form-group",children:e(y,{severity:"error",variant:"filled",children:b})}),p===!0&&e("div",{className:"form-control mt-6",children:e("button",{type:"submit",className:"btn  border-2 border-cyan-400  bg-sky-400 py-2 px-4 text-base font-bold text-white shadow shadow-sky-400 hover:bg-sky-500 ",children:"change info"})}),p===!1&&e("div",{className:"flex min-h-fit items-center justify-center",children:e(M.BeatLoader,{size:20,color:"#34d399",margin:2})})]})})}),d?e("div",{children:r("div",{className:"mt-4 flex h-full flex-col gap-y-2 rounded-md bg-slate-100 px-4 ",children:[e("h1",{className:"font-semibold text-gray-600",children:"Avatar Preview"}),e("div",{className:"avatar",children:e("img",{src:URL.createObjectURL(d),alt:"",className:"rounded-full md:h-80 md:w-80"})}),e("button",{type:"button",className:"btn btn-info mx-auto text-xs text-white shadow-md shadow-cyan-400",onClick:L,children:"Remove This Image"})]})}):e("div",{children:r("div",{className:"mt-4 flex h-full w-full flex-col gap-y-2 rounded-md bg-slate-100 px-4",children:[e("h1",{className:"font-semibold text-gray-600",children:"Present Avatar"}),e("div",{className:"avatar",children:e("img",{src:g==null?void 0:g.user.avatarUrl,alt:"",className:"rounded-full md:h-80 md:w-80"})})]})})]})})}function os(){return e(ns,{})}const cs=()=>{const a=`/api/orders/${F().user._id}`;return T.get(a,Y())},ds=a=>{const t=`/api/orders/${F().user._id}`;return T.post(t,a,Y())},ms=a=>{const t=`/api/orders/${F().user._id}/${a._id}`;return T.put(t,a,Y())},hs=a=>{const t=`/api/orders/details/${F().user._id}/${a}`;return T.get(t,Y())},us=a=>{const t=`/api/orders/${F().user._id}/${a}`;return T.delete(t,Y())},fs=a=>{if(!a)return;const t=`/api/orders/user/${a}`;return T.get(t,Y())},gs={orders:[],loading:!1,status:"idle",error:null},Te=_("orders/fetchOrders",async()=>{const{data:a}=await cs();return a}),ze=_("orders/addOrder",async a=>{const{data:t}=await ds(a);return t}),Ae=_("orders/updateOrder",async a=>{try{const{data:t}=await ms(a);return t}catch(t){return t}}),Ve=_("orders/deleteOrder",async a=>{try{const{data:t}=await us(a);return t}catch(t){return t}}),ps=Z({name:"orders",initialState:gs,reducers:{},extraReducers:a=>{a.addCase(Te.pending,t=>{t.loading=!0}),a.addCase(Te.fulfilled,(t,s)=>{t.orders=s.payload,t.loading=!1,t.status="success"}),a.addCase(Te.rejected,(t,s)=>{t.error=s.error,t.loading=!1,t.status="error"}),a.addCase(ze.pending,t=>{t.loading=!0}),a.addCase(ze.fulfilled,(t,s)=>{t.orders.push(s.payload.order),t.loading=!1,t.status="success"}),a.addCase(ze.rejected,(t,s)=>{t.error=s.error,t.loading=!1,t.status="error"}),a.addCase(Ae.pending,t=>{t.loading=!0}),a.addCase(Ae.fulfilled,(t,s)=>{const n=s.payload.order,l=t.orders.findIndex(d=>d._id===n._id);t.orders[l]=n,t.loading=!1,t.status="success"}),a.addCase(Ae.rejected,(t,s)=>{t.error=s.error,t.loading=!1,t.status="error"}),a.addCase(Ve.pending,t=>{t.loading=!0}),a.addCase(Ve.fulfilled,(t,s)=>{const{_id:n}=s.payload.order,l=t.orders.findIndex(d=>d._id===n);t.orders.splice(l,1),t.loading=!1,t.status="success"})}}),bs=(a,t)=>a.orders.orders.find(s=>s._id===t);var xs=ps.reducer;function ys(){x.exports.useEffect(()=>{document.title="Orders"});const a=I(),t=c=>{const i=Se(de);i.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(async m=>{if(m.isConfirmed)try{a(Ve(c)),i.fire("Deleted!","Order has been deleted.","success")}catch{i.fire("Error!","Something went wrong, please try again.","error")}})},s=[{field:"id",headerName:"ID",width:50},{field:"address, city, name",headerName:"Informations",width:200,valueGetter:c=>`${c.row.name} ${c.row.address}, ${c.row.city}, ${c.row.phone}`},{field:"productsQuantity",headerName:"Quantity",width:75},{field:"total",headerName:"Total Price",width:100},{field:"status",headerName:"Status",headerClassName:"status-header",width:100,valueFormatter:c=>{if(c.value==="pending")return"Pending";if(c.value==="delivery")return"Delivery";if(c.value==="completed")return"Completed";if(c.value==="cancelled")return"Cancelled"},cellClassName:c=>c.value==="pending"?"pending":c.value==="delivery"?"delivery":c.value==="completed"?"completed":c.value==="cancelled"?"cancelled":""},{field:"createdAt",headerName:"Create At",width:150,valueFormatter:c=>te(c.value).format("HH:mm DD/MM/YYYY ")},{field:"updatedAt",headerName:"Last Updated",width:150,valueFormatter:c=>te(c.value).format("HH:mm DD/MM/YYYY ")},{field:"_id",width:340,headerName:"Actions",renderCell:c=>r("div",{children:[e(f,{to:`/admin/orders/${c.value}/view`,children:e(R,{variant:"contained",style:{marginRight:".75rem"},startIcon:e(ue,{}),size:"small",className:"bg-blueDark",children:"Detail"})}),e(f,{to:`/admin/orders/${c.value}/edit`,children:e(R,{variant:"contained",style:{marginRight:".75rem"},startIcon:e(ve,{}),size:"small",className:"bg-cyan-500",children:"Edit"})}),e(R,{variant:"contained",color:"error",size:"small",startIcon:e(we,{}),onClick:()=>t(c.value),children:"Delete"})]})}],{orders:n,loading:l}=N(c=>c.orders),d=n.map((c,i)=>S(u({},c),{productsQuantity:c.products.map(m=>m.quantity).reduce((m,b)=>m+b),total:W(c.total),id:i+1})),[o,p]=H.useState(10);return x.exports.useEffect(()=>{a(Te())},[a]),e("div",{style:{height:735,width:"100%",minWidth:650},className:"my-4  px-4  pb-12",children:e("div",{style:{display:"flex",height:"100%"},className:"  pt-4",children:r("div",{style:{flexGrow:1},children:[r("div",{className:"flex justify-between",children:[e("h1",{className:"p-2 text-center text-3xl font-bold text-gray-800 antialiased",children:"Orders"}),e(f,{to:"/admin/products/add",children:e(R,{variant:"contained",color:"success",style:{marginRight:".75rem"},startIcon:e(Ne,{}),children:"Add"})})]}),!l&&e(le,{className:"mx-2 rounded-lg shadow-md drop-shadow-lg",rows:d,columns:s,pageSize:o,classes:{root:"bg-white",row:"hover:bg-gray-100 bg-white border border-gray-100",sortIcon:"text-gray-500",overlay:"bg-gray-100",columnHeaders:"border-gray-100",columnHeaderTitle:"font-bold text-gray-700",menuIconButton:"text-gray-600",columnSeparator:"hidden",cell:"text-gray-700",footerContainer:"border-t-0 text-gray-500",toolbarContainer:"gap-1"},onPageSizeChange:c=>p(c),rowsPerPageOptions:[10,20,50,100],components:{Toolbar:he},componentsProps:{toolbar:{sx:{"& .MuiButton-root":{fontWeight:600}}}}}),l&&e("div",{className:" absolute top-1/2 right-1/2 flex min-h-fit items-center justify-center",children:e(M.BeatLoader,{size:20,color:"#34d399",margin:2})})]})})})}const Ns=/^((\\+[1-9]{1,4}[ \\-]*)|(\\([0-9]{2,3}\\)[ \\-]*)|([0-9]{2,4})[ \\-]*)*?[0-9]{3,4}?[ \\-]*[0-9]{3,4}?$/,vs=se().shape({name:O().required("Name is required").min(3,"Name must be at least 3 characters").max(50,"Name must be less than 50 characters").trim(),email:O().email("Invalid email address").required("Email is required"),address:O().required("Address is required").trim(),city:O().required("City is required").trim(),phone:O().matches(Ns,"Phone number is not valid").required("Phone number is required").trim()});function ws(){const{register:a,handleSubmit:t,formState:{errors:s},reset:n}=K({resolver:X(vs)}),l=Q(),d=I(),{loading:o,error:p}=N(h=>h.orders),{items:c,totalAmount:i}=N(h=>h.cart),{user:m,isLoggedIn:b}=N(h=>h.auth),g=async h=>{const k=c.map(L=>({productId:L._id,quantity:L.amount}));Se(de).fire({title:"Are you sure?",icon:"info",showCancelButton:!0,confirmButtonColor:"#38bdf8",cancelButtonColor:"#ef4444",confirmButtonText:"Yes, checkout!"}).then(async L=>{if(L.isConfirmed)try{await d(ze({user:m.user._id,name:h.name,email:h.email,address:h.address,city:h.city,phone:h.phone,products:k,total:i})),await d(Ke()),de.fire({position:"center",icon:"success",title:"Your order has been successfully placed!",showConfirmButton:!0}),l("/cart")}catch{v("\u2764 Something went wrong",{position:"bottom-right"})}})};return x.exports.useEffect(()=>{b&&n({name:m.user.name,email:m.user.email})},[n,m]),r("div",{className:"my-10 mx-20 flex min-h-screen shadow-md",children:[r("div",{className:"w-3/4 bg-white px-10 py-10",children:[r("div",{className:"flex items-center justify-between border-b pb-8",children:[e("h1",{className:"text-2xl font-semibold",children:"Checkout"}),e("h2",{className:"flex flex-col text-lg font-semibold",children:"Input your info below"})]}),e("div",{className:"mt-10 mb-5 flex w-full",children:e("div",{className:"w-full",children:r("form",{onSubmit:t(g),children:[r("div",{className:"grid md:grid-cols-2 md:gap-x-2",children:[r("div",{className:"form-control",children:[e("input",u({type:"text",placeholder:"Name",className:"input input-info border-2 shadow shadow-cyan-300 drop-shadow-sm focus:shadow-md focus:shadow-cyan-300 focus:outline-0"},a("name"))),s.name&&e(y,{severity:"error",variant:"filled",className:"my-1 mb-2",children:s.name.message})]}),r("div",{className:"form-control",children:[e("input",u({type:"text",placeholder:"Email",className:"input input-info border-2 shadow shadow-cyan-300 drop-shadow-sm focus:shadow-md focus:shadow-cyan-300 focus:outline-0"},a("email"))),s.email&&e(y,{severity:"error",variant:"filled",className:"my-1 mb-2",children:s.email.message})]})]}),r("div",{className:"form-control my-2",children:[e("textarea",u({cols:5,rows:10,className:"textarea textarea-info resize-none border-2 shadow shadow-cyan-300 drop-shadow-sm focus:shadow-md focus:shadow-cyan-300 focus:outline-0 md:h-24"},a("address"))),s.address&&e(y,{severity:"error",variant:"filled",className:"my-1 mb-2",children:s.address.message})]}),r("div",{className:"grid md:grid-cols-2 md:gap-x-2",children:[r("div",{className:"form-control",children:[e("input",u({type:"string",placeholder:"Phone Number",className:"input input-info border-2 shadow shadow-cyan-300 drop-shadow-sm focus:shadow-md focus:shadow-cyan-300 focus:outline-0"},a("phone"))),s.phone&&e(y,{severity:"error",variant:"filled",className:"my-1 mb-2",children:s.phone.message})]}),r("div",{className:"form-control",children:[e("input",u({type:"text",placeholder:"City",className:"input input-info border-2 shadow shadow-cyan-300 drop-shadow-sm focus:shadow-md focus:shadow-cyan-300 focus:outline-0"},a("city"))),s.city&&e(y,{severity:"error",variant:"filled",className:"my-1 mb-2",children:s.city.message})]})]}),r("div",{className:"form-control relative my-4 flex items-center justify-center",children:[e("button",{type:"submit",className:" btn  w-full rounded-sm border-0 bg-indigo-500 py-3 text-sm font-semibold uppercase text-white hover:bg-indigo-600",children:"Confirm Order"}),o&&e(M.MoonLoader,{size:25,color:"#171722"})]})]})})}),r(f,{to:"/products",className:"mt-10 flex text-sm font-semibold text-indigo-600",children:[e("svg",{className:"mr-2 w-4 fill-current text-indigo-600",viewBox:"0 0 448 512",children:e("path",{d:"M134.059 296H436c6.627 0 12-5.373 12-12v-56c0-6.627-5.373-12-12-12H134.059v-46.059c0-21.382-25.851-32.09-40.971-16.971L7.029 239.029c-9.373 9.373-9.373 24.569 0 33.941l86.059 86.059c15.119 15.119 40.971 4.411 40.971-16.971V296z"})}),"Continue Shopping"]})]}),r("div",{id:"summary",className:"w-1/2  py-10 ",children:[e("h1",{className:"border-b pb-8 text-2xl font-semibold",children:"Order Summary"}),e("div",{className:"mt-10 mb-5 flex max-h-80 min-w-fit max-w-xl flex-col justify-between overflow-y-auto overflow-x-hidden",children:c==null?void 0:c.map((h,k)=>e(Nt,{item:h},k+1))}),r("div",{className:"mt-8 p-2 ",children:[r("div",{className:"text-md flex  gap-x-2 py-2 font-bold uppercase",children:[e("span",{children:"Items"}),e("span",{children:c.length})]}),r("div",{className:"flex justify-between py-2 text-sm font-semibold uppercase",children:[e("span",{children:"Subtotal"}),e("span",{children:W(i)})]}),r("div",{className:"flex justify-between py-2 text-sm font-semibold uppercase",children:[e("span",{children:"Shipping"}),e("span",{children:W(0)})]}),r("div",{className:"flex justify-between py-2 text-sm font-semibold uppercase",children:[e("span",{children:"Total cost"}),e("span",{className:"font-bold",children:W(i)})]})]})]})]})}function Ss(){var c;x.exports.useState(null);const a=Q(),{isLoggedIn:t,user:s}=N(i=>i.auth),n=(c=s==null?void 0:s.user)==null?void 0:c._id,[l,d]=x.exports.useState([{}]),o=[{field:"_id",headerName:"ID",width:220,cellClassName:"order-id",valueFormatter:i=>`#${i.value}`},{field:"productsQuantity",headerName:"Quantity",width:100},{field:"total",headerName:"Total Price",width:100},{field:"status",headerName:"Status",headerClassName:"status-header",width:100,valueFormatter:i=>{if(i.value==="pending")return"Pending";if(i.value==="delivery")return"Delivery";if(i.value==="completed")return"Completed";if(i.value==="cancelled")return"Cancelled"},cellClassName:i=>i.value==="pending"?"pending":i.value==="delivery"?"delivery":i.value==="completed"?"completed":i.value==="cancelled"?"cancelled":""},{field:"createdAt",headerName:"Create At",width:150,valueFormatter:i=>te(i.value).format("HH:mm DD/MM/YY ")},{field:"updatedAt",headerName:"Last Updated",width:150,valueFormatter:i=>te(i.value).format("HH:mm DD/MM/YY ")},{field:"idAction",width:350,headerName:"Actions",renderCell:i=>r("div",{children:[e(R,{size:"small",variant:"text",startIcon:e(ue,{}),children:e(f,{to:`/orders/${i.value}`,children:"View"})}),i.row.status==="pending"&&e(R,{size:"small",variant:"text",startIcon:e(ca,{}),children:e("p",{children:"Cancel"})})]})}],p=l.map((i,m)=>{var b;return S(u({},i),{productsQuantity:(b=i==null?void 0:i.products)==null?void 0:b.map(g=>g.quantity).reduce((g,h)=>g+h),total:W(i.total),idAction:i._id,id:m+1})});return x.exports.useEffect(()=>{(async m=>{const{data:b}=await fs(m)||{};d(b==null?void 0:b.userOrders)})(n)},[n]),x.exports.useEffect(()=>{s||a("/")},[t,s,a]),x.exports.useEffect(()=>{var i;((i=s==null?void 0:s.user)==null?void 0:i.role)==="admin"&&(v.warning("Admin do not have orders"),a("/"))},[a]),r("div",{className:"px-20 py-4",children:[e("h1",{className:"text-2xl font-bold",children:"Your orders"}),e("div",{className:"flex flex-col  justify-center",children:l.length===0?e("div",{className:"flex min-h-screen items-center justify-center",children:r("div",{className:"-translate-y-1/2 text-center",children:[e("h1",{className:"text-3xl font-bold",children:"You don't have any orders"}),e(f,{to:"/products",className:"text-lg font-semibold hover:text-blueDark",children:"Buy some products"})]})}):e("div",{className:"min-h-screen py-4",children:e("div",{style:{height:500,width:"100%",minWidth:650},children:e(le,{className:"mx-2 rounded-lg shadow-md drop-shadow-lg",rows:p,columns:o,classes:{root:"bg-white",row:"hover:bg-gray-100 bg-white border border-gray-100",sortIcon:"text-gray-500",overlay:"bg-gray-100",columnHeaders:"border-gray-100",columnHeaderTitle:"font-bold text-gray-700",menuIconButton:"text-gray-600",columnSeparator:"hidden",cell:"text-gray-700",footerContainer:"border-t-0 text-gray-500",toolbarContainer:"gap-1"},rowsPerPageOptions:[10,20,50,100],componentsProps:{toolbar:{sx:{"& .MuiButton-root":{fontWeight:600}}}}})})})})]})}const Cs=/^((\\+[1-9]{1,4}[ \\-]*)|(\\([0-9]{2,3}\\)[ \\-]*)|([0-9]{2,4})[ \\-]*)*?[0-9]{3,4}?[ \\-]*[0-9]{3,4}?$/,Is=se().shape({address:O().required("Address is required").trim(),email:O().email("Email is invalid").required("Email is required").trim(),phone:O().matches(Cs,"Phone number is not valid").required("Phone number is required").trim(),city:O().required("City is required").trim(),name:O().required("Name is required").min(3,"Name must be at least 3 characters").trim()});function ks(){var m,b,g,h,k,z,L,C;const a=Q(),t=I(),{orderId:s}=re(),n=N(U=>bs(U,s)),{register:l,handleSubmit:d,formState:{errors:o},reset:p}=K({resolver:X(Is)}),{loading:c}=N(U=>U.orders),i=async U=>{try{await t(Ae(U)),v.success("Order updated successfully"),a("/admin/orders")}catch(j){v.error(j.message)}};return x.exports.useEffect(()=>{n&&p(n)},[s]),e("div",{className:"flex",children:e("div",{className:"card ml-4 mt-4 w-full max-w-4xl flex-shrink-0 bg-base-100 shadow-lg shadow-slate-400 drop-shadow-2xl",children:e("div",{className:"card-body",children:r("form",{onSubmit:d(i),children:[r("div",{className:"grid grid-cols-2 gap-x-4",children:[r("div",{className:"form-control",children:[e("label",{className:"label",children:e("span",{className:"label-text font-semibold",children:"Name"})}),e("input",u({className:" input input-info border-2 ",type:"text",placeholder:"Name"},l("name"))),((m=o.name)==null?void 0:m.message)&&e(y,{severity:"error",className:"my-1 mb-2",variant:"filled",children:(b=o.name)==null?void 0:b.message})]}),r("div",{className:"form-control",children:[e("label",{className:"label",children:e("span",{className:"label-text font-semibold",children:"Email"})}),e("input",u({className:" input input-info border-2 ",type:"text",placeholder:"Email"},l("email"))),((g=o.email)==null?void 0:g.message)&&e(y,{severity:"error",className:"my-1 mb-2",variant:"filled",children:(h=o.email)==null?void 0:h.message})]})]}),r("div",{className:"grid grid-cols-2 items-start justify-start gap-x-4",children:[r("div",{className:"form-control",children:[e("label",{className:"label",children:e("span",{className:"label-text font-semibold",children:"Address"})}),e("textarea",u({cols:5,rows:10,className:"textarea textarea-info resize-none border-2 shadow shadow-cyan-300 drop-shadow-sm focus:shadow-md focus:shadow-cyan-300 focus:outline-0 md:h-24"},l("address"))),o.address&&e(y,{severity:"error",variant:"filled",className:"my-1 mb-2",children:o.address.message})]}),r("div",{className:"form-control",children:[e("label",{className:"label",children:e("span",{className:"label-text font-semibold",children:"City"})}),e("input",u({className:" input input-info border-2 ",type:"text",placeholder:"City"},l("city"))),((k=o.city)==null?void 0:k.message)&&e(y,{severity:"error",className:"my-1 mb-2",variant:"filled",children:(z=o.city)==null?void 0:z.message})]})]}),e("div",{className:"grid grid-cols-2 gap-x-4",children:r("div",{className:"form-control my-2",children:[e("label",{className:"label",children:e("span",{className:"label-text font-semibold",children:"Status"})}),r("div",{className:"flex gap-x-3",children:[r("div",{className:" flex items-center",children:[e("input",S(u({type:"radio"},l("status")),{className:"radio border-orangeLight  checked:bg-orangeLight ",value:"pending"})),e("label",{className:"label",children:e("span",{className:"label-text font-semibold text-orangeLight",children:"Pending"})})]}),r("div",{className:"flex items-center",children:[e("input",S(u({type:"radio"},l("status")),{className:"radio border-blue-500  checked:bg-blue-500",value:"delivery"})),e("label",{className:"label",children:e("span",{className:"label-text font-semibold text-blue-500",children:"Delivery"})})]}),r("div",{className:"flex items-center",children:[e("input",S(u({type:"radio"},l("status")),{className:"radio border-green-500  checked:bg-green-500",value:"completed"})),e("label",{className:"label",children:e("span",{className:"label-text font-semibold text-green-500",children:"Completed"})})]}),r("div",{className:"flex items-center",children:[e("input",S(u({type:"radio"},l("status")),{className:"radio border-roseLight  checked:bg-roseLight",value:"cancelled"})),e("label",{className:"label",children:e("span",{className:"label-text font-semibold text-roseLight",children:"Cancelled"})})]})]}),((L=o.status)==null?void 0:L.message)&&e(y,{severity:"error",className:"my-1 mb-2",variant:"filled",children:(C=o.status)==null?void 0:C.message})]})}),!c&&e("div",{className:"form-control mt-6",children:e("button",{type:"submit",className:"btn  border-2 border-cyan-400  bg-sky-400 py-2 px-4 text-base font-bold text-white shadow shadow-sky-400 hover:bg-sky-500 ",children:"Create"})}),c&&e("div",{className:"flex min-h-fit items-center justify-center",children:e(M.BeatLoader,{size:20,color:"#34d399",margin:2})})]})})})})}function _s(){const[a,t]=x.exports.useState({}),[s,n]=x.exports.useState({}),[l,d]=x.exports.useState([]),[o,p]=x.exports.useState(0),{orderId:c}=re();return x.exports.useEffect(()=>{hs(c).then(i=>{t(i.data.orderDetails.orderInfo),n(i.data.orderDetails.userInfo),d(i.data.orderDetails.products),p(i.data.orderDetails.products.map(m=>m.quantity).reduce((m,b)=>m+b))})},[c]),r("div",{className:"p-4",children:[e("h1",{className:"text-2xl font-bold text-gray-600",children:"Order Details"}),r("div",{className:"flex flex-wrap gap-2 py-4",children:[r("div",{className:"orderInfo w-fit rounded border-2 border-gray-400 bg-slate-100 bg-gradient-to-br from-teal-500 to-gray-600 p-2 text-neutral-content shadow-lg drop-shadow-md",children:[e("h3",{className:"mb-2 rounded-sm border-2 py-1 text-center font-semibold ",children:"Order Information's"}),r("div",{className:"flex flex-col",children:[r("div",{className:"orderInfo__item",children:[e("span",{className:"orderInfo__item-label",children:"Order ID: "}),e("span",{className:"orderInfo__item-value",children:a._id})]}),r("div",{className:"orderInfo__item",children:[e("span",{className:"orderInfo__item-label",children:"Order Date: "}),e("span",{className:"orderInfo__item-value",children:te(a.createdAt).format("DD/MM/YYYY")})]}),r("div",{className:"orderInfo__item",children:[e("span",{className:"orderInfo__item-label",children:"Order Status: "}),a.status==="pending"&&e("span",{className:"orderInfo__item-value text-orange-500",children:"Pending"}),a.status==="delivery"&&e("span",{className:"orderInfo__item-value text-blue-500",children:"Delivery"}),a.status==="completed"&&e("span",{className:"orderInfo__item-value text-green-500",children:"Completed"}),a.status==="cancelled"&&e("span",{className:"orderInfo__item-value text-rose-500",children:"Cancelled"})]}),r("div",{className:"orderInfo__item",children:[e("span",{className:"orderInfo__item-label",children:"Total Price: "}),e("span",{className:"orderInfo__item-value",children:W(a.total)})]})]})]}),r("div",{className:"orderInfo w-fit flex-1 rounded border-2 border-gray-400 bg-slate-100 bg-gradient-to-bl from-orangeLight to-slate-600 p-2 text-neutral-content shadow-lg drop-shadow-md",children:[r("h3",{className:"mb-2 flex items-center justify-between rounded-sm border-2 py-1 text-center font-semibold ",children:["User Information's"," ",e("img",{src:s.avatarUrl,alt:s.avatarName,className:"avatar cursor-pointer rounded-full transition-all md:h-6 md:w-6 md:hover:scale-[200%]"})]}),r("div",{className:"flex flex-col",children:[r("div",{className:"orderInfo__item",children:[e("span",{className:"orderInfo__item-label",children:"User ID: "}),e("span",{className:"orderInfo__item-value",children:s._id})]}),r("div",{className:"orderInfo__item",children:[e("span",{className:"orderInfo__item-label",children:"User Name: "}),e("span",{className:"orderInfo__item-value",children:a.name})]}),r("div",{className:"orderInfo__item",children:[e("span",{className:"orderInfo__item-label",children:"User Email: "}),e("span",{className:"orderInfo__item-value",children:a.email})]}),r("div",{className:"orderInfo__item",children:[e("span",{className:"orderInfo__item-label",children:"Phone Number: "}),e("span",{className:"orderInfo__item-value",children:a.phone})]}),r("div",{className:"orderInfo__item",children:[e("span",{className:"orderInfo__item-label",children:"Address: "}),e("span",{className:"orderInfo__item-value",children:e("address",{children:`${a.address}, ${a.city}`})})]})]})]}),r("div",{className:"orderInfo w-fit flex-1 rounded border-2 border-gray-400 bg-slate-100 bg-gradient-to-tr from-pink-500 to-gray-600 p-2 text-neutral-content shadow-lg drop-shadow-md",children:[e("h3",{className:"mb-2 rounded-sm border-2 py-1 text-center font-semibold ",children:"Products Ordered Information's"}),r("div",{className:"flex flex-col",children:[e("div",{className:"orderInfo__item",children:r("span",{className:"orderInfo__item-label",children:["Total quantity: ",o," "]})}),r("span",{className:"orderInfo__item-label text-white ",children:["Products:"," "]}),e("div",{className:"orderInfo__item overflow-x-auto",children:r("table",{className:"table-zebra  w-full text-gray-800  ",children:[e("thead",{children:r("tr",{children:[e("th",{}),e("th",{className:"font-semibold",children:"Name"}),e("th",{className:"font-semibold",children:"Price"}),e("th",{className:"font-semibold",children:"Quantity"}),e("th",{className:"font-semibold",children:"Total"})]})}),e("tbody",{children:l.map((i,m)=>r("tr",{className:"hover",children:[e("th",{children:m+1}),e("td",{children:i.productItem.name}),e("td",{children:W(i.productItem.price)}),e("td",{children:i.quantity}),e("td",{children:W(i.quantity*i.productItem.price)})]},m))})]})}),e("div",{className:"text-right font-extrabold text-white",children:r("span",{children:["Sum: ",W(a.total)]})})]})]})]})]})}function Ls(){return r("div",{className:"mx-auto",children:[e("main",{children:e(Vr,{children:r(da,{children:[r(w,{path:"/",element:e(br,{}),children:[e(w,{index:!0,element:e(Ta,{})}),e(w,{path:"products",element:e(Sr,{})}),e(w,{path:"products/:id",element:e(vr,{})}),e(w,{path:"categories/:id",element:e(Wr,{})}),e(w,{path:"cart",element:e(Zr,{})}),e(w,{path:"profile",element:e(os,{})}),e(w,{path:"orders",element:e(Ss,{})}),e(w,{path:"about",element:e(wa,{})}),e(w,{path:"signin",element:e(Ur,{})}),e(w,{path:"signup",element:e(Ar,{})}),e(w,{path:"cart/checkout",element:e(ws,{})})]}),r(w,{path:"admin",element:e(Tr,{children:e(Za,{})}),children:[e(w,{index:!0,element:e(at,{to:"dashboard"})}),e(w,{path:"dashboard",element:e(ls,{})}),r(w,{path:"products",children:[e(w,{index:!0,element:e(Cr,{})}),e(w,{path:"add",element:e(jr,{})}),e(w,{path:":id/edit",element:e(Pr,{})})]}),r(w,{path:"categories",children:[e(w,{index:!0,element:e(qr,{})}),e(w,{path:"add",element:e(Dr,{})}),e(w,{path:":id/edit",element:e(Er,{})}),e(w,{path:":id/view",element:e(Yr,{})})]}),r(w,{path:"banners",children:[e(w,{index:!0,element:e(ts,{})}),e(w,{path:"add",element:e(as,{})}),e(w,{path:":id/edit",element:e(rs,{})})]}),e(w,{path:"users",children:e(w,{index:!0,element:e(Xr,{})})}),r(w,{path:"orders",children:[e(w,{index:!0,element:e(ys,{})}),e(w,{path:":orderId/edit",element:e(ks,{})}),e(w,{path:":orderId/view",element:e(_s,{})})]})]}),e(w,{path:"*",element:e("h1",{children:"404"})})]})})}),e(ma,{autoClose:2500,limit:5})]})}const Ps={key:"root",storage:ga,version:1},Bs=ha({products:Nr,categories:dr,category:Fr,auth:Fa,message:Ea,users:Jr,cart:Ja,orders:xs,banner:Oa}),Os=ua(Ps,Bs),wt=fa({reducer:Os,middleware:a=>a({serializableCheck:!1})});const Rs=pa(wt);ba.render(e(x.exports.StrictMode,{children:e(xa,{children:e(ya,{store:wt,children:e(Na,{persistor:Rs,children:e(Ls,{})})})})}),document.querySelector("#root"));
